(function(){const W=document.createElement("link").relList;if(W&&W.supports&&W.supports("modulepreload"))return;for(const Z of document.querySelectorAll('link[rel="modulepreload"]'))P(Z);new MutationObserver(Z=>{for(const le of Z)if(le.type==="childList")for(const $ of le.addedNodes)$.tagName==="LINK"&&$.rel==="modulepreload"&&P($)}).observe(document,{childList:!0,subtree:!0});function I(Z){const le={};return Z.integrity&&(le.integrity=Z.integrity),Z.referrerPolicy&&(le.referrerPolicy=Z.referrerPolicy),Z.crossOrigin==="use-credentials"?le.credentials="include":Z.crossOrigin==="anonymous"?le.credentials="omit":le.credentials="same-origin",le}function P(Z){if(Z.ep)return;Z.ep=!0;const le=I(Z);fetch(Z.href,le)}})();function np(L){return L&&L.__esModule&&Object.prototype.hasOwnProperty.call(L,"default")?L.default:L}var jf={exports:{}},Yu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function yg(){if(Sv)return Yu;Sv=1;var L=Symbol.for("react.transitional.element"),W=Symbol.for("react.fragment");function I(P,Z,le){var $=null;if(le!==void 0&&($=""+le),Z.key!==void 0&&($=""+Z.key),"key"in Z){le={};for(var g in Z)g!=="key"&&(le[g]=Z[g])}else le=Z;return Z=le.ref,{$$typeof:L,type:P,key:$,ref:Z!==void 0?Z:null,props:le}}return Yu.Fragment=W,Yu.jsx=I,Yu.jsxs=I,Yu}var bv;function Sg(){return bv||(bv=1,jf.exports=yg()),jf.exports}var Te=Sg(),Wf={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function bg(){if(Cv)return Ve;Cv=1;var L=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),$=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,A={};function c(O,G,se){this.props=O,this.context=G,this.refs=A,this.updater=se||M}c.prototype.isReactComponent={},c.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},c.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function f(){}f.prototype=c.prototype;function d(O,G,se){this.props=O,this.context=G,this.refs=A,this.updater=se||M}var v=d.prototype=new f;v.constructor=d,k(v,c.prototype),v.isPureReactComponent=!0;var C=Array.isArray,x={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function U(O,G,se,fe,we,De){return se=De.ref,{$$typeof:L,type:O,key:G,ref:se!==void 0?se:null,props:De}}function E(O,G){return U(O.type,G,void 0,void 0,void 0,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===L}function Q(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(se){return G[se]})}var te=/\/+/g;function X(O,G){return typeof O=="object"&&O!==null&&O.key!=null?Q(""+O.key):G.toString(36)}function ie(){}function _e(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ie,ie):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ue(O,G,se,fe,we){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var Be=!1;if(O===null)Be=!0;else switch(De){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(O.$$typeof){case L:case W:Be=!0;break;case b:return Be=O._init,ue(Be(O._payload),G,se,fe,we)}}if(Be)return we=we(O),Be=fe===""?"."+X(O,0):fe,C(we)?(se="",Be!=null&&(se=Be.replace(te,"$&/")+"/"),ue(we,G,se,"",function(me){return me})):we!=null&&(N(we)&&(we=E(we,se+(we.key==null||O&&O.key===we.key?"":(""+we.key).replace(te,"$&/")+"/")+Be)),G.push(we)),1;Be=0;var j=fe===""?".":fe+":";if(C(O))for(var oe=0;oe<O.length;oe++)fe=O[oe],De=j+X(fe,oe),Be+=ue(fe,G,se,De,we);else if(oe=T(O),typeof oe=="function")for(O=oe.call(O),oe=0;!(fe=O.next()).done;)fe=fe.value,De=j+X(fe,oe++),Be+=ue(fe,G,se,De,we);else if(De==="object"){if(typeof O.then=="function")return ue(_e(O),G,se,fe,we);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Be}function K(O,G,se){if(O==null)return O;var fe=[],we=0;return ue(O,fe,"","",function(De){return G.call(se,De,we++)}),fe}function J(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(se){(O._status===0||O._status===-1)&&(O._status=1,O._result=se)},function(se){(O._status===0||O._status===-1)&&(O._status=2,O._result=se)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var z=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function q(){}return Ve.Children={map:K,forEach:function(O,G,se){K(O,function(){G.apply(this,arguments)},se)},count:function(O){var G=0;return K(O,function(){G++}),G},toArray:function(O){return K(O,function(G){return G})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ve.Component=c,Ve.Fragment=I,Ve.Profiler=Z,Ve.PureComponent=d,Ve.StrictMode=P,Ve.Suspense=_,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(O){return x.H.useMemoCache(O)}},Ve.cache=function(O){return function(){return O.apply(null,arguments)}},Ve.cloneElement=function(O,G,se){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var fe=k({},O.props),we=O.key,De=void 0;if(G!=null)for(Be in G.ref!==void 0&&(De=void 0),G.key!==void 0&&(we=""+G.key),G)!H.call(G,Be)||Be==="key"||Be==="__self"||Be==="__source"||Be==="ref"&&G.ref===void 0||(fe[Be]=G[Be]);var Be=arguments.length-2;if(Be===1)fe.children=se;else if(1<Be){for(var j=Array(Be),oe=0;oe<Be;oe++)j[oe]=arguments[oe+2];fe.children=j}return U(O.type,we,void 0,void 0,De,fe)},Ve.createContext=function(O){return O={$$typeof:$,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:le,_context:O},O},Ve.createElement=function(O,G,se){var fe,we={},De=null;if(G!=null)for(fe in G.key!==void 0&&(De=""+G.key),G)H.call(G,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(we[fe]=G[fe]);var Be=arguments.length-2;if(Be===1)we.children=se;else if(1<Be){for(var j=Array(Be),oe=0;oe<Be;oe++)j[oe]=arguments[oe+2];we.children=j}if(O&&O.defaultProps)for(fe in Be=O.defaultProps,Be)we[fe]===void 0&&(we[fe]=Be[fe]);return U(O,De,void 0,void 0,null,we)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(O){return{$$typeof:g,render:O}},Ve.isValidElement=N,Ve.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:J}},Ve.memo=function(O,G){return{$$typeof:m,type:O,compare:G===void 0?null:G}},Ve.startTransition=function(O){var G=x.T,se={};x.T=se;try{var fe=O(),we=x.S;we!==null&&we(se,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(q,z)}catch(De){z(De)}finally{x.T=G}},Ve.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ve.use=function(O){return x.H.use(O)},Ve.useActionState=function(O,G,se){return x.H.useActionState(O,G,se)},Ve.useCallback=function(O,G){return x.H.useCallback(O,G)},Ve.useContext=function(O){return x.H.useContext(O)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(O,G){return x.H.useDeferredValue(O,G)},Ve.useEffect=function(O,G,se){var fe=x.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(O,G)},Ve.useId=function(){return x.H.useId()},Ve.useImperativeHandle=function(O,G,se){return x.H.useImperativeHandle(O,G,se)},Ve.useInsertionEffect=function(O,G){return x.H.useInsertionEffect(O,G)},Ve.useLayoutEffect=function(O,G){return x.H.useLayoutEffect(O,G)},Ve.useMemo=function(O,G){return x.H.useMemo(O,G)},Ve.useOptimistic=function(O,G){return x.H.useOptimistic(O,G)},Ve.useReducer=function(O,G,se){return x.H.useReducer(O,G,se)},Ve.useRef=function(O){return x.H.useRef(O)},Ve.useState=function(O){return x.H.useState(O)},Ve.useSyncExternalStore=function(O,G,se){return x.H.useSyncExternalStore(O,G,se)},Ve.useTransition=function(){return x.H.useTransition()},Ve.version="19.1.0",Ve}var wv;function Bh(){return wv||(wv=1,Wf.exports=bg()),Wf.exports}var st=Bh(),qf={exports:{}},Xu={},Gf={exports:{}},Kf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function Cg(){return xv||(xv=1,function(L){function W(K,J){var z=K.length;K.push(J);e:for(;0<z;){var q=z-1>>>1,O=K[q];if(0<Z(O,J))K[q]=J,K[z]=O,z=q;else break e}}function I(K){return K.length===0?null:K[0]}function P(K){if(K.length===0)return null;var J=K[0],z=K.pop();if(z!==J){K[0]=z;e:for(var q=0,O=K.length,G=O>>>1;q<G;){var se=2*(q+1)-1,fe=K[se],we=se+1,De=K[we];if(0>Z(fe,z))we<O&&0>Z(De,fe)?(K[q]=De,K[we]=z,q=we):(K[q]=fe,K[se]=z,q=se);else if(we<O&&0>Z(De,z))K[q]=De,K[we]=z,q=we;else break e}}return J}function Z(K,J){var z=K.sortIndex-J.sortIndex;return z!==0?z:K.id-J.id}if(L.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var le=performance;L.unstable_now=function(){return le.now()}}else{var $=Date,g=$.now();L.unstable_now=function(){return $.now()-g}}var _=[],m=[],b=1,y=null,T=3,M=!1,k=!1,A=!1,c=!1,f=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function C(K){for(var J=I(m);J!==null;){if(J.callback===null)P(m);else if(J.startTime<=K)P(m),J.sortIndex=J.expirationTime,W(_,J);else break;J=I(m)}}function x(K){if(A=!1,C(K),!k)if(I(_)!==null)k=!0,H||(H=!0,X());else{var J=I(m);J!==null&&ue(x,J.startTime-K)}}var H=!1,U=-1,E=5,N=-1;function Q(){return c?!0:!(L.unstable_now()-N<E)}function te(){if(c=!1,H){var K=L.unstable_now();N=K;var J=!0;try{e:{k=!1,A&&(A=!1,d(U),U=-1),M=!0;var z=T;try{t:{for(C(K),y=I(_);y!==null&&!(y.expirationTime>K&&Q());){var q=y.callback;if(typeof q=="function"){y.callback=null,T=y.priorityLevel;var O=q(y.expirationTime<=K);if(K=L.unstable_now(),typeof O=="function"){y.callback=O,C(K),J=!0;break t}y===I(_)&&P(_),C(K)}else P(_);y=I(_)}if(y!==null)J=!0;else{var G=I(m);G!==null&&ue(x,G.startTime-K),J=!1}}break e}finally{y=null,T=z,M=!1}J=void 0}}finally{J?X():H=!1}}}var X;if(typeof v=="function")X=function(){v(te)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,_e=ie.port2;ie.port1.onmessage=te,X=function(){_e.postMessage(null)}}else X=function(){f(te,0)};function ue(K,J){U=f(function(){K(L.unstable_now())},J)}L.unstable_IdlePriority=5,L.unstable_ImmediatePriority=1,L.unstable_LowPriority=4,L.unstable_NormalPriority=3,L.unstable_Profiling=null,L.unstable_UserBlockingPriority=2,L.unstable_cancelCallback=function(K){K.callback=null},L.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<K?Math.floor(1e3/K):5},L.unstable_getCurrentPriorityLevel=function(){return T},L.unstable_next=function(K){switch(T){case 1:case 2:case 3:var J=3;break;default:J=T}var z=T;T=J;try{return K()}finally{T=z}},L.unstable_requestPaint=function(){c=!0},L.unstable_runWithPriority=function(K,J){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var z=T;T=K;try{return J()}finally{T=z}},L.unstable_scheduleCallback=function(K,J,z){var q=L.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?q+z:q):z=q,K){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=z+O,K={id:b++,callback:J,priorityLevel:K,startTime:z,expirationTime:O,sortIndex:-1},z>q?(K.sortIndex=z,W(m,K),I(_)===null&&K===I(m)&&(A?(d(U),U=-1):A=!0,ue(x,z-q))):(K.sortIndex=O,W(_,K),k||M||(k=!0,H||(H=!0,X()))),K},L.unstable_shouldYield=Q,L.unstable_wrapCallback=function(K){var J=T;return function(){var z=T;T=J;try{return K.apply(this,arguments)}finally{T=z}}}}(Kf)),Kf}var Ev;function wg(){return Ev||(Ev=1,Gf.exports=Cg()),Gf.exports}var Yf={exports:{}},zi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function xg(){if(Tv)return zi;Tv=1;var L=Bh();function W(_){var m="https://react.dev/errors/"+_;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function I(){}var P={d:{f:I,r:function(){throw Error(W(522))},D:I,C:I,L:I,m:I,X:I,S:I,M:I},p:0,findDOMNode:null},Z=Symbol.for("react.portal");function le(_,m,b){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:y==null?null:""+y,children:_,containerInfo:m,implementation:b}}var $=L.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,m){if(_==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return zi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,zi.createPortal=function(_,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(W(299));return le(_,m,null,b)},zi.flushSync=function(_){var m=$.T,b=P.p;try{if($.T=null,P.p=2,_)return _()}finally{$.T=m,P.p=b,P.d.f()}},zi.preconnect=function(_,m){typeof _=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,P.d.C(_,m))},zi.prefetchDNS=function(_){typeof _=="string"&&P.d.D(_)},zi.preinit=function(_,m){if(typeof _=="string"&&m&&typeof m.as=="string"){var b=m.as,y=g(b,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,M=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?P.d.S(_,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:T,fetchPriority:M}):b==="script"&&P.d.X(_,{crossOrigin:y,integrity:T,fetchPriority:M,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},zi.preinitModule=function(_,m){if(typeof _=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=g(m.as,m.crossOrigin);P.d.M(_,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&P.d.M(_)},zi.preload=function(_,m){if(typeof _=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,y=g(b,m.crossOrigin);P.d.L(_,b,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},zi.preloadModule=function(_,m){if(typeof _=="string")if(m){var b=g(m.as,m.crossOrigin);P.d.m(_,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else P.d.m(_)},zi.requestFormReset=function(_){P.d.r(_)},zi.unstable_batchedUpdates=function(_,m){return _(m)},zi.useFormState=function(_,m,b){return $.H.useFormState(_,m,b)},zi.useFormStatus=function(){return $.H.useHostTransitionStatus()},zi.version="19.1.0",zi}var Dv;function Eg(){if(Dv)return Yf.exports;Dv=1;function L(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L)}catch(W){console.error(W)}}return L(),Yf.exports=xg(),Yf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function Tg(){if(Lv)return Xu;Lv=1;var L=wg(),W=Bh(),I=Eg();function P(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)i+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Z(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function le(e){var i=e,n=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(n=i.return),e=i.return;while(e)}return i.tag===3?n:null}function $(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(le(e)!==e)throw Error(P(188))}function _(e){var i=e.alternate;if(!i){if(i=le(e),i===null)throw Error(P(188));return i!==e?null:e}for(var n=e,a=i;;){var u=n.return;if(u===null)break;var p=u.alternate;if(p===null){if(a=u.return,a!==null){n=a;continue}break}if(u.child===p.child){for(p=u.child;p;){if(p===n)return g(u),e;if(p===a)return g(u),i;p=p.sibling}throw Error(P(188))}if(n.return!==a.return)n=u,a=p;else{for(var B=!1,F=u.child;F;){if(F===n){B=!0,n=u,a=p;break}if(F===a){B=!0,a=u,n=p;break}F=F.sibling}if(!B){for(F=p.child;F;){if(F===n){B=!0,n=p,a=u;break}if(F===a){B=!0,a=p,n=u;break}F=F.sibling}if(!B)throw Error(P(189))}}if(n.alternate!==a)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:i}function m(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=m(e),i!==null)return i;e=e.sibling}return null}var b=Object.assign,y=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),d=Symbol.for("react.consumer"),v=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=te&&e[te]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Symbol.for("react.client.reference");function _e(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case c:return"Profiler";case A:return"StrictMode";case x:return"Suspense";case H:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case v:return(e.displayName||"Context")+".Provider";case d:return(e._context.displayName||"Context")+".Consumer";case C:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case U:return i=e.displayName||null,i!==null?i:_e(e.type)||"Memo";case E:i=e._payload,e=e._init;try{return _e(e(i))}catch{}}return null}var ue=Array.isArray,K=W.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=I.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},q=[],O=-1;function G(e){return{current:e}}function se(e){0>O||(e.current=q[O],q[O]=null,O--)}function fe(e,i){O++,q[O]=e.current,e.current=i}var we=G(null),De=G(null),Be=G(null),j=G(null);function oe(e,i){switch(fe(Be,i),fe(De,e),fe(we,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Xd(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Xd(i),e=Zd(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}se(we),fe(we,e)}function me(){se(we),se(De),se(Be)}function ye(e){e.memoizedState!==null&&fe(j,e);var i=we.current,n=Zd(i,e.type);i!==n&&(fe(De,e),fe(we,n))}function Ne(e){De.current===e&&(se(we),se(De)),j.current===e&&(se(j),ju._currentValue=z)}var Oe=Object.prototype.hasOwnProperty,$e=L.unstable_scheduleCallback,vt=L.unstable_cancelCallback,ei=L.unstable_shouldYield,Ki=L.unstable_requestPaint,We=L.unstable_now,_r=L.unstable_getCurrentPriorityLevel,Qr=L.unstable_ImmediatePriority,et=L.unstable_UserBlockingPriority,nr=L.unstable_NormalPriority,Jn=L.unstable_LowPriority,gi=L.unstable_IdlePriority,Vr=L.log,Yi=L.unstable_setDisableYieldValue,Ui=null,jt=null;function ti(e){if(typeof Vr=="function"&&Yi(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Ui,e)}catch{}}var ui=Math.clz32?Math.clz32:gt,Xi=Math.log,Jr=Math.LN2;function gt(e){return e>>>=0,e===0?32:31-(Xi(e)/Jr|0)|0}var $n=256,$r=4194304;function sr(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ra(e,i,n){var a=e.pendingLanes;if(a===0)return 0;var u=0,p=e.suspendedLanes,B=e.pingedLanes;e=e.warmLanes;var F=a&134217727;return F!==0?(a=F&~p,a!==0?u=sr(a):(B&=F,B!==0?u=sr(B):n||(n=F&~e,n!==0&&(u=sr(n))))):(F=a&~p,F!==0?u=sr(F):B!==0?u=sr(B):n||(n=a&~e,n!==0&&(u=sr(n)))),u===0?0:i!==0&&i!==u&&(i&p)===0&&(p=u&-u,n=i&-i,p>=n||p===32&&(n&4194048)!==0)?i:u}function Pi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function $u(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function je(){var e=$n;return $n<<=1,($n&4194048)===0&&($n=256),e}function na(){var e=$r;return $r<<=1,($r&62914560)===0&&($r=4194304),e}function yi(e){for(var i=[],n=0;31>n;n++)i.push(e);return i}function xt(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yt(e,i,n,a,u,p){var B=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var F=e.entanglements,ee=e.expirationTimes,de=e.hiddenUpdates;for(n=B&~n;0<n;){var be=31-ui(n),Ee=1<<be;F[be]=0,ee[be]=-1;var ve=de[be];if(ve!==null)for(de[be]=null,be=0;be<ve.length;be++){var ge=ve[be];ge!==null&&(ge.lane&=-536870913)}n&=~Ee}a!==0&&yo(e,a,0),p!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=p&~(B&~i))}function yo(e,i,n){e.pendingLanes|=i,e.suspendedLanes&=~i;var a=31-ui(i);e.entangledLanes|=i,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function Ii(e,i){var n=e.entangledLanes|=i;for(e=e.entanglements;n;){var a=31-ui(n),u=1<<a;u&i|e[a]&i&&(e[a]|=i),n&=~u}}function en(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ci(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function So(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:vv(e.type))}function bo(e,i){var n=J.p;try{return J.p=e,i()}finally{J.p=n}}var Zi=Math.random().toString(36).slice(2),ii="__reactFiber$"+Zi,Si="__reactProps$"+Zi,es="__reactContainer$"+Zi,ol="__reactEvents$"+Zi,Ih="__reactListeners$"+Zi,Co="__reactHandles$"+Zi,ec="__reactResources$"+Zi,Ln="__reactMarker$"+Zi;function wo(e){delete e[ii],delete e[Si],delete e[ol],delete e[Ih],delete e[Co]}function ts(e){var i=e[ii];if(i)return i;for(var n=e.parentNode;n;){if(i=n[es]||n[ii]){if(n=i.alternate,i.child!==null||n!==null&&n.child!==null)for(e=$d(e);e!==null;){if(n=e[ii])return n;e=$d(e)}return i}e=n,n=e.parentNode}return null}function tn(e){if(e=e[ii]||e[es]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function ul(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(P(33))}function rn(e){var i=e[ec];return i||(i=e[ec]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Mt(e){e[Ln]=!0}var tc=new Set,ic={};function mr(e,i){nn(e,i),nn(e+"Capture",i)}function nn(e,i){for(ic[e]=i,e=0;e<i.length;e++)tc.add(i[e])}var is=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rc={},sn={};function xo(e){return Oe.call(sn,e)?!0:Oe.call(rc,e)?!1:is.test(e)?sn[e]=!0:(rc[e]=!0,!1)}function cl(e,i,n){if(xo(i))if(n===null)e.removeAttribute(i);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var a=i.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+n)}}function Tt(e,i,n){if(n===null)e.removeAttribute(i);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+n)}}function He(e,i,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(i,n,""+a)}}var Mr,sa;function bi(e){if(Mr===void 0)try{throw Error()}catch(n){var i=n.stack.trim().match(/\n( *(at )?)/);Mr=i&&i[1]||"",sa=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mr+e+sa}var ot=!1;function Rr(e,i){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(i){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(ge){var ve=ge}Reflect.construct(e,[],Ee)}else{try{Ee.call()}catch(ge){ve=ge}e.call(Ee.prototype)}}else{try{throw Error()}catch(ge){ve=ge}(Ee=e())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(ge){if(ge&&ve&&typeof ge.stack=="string")return[ge.stack,ve.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=a.DetermineComponentFrameRoot(),B=p[0],F=p[1];if(B&&F){var ee=B.split(`
`),de=F.split(`
`);for(u=a=0;a<ee.length&&!ee[a].includes("DetermineComponentFrameRoot");)a++;for(;u<de.length&&!de[u].includes("DetermineComponentFrameRoot");)u++;if(a===ee.length||u===de.length)for(a=ee.length-1,u=de.length-1;1<=a&&0<=u&&ee[a]!==de[u];)u--;for(;1<=a&&0<=u;a--,u--)if(ee[a]!==de[u]){if(a!==1||u!==1)do if(a--,u--,0>u||ee[a]!==de[u]){var be=`
`+ee[a].replace(" at new "," at ");return e.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",e.displayName)),be}while(1<=a&&0<=u);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?bi(n):""}function hl(e){switch(e.tag){case 26:case 27:case 5:return bi(e.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Rr(e.type,!1);case 11:return Rr(e.type.render,!1);case 1:return Rr(e.type,!0);case 31:return bi("Activity");default:return""}}function la(e){try{var i="";do i+=hl(e),e=e.return;while(e);return i}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ge(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Eo(e){var i=Ge(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),a=""+e[i];if(!e.hasOwnProperty(i)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var u=n.get,p=n.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return u.call(this)},set:function(B){a=""+B,p.call(this,B)}}),Object.defineProperty(e,i,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(B){a=""+B},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function rs(e){e._valueTracker||(e._valueTracker=Eo(e))}function fl(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var n=i.getValue(),a="";return e&&(a=Ge(e)?e.checked?"true":"false":e.value),e=a,e!==n?(i.setValue(e),!0):!1}function An(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var nc=/[\n"\\]/g;function Pe(e){return e.replace(nc,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function To(e,i,n,a,u,p,B,F){e.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?e.type=B:e.removeAttribute("type"),i!=null?B==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+xe(i)):e.value!==""+xe(i)&&(e.value=""+xe(i)):B!=="submit"&&B!=="reset"||e.removeAttribute("value"),i!=null?ns(e,B,xe(i)):n!=null?ns(e,B,xe(n)):a!=null&&e.removeAttribute("value"),u==null&&p!=null&&(e.defaultChecked=!!p),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?e.name=""+xe(F):e.removeAttribute("name")}function Do(e,i,n,a,u,p,B,F){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),i!=null||n!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;n=n!=null?""+xe(n):"",i=i!=null?""+xe(i):n,F||i===e.value||(e.value=i),e.defaultValue=i}a=a??u,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=F?e.checked:!!a,e.defaultChecked=!!a,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(e.name=B)}function ns(e,i,n){i==="number"&&An(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ci(e,i,n,a){if(e=e.options,i){i={};for(var u=0;u<n.length;u++)i["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=i.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&a&&(e[n].defaultSelected=!0)}else{for(n=""+xe(n),i=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}i!==null||e[u].disabled||(i=e[u])}i!==null&&(i.selected=!0)}}function Lo(e,i,n){if(i!=null&&(i=""+xe(i),i!==e.value&&(e.value=i),n==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=n!=null?""+xe(n):""}function Ao(e,i,n,a){if(i==null){if(a!=null){if(n!=null)throw Error(P(92));if(ue(a)){if(1<a.length)throw Error(P(93));a=a[0]}n=a}n==null&&(n=""),i=n}n=xe(i),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function yr(e,i){if(i){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=i;return}}e.textContent=i}var Mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(e,i,n){var a=i.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":a?e.setProperty(i,n):typeof n!="number"||n===0||Mo.has(i)?i==="float"?e.cssFloat=n:e[i]=(""+n).trim():e[i]=n+"px"}function aa(e,i,n){if(i!=null&&typeof i!="object")throw Error(P(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||i!=null&&i.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var u in i)a=i[u],i.hasOwnProperty(u)&&n[u]!==a&&Ro(e,u,a)}else for(var p in i)i.hasOwnProperty(p)&&Ro(e,p,i[p])}function oa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dl(e){return lc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ko=null;function Oo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mn=null,Ri=null;function ac(e){var i=tn(e);if(i&&(e=i.stateNode)){var n=e[Si]||null;e:switch(e=i.stateNode,i.type){case"input":if(To(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),i=n.name,n.type==="radio"&&i!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Pe(""+i)+'"][type="radio"]'),i=0;i<n.length;i++){var a=n[i];if(a!==e&&a.form===e.form){var u=a[Si]||null;if(!u)throw Error(P(90));To(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(i=0;i<n.length;i++)a=n[i],a.form===e.form&&fl(a)}break e;case"textarea":Lo(e,n.value,n.defaultValue);break e;case"select":i=n.value,i!=null&&Ci(e,!!n.multiple,i,!1)}}}var Bo=!1;function vl(e,i,n){if(Bo)return e(i,n);Bo=!0;try{var a=e(i);return a}finally{if(Bo=!1,(Mn!==null||Ri!==null)&&(rh(),Mn&&(i=Mn,e=Ri,Ri=Mn=null,ac(i),e)))for(i=0;i<e.length;i++)ac(e[i])}}function kr(e,i){var n=e.stateNode;if(n===null)return null;var a=n[Si]||null;if(a===null)return null;n=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,i,typeof n));return n}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ho=!1;if(Or)try{var pl={};Object.defineProperty(pl,"passive",{get:function(){Ho=!0}}),window.addEventListener("test",pl,pl),window.removeEventListener("test",pl,pl)}catch{Ho=!1}var ln=null,gl=null,_l=null;function oc(){if(_l)return _l;var e,i=gl,n=i.length,a,u="value"in ln?ln.value:ln.textContent,p=u.length;for(e=0;e<n&&i[e]===u[e];e++);var B=n-e;for(a=1;a<=B&&i[n-a]===u[p-a];a++);return _l=u.slice(e,1<a?1-a:void 0)}function ml(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function yl(){return!0}function Sl(){return!1}function hi(e){function i(n,a,u,p,B){this._reactName=n,this._targetInst=u,this.type=a,this.nativeEvent=p,this.target=B,this.currentTarget=null;for(var F in e)e.hasOwnProperty(F)&&(n=e[F],this[F]=n?n(p):p[F]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?yl:Sl,this.isPropagationStopped=Sl,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),i}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=hi(Br),ss=b({},Br,{view:0,detail:0}),ua=hi(ss),No,ca,wi,ha=b({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Po,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(No=e.screenX-wi.screenX,ca=e.screenY-wi.screenY):ca=No=0,wi=e),No)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),uc=hi(ha),zo=b({},ha,{dataTransfer:0}),cc=hi(zo),an=b({},ss,{relatedTarget:0}),Cl=hi(an),Hr=b({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),fa=hi(Hr),Uo=b({},Br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ls=hi(Uo),Fh=b({},Br,{data:0}),hc=hi(Fh),jh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dc(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=fc[e])?!!i[e]:!1}function Po(){return dc}var qh=b({},ss,{key:function(e){if(e.key){var i=jh[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ml(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Po,charCode:function(e){return e.type==="keypress"?ml(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ml(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gh=hi(qh),Kh=b({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Io=hi(Kh),Yh=b({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Po}),vc=hi(Yh),da=b({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),as=hi(da),Xh=b({},ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zh=hi(Xh),Qh=b({},Br,{newState:0,oldState:0}),wl=hi(Qh),Xt=[9,13,27,32],Fo=Or&&"CompositionEvent"in window,os=null;Or&&"documentMode"in document&&(os=document.documentMode);var xl=Or&&"TextEvent"in window&&!os,pc=Or&&(!Fo||os&&8<os&&11>=os),jo=" ",gc=!1;function va(e,i){switch(e){case"keyup":return Xt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var us=!1;function Vh(e,i){switch(e){case"compositionend":return Wo(i);case"keypress":return i.which!==32?null:(gc=!0,jo);case"textInput":return e=i.data,e===jo&&gc?null:e;default:return null}}function _c(e,i){if(us)return e==="compositionend"||!Fo&&va(e,i)?(e=oc(),_l=gl=ln=null,us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return pc&&i.locale!=="ko"?null:i.data;default:return null}}var mc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yc(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!mc[e.type]:i==="textarea"}function cs(e,i,n,a){Mn?Ri?Ri.push(a):Ri=[a]:Mn=a,i=uh(i,"onChange"),0<i.length&&(n=new bl("onChange","change",null,n,a),e.push({event:n,listeners:i}))}var Fi=null,on=null;function qo(e){Wd(e,0)}function El(e){var i=ul(e);if(fl(i))return e}function lr(e,i){if(e==="change")return i}var un=!1;if(Or){var Tl;if(Or){var Go="oninput"in document;if(!Go){var Ko=document.createElement("div");Ko.setAttribute("oninput","return;"),Go=typeof Ko.oninput=="function"}Tl=Go}else Tl=!1;un=Tl&&(!document.documentMode||9<document.documentMode)}function Sc(){Fi&&(Fi.detachEvent("onpropertychange",Yo),on=Fi=null)}function Yo(e){if(e.propertyName==="value"&&El(on)){var i=[];cs(i,on,e,Oo(e)),vl(qo,i)}}function Xo(e,i,n){e==="focusin"?(Sc(),Fi=i,on=n,Fi.attachEvent("onpropertychange",Yo)):e==="focusout"&&Sc()}function hs(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return El(on)}function Sr(e,i){if(e==="click")return El(i)}function bc(e,i){if(e==="input"||e==="change")return El(i)}function Cc(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var ji=typeof Object.is=="function"?Object.is:Cc;function Dl(e,i){if(ji(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var n=Object.keys(e),a=Object.keys(i);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var u=n[a];if(!Oe.call(i,u)||!ji(e[u],i[u]))return!1}return!0}function wc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zo(e,i){var n=wc(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=i&&a>=i)return{node:n,offset:i-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wc(n)}}function Qo(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Qo(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function fs(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=An(e.document);i instanceof e.HTMLIFrameElement;){try{var n=typeof i.contentWindow.location.href=="string"}catch{n=!1}if(n)e=i.contentWindow;else break;i=An(e.document)}return i}function pa(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var xc=Or&&"documentMode"in document&&11>=document.documentMode,cn=null,ds=null,vs=null,ps=!1;function Qi(e,i,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ps||cn==null||cn!==An(a)||(a=cn,"selectionStart"in a&&pa(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),vs&&Dl(vs,a)||(vs=a,a=uh(ds,"onSelect"),0<a.length&&(i=new bl("onSelect","select",null,i,n),e.push({event:i,listeners:a}),i.target=cn)))}function hn(e,i){var n={};return n[e.toLowerCase()]=i.toLowerCase(),n["Webkit"+e]="webkit"+i,n["Moz"+e]="moz"+i,n}var fn={animationend:hn("Animation","AnimationEnd"),animationiteration:hn("Animation","AnimationIteration"),animationstart:hn("Animation","AnimationStart"),transitionrun:hn("Transition","TransitionRun"),transitionstart:hn("Transition","TransitionStart"),transitioncancel:hn("Transition","TransitionCancel"),transitionend:hn("Transition","TransitionEnd")},Ll={},Vo={};Or&&(Vo=document.createElement("div").style,"AnimationEvent"in window||(delete fn.animationend.animation,delete fn.animationiteration.animation,delete fn.animationstart.animation),"TransitionEvent"in window||delete fn.transitionend.transition);function dn(e){if(Ll[e])return Ll[e];if(!fn[e])return e;var i=fn[e],n;for(n in i)if(i.hasOwnProperty(n)&&n in Vo)return Ll[e]=i[n];return e}var ga=dn("animationend"),Ec=dn("animationiteration"),Tc=dn("animationstart"),Jh=dn("transitionrun"),Rn=dn("transitionstart"),gs=dn("transitioncancel"),kn=dn("transitionend"),_a=new Map,Al="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Al.push("scrollEnd");function Vi(e,i){_a.set(e,i),mr(i,[e])}var ma=new WeakMap;function ri(e,i){if(typeof e=="object"&&e!==null){var n=ma.get(e);return n!==void 0?n:(i={value:e,source:i,stack:la(i)},ma.set(e,i),i)}return{value:e,source:i,stack:la(i)}}var ni=[],Wt=0,br=0;function ar(){for(var e=Wt,i=br=Wt=0;i<e;){var n=ni[i];ni[i++]=null;var a=ni[i];ni[i++]=null;var u=ni[i];ni[i++]=null;var p=ni[i];if(ni[i++]=null,a!==null&&u!==null){var B=a.pending;B===null?u.next=u:(u.next=B.next,B.next=u),a.pending=u}p!==0&&_s(n,u,p)}}function On(e,i,n,a){ni[Wt++]=e,ni[Wt++]=i,ni[Wt++]=n,ni[Wt++]=a,br|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Jo(e,i,n,a){return On(e,i,n,a),Ml(e)}function Bn(e,i){return On(e,null,null,i),Ml(e)}function _s(e,i,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var u=!1,p=e.return;p!==null;)p.childLanes|=n,a=p.alternate,a!==null&&(a.childLanes|=n),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(u=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,u&&i!==null&&(u=31-ui(n),e=p.hiddenUpdates,a=e[u],a===null?e[u]=[i]:a.push(i),i.lane=n|536870912),p):null}function Ml(e){if(50<Bu)throw Bu=0,ff=null,Error(P(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var vn={};function ya(e,i,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(e,i,n,a){return new ya(e,i,n,a)}function Rl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cr(e,i){var n=e.alternate;return n===null?(n=Wi(e.tag,i,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=i,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,i=e.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Sa(e,i){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,i=n.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function ms(e,i,n,a,u,p){var B=0;if(a=e,typeof e=="function")Rl(e)&&(B=1);else if(typeof e=="string")B=lg(e,n,we.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case N:return e=Wi(31,n,i,u),e.elementType=N,e.lanes=p,e;case k:return Ji(n.children,u,p,i);case A:B=8,u|=24;break;case c:return e=Wi(12,n,i,u|2),e.elementType=c,e.lanes=p,e;case x:return e=Wi(13,n,i,u),e.elementType=x,e.lanes=p,e;case H:return e=Wi(19,n,i,u),e.elementType=H,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case f:case v:B=10;break e;case d:B=9;break e;case C:B=11;break e;case U:B=14;break e;case E:B=16,a=null;break e}B=29,n=Error(P(130,e===null?"null":typeof e,"")),a=null}return i=Wi(B,n,i,u),i.elementType=e,i.type=a,i.lanes=p,i}function Ji(e,i,n,a){return e=Wi(7,e,a,i),e.lanes=n,e}function ys(e,i,n){return e=Wi(6,e,null,i),e.lanes=n,e}function ba(e,i,n){return i=Wi(4,e.children!==null?e.children:[],e.key,i),i.lanes=n,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Nr=[],Ss=0,Ca=null,wa=0,ki=[],Oi=0,$i=null,qi=1,zr="";function wr(e,i){Nr[Ss++]=wa,Nr[Ss++]=Ca,Ca=e,wa=i}function $o(e,i,n){ki[Oi++]=qi,ki[Oi++]=zr,ki[Oi++]=$i,$i=e;var a=qi;e=zr;var u=32-ui(a)-1;a&=~(1<<u),n+=1;var p=32-ui(i)+u;if(30<p){var B=u-u%5;p=(a&(1<<B)-1).toString(32),a>>=B,u-=B,qi=1<<32-ui(i)+u|n<<u|a,zr=p+e}else qi=1<<p|n<<u|a,zr=e}function Hn(e){e.return!==null&&(wr(e,1),$o(e,1,0))}function xa(e){for(;e===Ca;)Ca=Nr[--Ss],Nr[Ss]=null,wa=Nr[--Ss],Nr[Ss]=null;for(;e===$i;)$i=ki[--Oi],ki[Oi]=null,zr=ki[--Oi],ki[Oi]=null,qi=ki[--Oi],ki[Oi]=null}var Nt=null,St=null,Je=!1,or=null,xi=!1,Ea=Error(P(519));function pn(e){var i=Error(P(418,""));throw kl(ri(i,e)),Ea}function eu(e){var i=e.stateNode,n=e.type,a=e.memoizedProps;switch(i[ii]=e,i[Si]=a,n){case"dialog":rt("cancel",i),rt("close",i);break;case"iframe":case"object":case"embed":rt("load",i);break;case"video":case"audio":for(n=0;n<Nu.length;n++)rt(Nu[n],i);break;case"source":rt("error",i);break;case"img":case"image":case"link":rt("error",i),rt("load",i);break;case"details":rt("toggle",i);break;case"input":rt("invalid",i),Do(i,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),rs(i);break;case"select":rt("invalid",i);break;case"textarea":rt("invalid",i),Ao(i,a.value,a.defaultValue,a.children),rs(i)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||i.textContent===""+n||a.suppressHydrationWarning===!0||Yd(i.textContent,n)?(a.popover!=null&&(rt("beforetoggle",i),rt("toggle",i)),a.onScroll!=null&&rt("scroll",i),a.onScrollEnd!=null&&rt("scrollend",i),a.onClick!=null&&(i.onclick=ch),i=!0):i=!1,i||pn(e)}function Dc(e){for(Nt=e.return;Nt;)switch(Nt.tag){case 5:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:Nt=Nt.return}}function ur(e){if(e!==Nt)return!1;if(!Je)return Dc(e),Je=!0,!1;var i=e.tag,n;if((n=i!==3&&i!==27)&&((n=i===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Lf(e.type,e.memoizedProps)),n=!n),n&&St&&pn(e),Dc(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(i===0){St=Xr(e.nextSibling);break e}i--}else n!=="$"&&n!=="$!"&&n!=="$?"||i++;e=e.nextSibling}St=null}}else i===27?(i=St,tl(e.type)?(e=kf,kf=null,St=e):St=i):St=Nt?Xr(e.stateNode.nextSibling):null;return!0}function cr(){St=Nt=null,Je=!1}function Lc(){var e=or;return e!==null&&(rr===null?rr=e:rr.push.apply(rr,e),or=null),e}function kl(e){or===null?or=[e]:or.push(e)}var tu=G(null),Nn=null,Ur=null;function gn(e,i,n){fe(tu,i._currentValue),i._currentValue=n}function kt(e){e._currentValue=tu.current,se(tu)}function zt(e,i,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),e===n)break;e=e.return}}function si(e,i,n,a){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var p=u.dependencies;if(p!==null){var B=u.child;p=p.firstContext;e:for(;p!==null;){var F=p;p=u;for(var ee=0;ee<i.length;ee++)if(F.context===i[ee]){p.lanes|=n,F=p.alternate,F!==null&&(F.lanes|=n),zt(p.return,n,e),a||(B=null);break e}p=F.next}}else if(u.tag===18){if(B=u.return,B===null)throw Error(P(341));B.lanes|=n,p=B.alternate,p!==null&&(p.lanes|=n),zt(B,n,e),B=null}else B=u.child;if(B!==null)B.return=u;else for(B=u;B!==null;){if(B===e){B=null;break}if(u=B.sibling,u!==null){u.return=B.return,B=u;break}B=B.return}u=B}}function Rt(e,i,n,a){e=null;for(var u=i,p=!1;u!==null;){if(!p){if((u.flags&524288)!==0)p=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var B=u.alternate;if(B===null)throw Error(P(387));if(B=B.memoizedProps,B!==null){var F=u.type;ji(u.pendingProps.value,B.value)||(e!==null?e.push(F):e=[F])}}else if(u===j.current){if(B=u.alternate,B===null)throw Error(P(387));B.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(ju):e=[ju])}u=u.return}e!==null&&si(i,e,n,a),i.flags|=262144}function _n(e){for(e=e.firstContext;e!==null;){if(!ji(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zn(e){Nn=e,Ur=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Zt(e){return Ac(Nn,e)}function Ta(e,i){return Nn===null&&zn(e),Ac(e,i)}function Ac(e,i){var n=i._currentValue;if(i={context:i,memoizedValue:n,next:null},Ur===null){if(e===null)throw Error(P(308));Ur=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ur=Ur.next=i;return n}var $h=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){i.aborted=!0,e.forEach(function(n){return n()})}},iu=L.unstable_scheduleCallback,Mc=L.unstable_NormalPriority,Ut={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ru(){return{controller:new $h,data:new Map,refCount:0}}function Un(e){e.refCount--,e.refCount===0&&iu(Mc,function(){e.controller.abort()})}var Pn=null,Da=0,In=0,mn=null;function Rc(e,i){if(Pn===null){var n=Pn=[];Da=0,In=yf(),mn={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Da++,i.then(bs,bs),i}function bs(){if(--Da===0&&Pn!==null){mn!==null&&(mn.status="fulfilled");var e=Pn;Pn=null,In=0,mn=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function ef(e,i){var n=[],a={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){a.status="fulfilled",a.value=i;for(var u=0;u<n.length;u++)(0,n[u])(i)},function(u){for(a.status="rejected",a.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),a}var Ol=K.S;K.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Rc(e,i),Ol!==null&&Ol(e,i)};var Ei=G(null);function La(){var e=Ei.current;return e!==null?e:At.pooledCache}function Aa(e,i){i===null?fe(Ei,Ei.current):fe(Ei,i.pool)}function nu(){var e=La();return e===null?null:{parent:Ut._currentValue,pool:e}}var fi=Error(P(460)),lt=Error(P(474)),Bi=Error(P(542)),xr={then:function(){}};function Pr(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bl(){}function Ma(e,i,n){switch(n=e[n],n===void 0?e.push(i):n!==i&&(i.then(Bl,Bl),i=n),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ra(e),e;default:if(typeof i.status=="string")i.then(Bl,Bl);else{if(e=At,e!==null&&100<e.shellSuspendCounter)throw Error(P(482));e=i,e.status="pending",e.then(function(a){if(i.status==="pending"){var u=i;u.status="fulfilled",u.value=a}},function(a){if(i.status==="pending"){var u=i;u.status="rejected",u.reason=a}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ra(e),e}throw Cs=i,fi}}var Cs=null;function kc(){if(Cs===null)throw Error(P(459));var e=Cs;return Cs=null,e}function Ra(e){if(e===fi||e===Bi)throw Error(P(483))}var er=!1;function ka(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hl(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ti(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ir(e,i,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(mt&2)!==0){var u=a.pending;return u===null?i.next=i:(i.next=u.next,u.next=i),a.pending=i,i=Ml(e),_s(e,null,n),i}return On(e,a,i,n),Ml(e)}function ws(e,i,n){if(i=i.updateQueue,i!==null&&(i=i.shared,(n&4194048)!==0)){var a=i.lanes;a&=e.pendingLanes,n|=a,i.lanes=n,Ii(e,n)}}function su(e,i){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var u=null,p=null;if(n=n.firstBaseUpdate,n!==null){do{var B={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};p===null?u=p=B:p=p.next=B,n=n.next}while(n!==null);p===null?u=p=i:p=p.next=i}else u=p=i;n={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:p,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=i:e.next=i,n.lastBaseUpdate=i}var xs=!1;function Fn(){if(xs){var e=mn;if(e!==null)throw e}}function Es(e,i,n,a){xs=!1;var u=e.updateQueue;er=!1;var p=u.firstBaseUpdate,B=u.lastBaseUpdate,F=u.shared.pending;if(F!==null){u.shared.pending=null;var ee=F,de=ee.next;ee.next=null,B===null?p=de:B.next=de,B=ee;var be=e.alternate;be!==null&&(be=be.updateQueue,F=be.lastBaseUpdate,F!==B&&(F===null?be.firstBaseUpdate=de:F.next=de,be.lastBaseUpdate=ee))}if(p!==null){var Ee=u.baseState;B=0,be=de=ee=null,F=p;do{var ve=F.lane&-536870913,ge=ve!==F.lane;if(ge?(ht&ve)===ve:(a&ve)===ve){ve!==0&&ve===In&&(xs=!0),be!==null&&(be=be.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Xe=e,qe=F;ve=i;var wt=n;switch(qe.tag){case 1:if(Xe=qe.payload,typeof Xe=="function"){Ee=Xe.call(wt,Ee,ve);break e}Ee=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=qe.payload,ve=typeof Xe=="function"?Xe.call(wt,Ee,ve):Xe,ve==null)break e;Ee=b({},Ee,ve);break e;case 2:er=!0}}ve=F.callback,ve!==null&&(e.flags|=64,ge&&(e.flags|=8192),ge=u.callbacks,ge===null?u.callbacks=[ve]:ge.push(ve))}else ge={lane:ve,tag:F.tag,payload:F.payload,callback:F.callback,next:null},be===null?(de=be=ge,ee=Ee):be=be.next=ge,B|=ve;if(F=F.next,F===null){if(F=u.shared.pending,F===null)break;ge=F,F=ge.next,ge.next=null,u.lastBaseUpdate=ge,u.shared.pending=null}}while(!0);be===null&&(ee=Ee),u.baseState=ee,u.firstBaseUpdate=de,u.lastBaseUpdate=be,p===null&&(u.shared.lanes=0),Vs|=B,e.lanes=B,e.memoizedState=Ee}}function Oc(e,i){if(typeof e!="function")throw Error(P(191,e));e.call(i)}function lu(e,i){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Oc(n[e],i)}var Ts=G(null),Oa=G(0);function Nl(e,i){e=Xn,fe(Oa,e),fe(Ts,i),Xn=e|i.baseLanes}function Ba(){fe(Oa,Xn),fe(Ts,Ts.current)}function au(){Xn=Oa.current,se(Ts),se(Oa)}var yn=0,Qe=null,at=null,Ot=null,jn=!1,Wn=!1,Fr=!1,zl=0,Ul=0,qn=null,di=0;function Dt(){throw Error(P(321))}function Ha(e,i){if(i===null)return!1;for(var n=0;n<i.length&&n<e.length;n++)if(!ji(e[n],i[n]))return!1;return!0}function Na(e,i,n,a,u,p){return yn=p,Qe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?qc:Qa,Fr=!1,p=n(a,u),Fr=!1,Wn&&(p=Gn(i,n,a,u)),ou(e),p}function ou(e){K.H=ql;var i=at!==null&&at.next!==null;if(yn=0,Ot=at=Qe=null,jn=!1,Ul=0,qn=null,i)throw Error(P(300));e===null||qt||(e=e.dependencies,e!==null&&_n(e)&&(qt=!0))}function Gn(e,i,n,a){Qe=e;var u=0;do{if(Wn&&(qn=null),Ul=0,Wn=!1,25<=u)throw Error(P(301));if(u+=1,Ot=at=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}K.H=Gc,p=i(n,a)}while(Wn);return p}function za(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?Ls(i):i,e=e.useState()[0],(at!==null?at.memoizedState:null)!==e&&(Qe.flags|=1024),i}function Ua(){var e=zl!==0;return zl=0,e}function Pa(e,i,n){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~n}function Ia(e){if(jn){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}jn=!1}yn=0,Ot=at=Qe=null,Wn=!1,Ul=zl=0,qn=null}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Qe.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function Pt(){if(at===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var i=Ot===null?Qe.memoizedState:Ot.next;if(i!==null)Ot=i,at=e;else{if(e===null)throw Qe.alternate===null?Error(P(467)):Error(P(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Ot===null?Qe.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function Ds(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ls(e){var i=Ul;return Ul+=1,qn===null&&(qn=[]),e=Ma(qn,e,i),i=Qe,(Ot===null?i.memoizedState:Ot.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?qc:Qa),e}function Sn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ls(e);if(e.$$typeof===v)return Zt(e)}throw Error(P(438,String(e)))}function uu(e){var i=null,n=Qe.updateQueue;if(n!==null&&(i=n.memoCache),i==null){var a=Qe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(i={data:a.data.map(function(u){return u.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),n===null&&(n=Ds(),Qe.updateQueue=n),n.memoCache=i,n=i.data[i.index],n===void 0)for(n=i.data[i.index]=Array(e),a=0;a<e;a++)n[a]=Q;return i.index++,n}function Hi(e,i){return typeof i=="function"?i(e):i}function Pl(e){var i=Pt();return Fa(i,at,e)}function Fa(e,i,n){var a=e.queue;if(a===null)throw Error(P(311));a.lastRenderedReducer=n;var u=e.baseQueue,p=a.pending;if(p!==null){if(u!==null){var B=u.next;u.next=p.next,p.next=B}i.baseQueue=u=p,a.pending=null}if(p=e.baseState,u===null)e.memoizedState=p;else{i=u.next;var F=B=null,ee=null,de=i,be=!1;do{var Ee=de.lane&-536870913;if(Ee!==de.lane?(ht&Ee)===Ee:(yn&Ee)===Ee){var ve=de.revertLane;if(ve===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),Ee===In&&(be=!0);else if((yn&ve)===ve){de=de.next,ve===In&&(be=!0);continue}else Ee={lane:0,revertLane:de.revertLane,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},ee===null?(F=ee=Ee,B=p):ee=ee.next=Ee,Qe.lanes|=ve,Vs|=ve;Ee=de.action,Fr&&n(p,Ee),p=de.hasEagerState?de.eagerState:n(p,Ee)}else ve={lane:Ee,revertLane:de.revertLane,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},ee===null?(F=ee=ve,B=p):ee=ee.next=ve,Qe.lanes|=Ee,Vs|=Ee;de=de.next}while(de!==null&&de!==i);if(ee===null?B=p:ee.next=F,!ji(p,e.memoizedState)&&(qt=!0,be&&(n=mn,n!==null)))throw n;e.memoizedState=p,e.baseState=B,e.baseQueue=ee,a.lastRenderedState=p}return u===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function ja(e){var i=Pt(),n=i.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var a=n.dispatch,u=n.pending,p=i.memoizedState;if(u!==null){n.pending=null;var B=u=u.next;do p=e(p,B.action),B=B.next;while(B!==u);ji(p,i.memoizedState)||(qt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),n.lastRenderedState=p}return[p,a]}function As(e,i,n){var a=Qe,u=Pt(),p=Je;if(p){if(n===void 0)throw Error(P(407));n=n()}else n=i();var B=!ji((at||u).memoizedState,n);B&&(u.memoizedState=n,qt=!0),u=u.queue;var F=ks.bind(null,a,u,e);if(Fl(2048,8,F,[e]),u.getSnapshot!==i||B||Ot!==null&&Ot.memoizedState.tag&1){if(a.flags|=2048,Kn(9,Il(),Rs.bind(null,a,u,n,i),null),At===null)throw Error(P(349));p||(yn&124)!==0||Ms(a,i,n)}return n}function Ms(e,i,n){e.flags|=16384,e={getSnapshot:i,value:n},i=Qe.updateQueue,i===null?(i=Ds(),Qe.updateQueue=i,i.stores=[e]):(n=i.stores,n===null?i.stores=[e]:n.push(e))}function Rs(e,i,n,a){i.value=n,i.getSnapshot=a,cu(i)&&Bc(e)}function ks(e,i,n){return n(function(){cu(i)&&Bc(e)})}function cu(e){var i=e.getSnapshot;e=e.value;try{var n=i();return!ji(e,n)}catch{return!0}}function Bc(e){var i=Bn(e,2);i!==null&&vr(i,e,2)}function Wa(e){var i=Qt();if(typeof e=="function"){var n=e;if(e=n(),Fr){ti(!0);try{n()}finally{ti(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},i}function jr(e,i,n,a){return e.baseState=n,Fa(e,at,typeof a=="function"?a:Hi)}function Os(e,i,n,a,u){if(Za(e))throw Error(P(485));if(e=i.action,e!==null){var p={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){p.listeners.push(B)}};K.T!==null?n(!0):p.isTransition=!1,a(p),n=i.pending,n===null?(p.next=i.pending=p,Bs(i,p)):(p.next=n.next,i.pending=n.next=p)}}function Bs(e,i){var n=i.action,a=i.payload,u=e.state;if(i.isTransition){var p=K.T,B={};K.T=B;try{var F=n(u,a),ee=K.S;ee!==null&&ee(B,F),Hc(e,i,F)}catch(de){fu(e,i,de)}finally{K.T=p}}else try{p=n(u,a),Hc(e,i,p)}catch(de){fu(e,i,de)}}function Hc(e,i,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){hu(e,i,a)},function(a){return fu(e,i,a)}):hu(e,i,n)}function hu(e,i,n){i.status="fulfilled",i.value=n,Nc(i),e.state=n,i=e.pending,i!==null&&(n=i.next,n===i?e.pending=null:(n=n.next,i.next=n,Bs(e,n)))}function fu(e,i,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do i.status="rejected",i.reason=n,Nc(i),i=i.next;while(i!==a)}e.action=null}function Nc(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function zc(e,i){return i}function _i(e,i){if(Je){var n=At.formState;if(n!==null){e:{var a=Qe;if(Je){if(St){t:{for(var u=St,p=xi;u.nodeType!==8;){if(!p){u=null;break t}if(u=Xr(u.nextSibling),u===null){u=null;break t}}p=u.data,u=p==="F!"||p==="F"?u:null}if(u){St=Xr(u.nextSibling),a=u.data==="F!";break e}}pn(a)}a=!1}a&&(i=n[0])}}return n=Qt(),n.memoizedState=n.baseState=i,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:i},n.queue=a,n=mu.bind(null,Qe,a),a.dispatch=n,a=Wa(!1),p=yu.bind(null,Qe,!1,a.queue),a=Qt(),u={state:i,dispatch:null,action:e,pending:null},a.queue=u,n=Os.bind(null,Qe,u,p,n),u.dispatch=n,a.memoizedState=e,[i,n,!1]}function du(e){var i=Pt();return Uc(i,at,e)}function Uc(e,i,n){if(i=Fa(e,i,zc)[0],e=Pl(Hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var a=Ls(i)}catch(B){throw B===fi?Bi:B}else a=i;i=Pt();var u=i.queue,p=u.dispatch;return n!==i.memoizedState&&(Qe.flags|=2048,Kn(9,Il(),tf.bind(null,u,n),null)),[a,p,e]}function tf(e,i){e.action=i}function Pc(e){var i=Pt(),n=at;if(n!==null)return Uc(i,n,e);Pt(),i=i.memoizedState,n=Pt();var a=n.queue.dispatch;return n.memoizedState=e,[i,a,!1]}function Kn(e,i,n,a){return e={tag:e,create:n,deps:a,inst:i,next:null},i=Qe.updateQueue,i===null&&(i=Ds(),Qe.updateQueue=i),n=i.lastEffect,n===null?i.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,i.lastEffect=e),e}function Il(){return{destroy:void 0,resource:void 0}}function vu(){return Pt().memoizedState}function qa(e,i,n,a){var u=Qt();a=a===void 0?null:a,Qe.flags|=e,u.memoizedState=Kn(1|i,Il(),n,a)}function Fl(e,i,n,a){var u=Pt();a=a===void 0?null:a;var p=u.memoizedState.inst;at!==null&&a!==null&&Ha(a,at.memoizedState.deps)?u.memoizedState=Kn(i,p,n,a):(Qe.flags|=e,u.memoizedState=Kn(1|i,p,n,a))}function Ic(e,i){qa(8390656,8,e,i)}function Wr(e,i){Fl(2048,8,e,i)}function Hs(e,i){return Fl(4,2,e,i)}function jl(e,i){return Fl(4,4,e,i)}function Ns(e,i){if(typeof i=="function"){e=e();var n=i(e);return function(){typeof n=="function"?n():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Er(e,i,n){n=n!=null?n.concat([e]):null,Fl(4,4,Ns.bind(null,i,e),n)}function pu(){}function Fc(e,i){var n=Pt();i=i===void 0?null:i;var a=n.memoizedState;return i!==null&&Ha(i,a[1])?a[0]:(n.memoizedState=[e,i],e)}function Yn(e,i){var n=Pt();i=i===void 0?null:i;var a=n.memoizedState;if(i!==null&&Ha(i,a[1]))return a[0];if(a=e(),Fr){ti(!0);try{e()}finally{ti(!1)}}return n.memoizedState=[a,i],a}function Ga(e,i,n){return n===void 0||(yn&1073741824)!==0?e.memoizedState=i:(e.memoizedState=n,e=Sd(),Qe.lanes|=e,Vs|=e,n)}function gu(e,i,n,a){return ji(n,i)?n:Ts.current!==null?(e=Ga(e,n,a),ji(e,i)||(qt=!0),e):(yn&42)===0?(qt=!0,e.memoizedState=n):(e=Sd(),Qe.lanes|=e,Vs|=e,i)}function _u(e,i,n,a,u){var p=J.p;J.p=p!==0&&8>p?p:8;var B=K.T,F={};K.T=F,yu(e,!1,i,n);try{var ee=u(),de=K.S;if(de!==null&&de(F,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var be=ef(ee,a);Cn(e,i,be,dr(e))}else Cn(e,i,a,dr(e))}catch(Ee){Cn(e,i,{then:function(){},status:"rejected",reason:Ee},dr())}finally{J.p=p,K.T=B}}function Ka(){}function bn(e,i,n,a){if(e.tag!==5)throw Error(P(476));var u=Ya(e).queue;_u(e,u,i,z,n===null?Ka:function(){return Xa(e),n(a)})}function Ya(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:z},next:null};var n={};return i.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:n},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Xa(e){var i=Ya(e).next.queue;Cn(e,i,{},dr())}function Wl(){return Zt(ju)}function jc(){return Pt().memoizedState}function zs(){return Pt().memoizedState}function Wc(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var n=dr();e=Ti(n);var a=Ir(i,e,n);a!==null&&(vr(a,i,n),ws(a,i,n)),i={cache:ru()},e.payload=i;return}i=i.return}}function rf(e,i,n){var a=dr();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Za(e)?Us(i,n):(n=Jo(e,i,n,a),n!==null&&(vr(n,e,a),Su(n,i,a)))}function mu(e,i,n){var a=dr();Cn(e,i,n,a)}function Cn(e,i,n,a){var u={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Za(e))Us(i,u);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var B=i.lastRenderedState,F=p(B,n);if(u.hasEagerState=!0,u.eagerState=F,ji(F,B))return On(e,i,u,0),At===null&&ar(),!1}catch{}finally{}if(n=Jo(e,i,u,a),n!==null)return vr(n,e,a),Su(n,i,a),!0}return!1}function yu(e,i,n,a){if(a={lane:2,revertLane:yf(),action:a,hasEagerState:!1,eagerState:null,next:null},Za(e)){if(i)throw Error(P(479))}else i=Jo(e,n,a,2),i!==null&&vr(i,e,2)}function Za(e){var i=e.alternate;return e===Qe||i!==null&&i===Qe}function Us(e,i){Wn=jn=!0;var n=e.pending;n===null?i.next=i:(i.next=n.next,n.next=i),e.pending=i}function Su(e,i,n){if((n&4194048)!==0){var a=i.lanes;a&=e.pendingLanes,n|=a,i.lanes=n,Ii(e,n)}}var ql={readContext:Zt,use:Sn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt},qc={readContext:Zt,use:Sn,useCallback:function(e,i){return Qt().memoizedState=[e,i===void 0?null:i],e},useContext:Zt,useEffect:Ic,useImperativeHandle:function(e,i,n){n=n!=null?n.concat([e]):null,qa(4194308,4,Ns.bind(null,i,e),n)},useLayoutEffect:function(e,i){return qa(4194308,4,e,i)},useInsertionEffect:function(e,i){qa(4,2,e,i)},useMemo:function(e,i){var n=Qt();i=i===void 0?null:i;var a=e();if(Fr){ti(!0);try{e()}finally{ti(!1)}}return n.memoizedState=[a,i],a},useReducer:function(e,i,n){var a=Qt();if(n!==void 0){var u=n(i);if(Fr){ti(!0);try{n(i)}finally{ti(!1)}}}else u=i;return a.memoizedState=a.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},a.queue=e,e=e.dispatch=rf.bind(null,Qe,e),[a.memoizedState,e]},useRef:function(e){var i=Qt();return e={current:e},i.memoizedState=e},useState:function(e){e=Wa(e);var i=e.queue,n=mu.bind(null,Qe,i);return i.dispatch=n,[e.memoizedState,n]},useDebugValue:pu,useDeferredValue:function(e,i){var n=Qt();return Ga(n,e,i)},useTransition:function(){var e=Wa(!1);return e=_u.bind(null,Qe,e.queue,!0,!1),Qt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,n){var a=Qe,u=Qt();if(Je){if(n===void 0)throw Error(P(407));n=n()}else{if(n=i(),At===null)throw Error(P(349));(ht&124)!==0||Ms(a,i,n)}u.memoizedState=n;var p={value:n,getSnapshot:i};return u.queue=p,Ic(ks.bind(null,a,p,e),[e]),a.flags|=2048,Kn(9,Il(),Rs.bind(null,a,p,n,i),null),n},useId:function(){var e=Qt(),i=At.identifierPrefix;if(Je){var n=zr,a=qi;n=(a&~(1<<32-ui(a)-1)).toString(32)+n,i="«"+i+"R"+n,n=zl++,0<n&&(i+="H"+n.toString(32)),i+="»"}else n=di++,i="«"+i+"r"+n.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Wl,useFormState:_i,useActionState:_i,useOptimistic:function(e){var i=Qt();i.memoizedState=i.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=n,i=yu.bind(null,Qe,!0,n),n.dispatch=i,[e,i]},useMemoCache:uu,useCacheRefresh:function(){return Qt().memoizedState=Wc.bind(null,Qe)}},Qa={readContext:Zt,use:Sn,useCallback:Fc,useContext:Zt,useEffect:Wr,useImperativeHandle:Er,useInsertionEffect:Hs,useLayoutEffect:jl,useMemo:Yn,useReducer:Pl,useRef:vu,useState:function(){return Pl(Hi)},useDebugValue:pu,useDeferredValue:function(e,i){var n=Pt();return gu(n,at.memoizedState,e,i)},useTransition:function(){var e=Pl(Hi)[0],i=Pt().memoizedState;return[typeof e=="boolean"?e:Ls(e),i]},useSyncExternalStore:As,useId:jc,useHostTransitionStatus:Wl,useFormState:du,useActionState:du,useOptimistic:function(e,i){var n=Pt();return jr(n,at,e,i)},useMemoCache:uu,useCacheRefresh:zs},Gc={readContext:Zt,use:Sn,useCallback:Fc,useContext:Zt,useEffect:Wr,useImperativeHandle:Er,useInsertionEffect:Hs,useLayoutEffect:jl,useMemo:Yn,useReducer:ja,useRef:vu,useState:function(){return ja(Hi)},useDebugValue:pu,useDeferredValue:function(e,i){var n=Pt();return at===null?Ga(n,e,i):gu(n,at.memoizedState,e,i)},useTransition:function(){var e=ja(Hi)[0],i=Pt().memoizedState;return[typeof e=="boolean"?e:Ls(e),i]},useSyncExternalStore:As,useId:jc,useHostTransitionStatus:Wl,useFormState:Pc,useActionState:Pc,useOptimistic:function(e,i){var n=Pt();return at!==null?jr(n,at,e,i):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:uu,useCacheRefresh:zs},Ps=null,Is=0;function Gl(e){var i=Is;return Is+=1,Ps===null&&(Ps=[]),Ma(Ps,e,i)}function Kl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Fs(e,i){throw i.$$typeof===y?Error(P(525)):(e=Object.prototype.toString.call(i),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function js(e){var i=e._init;return i(e._payload)}function Ws(e){function i(ce,ne){if(e){var he=ce.deletions;he===null?(ce.deletions=[ne],ce.flags|=16):he.push(ne)}}function n(ce,ne){if(!e)return null;for(;ne!==null;)i(ce,ne),ne=ne.sibling;return null}function a(ce){for(var ne=new Map;ce!==null;)ce.key!==null?ne.set(ce.key,ce):ne.set(ce.index,ce),ce=ce.sibling;return ne}function u(ce,ne){return ce=Cr(ce,ne),ce.index=0,ce.sibling=null,ce}function p(ce,ne,he){return ce.index=he,e?(he=ce.alternate,he!==null?(he=he.index,he<ne?(ce.flags|=67108866,ne):he):(ce.flags|=67108866,ne)):(ce.flags|=1048576,ne)}function B(ce){return e&&ce.alternate===null&&(ce.flags|=67108866),ce}function F(ce,ne,he,Ce){return ne===null||ne.tag!==6?(ne=ys(he,ce.mode,Ce),ne.return=ce,ne):(ne=u(ne,he),ne.return=ce,ne)}function ee(ce,ne,he,Ce){var Ue=he.type;return Ue===k?be(ce,ne,he.props.children,Ce,he.key):ne!==null&&(ne.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===E&&js(Ue)===ne.type)?(ne=u(ne,he.props),Kl(ne,he),ne.return=ce,ne):(ne=ms(he.type,he.key,he.props,null,ce.mode,Ce),Kl(ne,he),ne.return=ce,ne)}function de(ce,ne,he,Ce){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==he.containerInfo||ne.stateNode.implementation!==he.implementation?(ne=ba(he,ce.mode,Ce),ne.return=ce,ne):(ne=u(ne,he.children||[]),ne.return=ce,ne)}function be(ce,ne,he,Ce,Ue){return ne===null||ne.tag!==7?(ne=Ji(he,ce.mode,Ce,Ue),ne.return=ce,ne):(ne=u(ne,he),ne.return=ce,ne)}function Ee(ce,ne,he){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=ys(""+ne,ce.mode,he),ne.return=ce,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return he=ms(ne.type,ne.key,ne.props,null,ce.mode,he),Kl(he,ne),he.return=ce,he;case M:return ne=ba(ne,ce.mode,he),ne.return=ce,ne;case E:var Ce=ne._init;return ne=Ce(ne._payload),Ee(ce,ne,he)}if(ue(ne)||X(ne))return ne=Ji(ne,ce.mode,he,null),ne.return=ce,ne;if(typeof ne.then=="function")return Ee(ce,Gl(ne),he);if(ne.$$typeof===v)return Ee(ce,Ta(ce,ne),he);Fs(ce,ne)}return null}function ve(ce,ne,he,Ce){var Ue=ne!==null?ne.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Ue!==null?null:F(ce,ne,""+he,Ce);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case T:return he.key===Ue?ee(ce,ne,he,Ce):null;case M:return he.key===Ue?de(ce,ne,he,Ce):null;case E:return Ue=he._init,he=Ue(he._payload),ve(ce,ne,he,Ce)}if(ue(he)||X(he))return Ue!==null?null:be(ce,ne,he,Ce,null);if(typeof he.then=="function")return ve(ce,ne,Gl(he),Ce);if(he.$$typeof===v)return ve(ce,ne,Ta(ce,he),Ce);Fs(ce,he)}return null}function ge(ce,ne,he,Ce,Ue){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return ce=ce.get(he)||null,F(ne,ce,""+Ce,Ue);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case T:return ce=ce.get(Ce.key===null?he:Ce.key)||null,ee(ne,ce,Ce,Ue);case M:return ce=ce.get(Ce.key===null?he:Ce.key)||null,de(ne,ce,Ce,Ue);case E:var tt=Ce._init;return Ce=tt(Ce._payload),ge(ce,ne,he,Ce,Ue)}if(ue(Ce)||X(Ce))return ce=ce.get(he)||null,be(ne,ce,Ce,Ue,null);if(typeof Ce.then=="function")return ge(ce,ne,he,Gl(Ce),Ue);if(Ce.$$typeof===v)return ge(ce,ne,he,Ta(ne,Ce),Ue);Fs(ne,Ce)}return null}function Xe(ce,ne,he,Ce){for(var Ue=null,tt=null,Fe=ne,Ke=ne=0,mi=null;Fe!==null&&Ke<he.length;Ke++){Fe.index>Ke?(mi=Fe,Fe=null):mi=Fe.sibling;var pt=ve(ce,Fe,he[Ke],Ce);if(pt===null){Fe===null&&(Fe=mi);break}e&&Fe&&pt.alternate===null&&i(ce,Fe),ne=p(pt,ne,Ke),tt===null?Ue=pt:tt.sibling=pt,tt=pt,Fe=mi}if(Ke===he.length)return n(ce,Fe),Je&&wr(ce,Ke),Ue;if(Fe===null){for(;Ke<he.length;Ke++)Fe=Ee(ce,he[Ke],Ce),Fe!==null&&(ne=p(Fe,ne,Ke),tt===null?Ue=Fe:tt.sibling=Fe,tt=Fe);return Je&&wr(ce,Ke),Ue}for(Fe=a(Fe);Ke<he.length;Ke++)mi=ge(Fe,ce,Ke,he[Ke],Ce),mi!==null&&(e&&mi.alternate!==null&&Fe.delete(mi.key===null?Ke:mi.key),ne=p(mi,ne,Ke),tt===null?Ue=mi:tt.sibling=mi,tt=mi);return e&&Fe.forEach(function(ll){return i(ce,ll)}),Je&&wr(ce,Ke),Ue}function qe(ce,ne,he,Ce){if(he==null)throw Error(P(151));for(var Ue=null,tt=null,Fe=ne,Ke=ne=0,mi=null,pt=he.next();Fe!==null&&!pt.done;Ke++,pt=he.next()){Fe.index>Ke?(mi=Fe,Fe=null):mi=Fe.sibling;var ll=ve(ce,Fe,pt.value,Ce);if(ll===null){Fe===null&&(Fe=mi);break}e&&Fe&&ll.alternate===null&&i(ce,Fe),ne=p(ll,ne,Ke),tt===null?Ue=ll:tt.sibling=ll,tt=ll,Fe=mi}if(pt.done)return n(ce,Fe),Je&&wr(ce,Ke),Ue;if(Fe===null){for(;!pt.done;Ke++,pt=he.next())pt=Ee(ce,pt.value,Ce),pt!==null&&(ne=p(pt,ne,Ke),tt===null?Ue=pt:tt.sibling=pt,tt=pt);return Je&&wr(ce,Ke),Ue}for(Fe=a(Fe);!pt.done;Ke++,pt=he.next())pt=ge(Fe,ce,Ke,pt.value,Ce),pt!==null&&(e&&pt.alternate!==null&&Fe.delete(pt.key===null?Ke:pt.key),ne=p(pt,ne,Ke),tt===null?Ue=pt:tt.sibling=pt,tt=pt);return e&&Fe.forEach(function(mg){return i(ce,mg)}),Je&&wr(ce,Ke),Ue}function wt(ce,ne,he,Ce){if(typeof he=="object"&&he!==null&&he.type===k&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case T:e:{for(var Ue=he.key;ne!==null;){if(ne.key===Ue){if(Ue=he.type,Ue===k){if(ne.tag===7){n(ce,ne.sibling),Ce=u(ne,he.props.children),Ce.return=ce,ce=Ce;break e}}else if(ne.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===E&&js(Ue)===ne.type){n(ce,ne.sibling),Ce=u(ne,he.props),Kl(Ce,he),Ce.return=ce,ce=Ce;break e}n(ce,ne);break}else i(ce,ne);ne=ne.sibling}he.type===k?(Ce=Ji(he.props.children,ce.mode,Ce,he.key),Ce.return=ce,ce=Ce):(Ce=ms(he.type,he.key,he.props,null,ce.mode,Ce),Kl(Ce,he),Ce.return=ce,ce=Ce)}return B(ce);case M:e:{for(Ue=he.key;ne!==null;){if(ne.key===Ue)if(ne.tag===4&&ne.stateNode.containerInfo===he.containerInfo&&ne.stateNode.implementation===he.implementation){n(ce,ne.sibling),Ce=u(ne,he.children||[]),Ce.return=ce,ce=Ce;break e}else{n(ce,ne);break}else i(ce,ne);ne=ne.sibling}Ce=ba(he,ce.mode,Ce),Ce.return=ce,ce=Ce}return B(ce);case E:return Ue=he._init,he=Ue(he._payload),wt(ce,ne,he,Ce)}if(ue(he))return Xe(ce,ne,he,Ce);if(X(he)){if(Ue=X(he),typeof Ue!="function")throw Error(P(150));return he=Ue.call(he),qe(ce,ne,he,Ce)}if(typeof he.then=="function")return wt(ce,ne,Gl(he),Ce);if(he.$$typeof===v)return wt(ce,ne,Ta(ce,he),Ce);Fs(ce,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,ne!==null&&ne.tag===6?(n(ce,ne.sibling),Ce=u(ne,he),Ce.return=ce,ce=Ce):(n(ce,ne),Ce=ys(he,ce.mode,Ce),Ce.return=ce,ce=Ce),B(ce)):n(ce,ne)}return function(ce,ne,he,Ce){try{Is=0;var Ue=wt(ce,ne,he,Ce);return Ps=null,Ue}catch(Fe){if(Fe===fi||Fe===Bi)throw Fe;var tt=Wi(29,Fe,null,ce.mode);return tt.lanes=Ce,tt.return=ce,tt}finally{}}}var qs=Ws(!0),bu=Ws(!1),tr=G(null),Tr=null;function wn(e){var i=e.alternate;fe(Vt,Vt.current&1),fe(tr,e),Tr===null&&(i===null||Ts.current!==null||i.memoizedState!==null)&&(Tr=e)}function Kc(e){if(e.tag===22){if(fe(Vt,Vt.current),fe(tr,e),Tr===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Tr=e)}}else qr()}function qr(){fe(Vt,Vt.current),fe(tr,tr.current)}function Gr(e){se(tr),Tr===e&&(Tr=null),se(Vt)}var Vt=G(0);function Yl(e){for(var i=e;i!==null;){if(i.tag===13){var n=i.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Rf(n)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Xl(e,i,n,a){i=e.memoizedState,n=n(a,i),n=n==null?i:b({},i,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Va={enqueueSetState:function(e,i,n){e=e._reactInternals;var a=dr(),u=Ti(a);u.payload=i,n!=null&&(u.callback=n),i=Ir(e,u,a),i!==null&&(vr(i,e,a),ws(i,e,a))},enqueueReplaceState:function(e,i,n){e=e._reactInternals;var a=dr(),u=Ti(a);u.tag=1,u.payload=i,n!=null&&(u.callback=n),i=Ir(e,u,a),i!==null&&(vr(i,e,a),ws(i,e,a))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var n=dr(),a=Ti(n);a.tag=2,i!=null&&(a.callback=i),i=Ir(e,a,n),i!==null&&(vr(i,e,n),ws(i,e,n))}};function Yc(e,i,n,a,u,p,B){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,p,B):i.prototype&&i.prototype.isPureReactComponent?!Dl(n,a)||!Dl(u,p):!0}function Cu(e,i,n,a){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(n,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(n,a),i.state!==e&&Va.enqueueReplaceState(i,i.state,null)}function ir(e,i){var n=i;if("ref"in i){n={};for(var a in i)a!=="ref"&&(n[a]=i[a])}if(e=e.defaultProps){n===i&&(n=b({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}var Zl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ql(e){Zl(e)}function Xc(e){console.error(e)}function Zc(e){Zl(e)}function Ja(e,i){try{var n=e.onUncaughtError;n(i.value,{componentStack:i.stack})}catch(a){setTimeout(function(){throw a})}}function bt(e,i,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function wu(e,i,n){return n=Ti(n),n.tag=3,n.payload={element:null},n.callback=function(){Ja(e,i)},n}function $a(e){return e=Ti(e),e.tag=3,e}function Gs(e,i,n,a){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var p=a.value;e.payload=function(){return u(p)},e.callback=function(){bt(i,n,a)}}var B=n.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(e.callback=function(){bt(i,n,a),typeof u!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var F=a.stack;this.componentDidCatch(a.value,{componentStack:F!==null?F:""})})}function hr(e,i,n,a,u){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(i=n.alternate,i!==null&&Rt(i,n,u,!0),n=tr.current,n!==null){switch(n.tag){case 13:return Tr===null?vf():n.alternate===null&&Kt===0&&(Kt=3),n.flags&=-257,n.flags|=65536,n.lanes=u,a===xr?n.flags|=16384:(i=n.updateQueue,i===null?n.updateQueue=new Set([a]):i.add(a),gf(e,a,u)),!1;case 22:return n.flags|=65536,a===xr?n.flags|=16384:(i=n.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=i):(n=i.retryQueue,n===null?i.retryQueue=new Set([a]):n.add(a)),gf(e,a,u)),!1}throw Error(P(435,n.tag))}return gf(e,a,u),vf(),!1}if(Je)return i=tr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=u,a!==Ea&&(e=Error(P(422),{cause:a}),kl(ri(e,n)))):(a!==Ea&&(i=Error(P(423),{cause:a}),kl(ri(i,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,a=ri(a,n),u=wu(e.stateNode,a,u),su(e,u),Kt!==4&&(Kt=2)),!1;var p=Error(P(520),{cause:a});if(p=ri(p,n),Ou===null?Ou=[p]:Ou.push(p),Kt!==4&&(Kt=2),i===null)return!0;a=ri(a,n),n=i;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=wu(n.stateNode,a,e),su(n,e),!1;case 1:if(i=n.type,p=n.stateNode,(n.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Js===null||!Js.has(p))))return n.flags|=65536,u&=-u,n.lanes|=u,u=$a(u),Gs(u,e,n,a),su(n,u),!1}n=n.return}while(n!==null);return!1}var Vl=Error(P(461)),qt=!1;function li(e,i,n,a){i.child=e===null?bu(i,null,n,a):qs(i,e.child,n,a)}function xu(e,i,n,a,u){n=n.render;var p=i.ref;if("ref"in a){var B={};for(var F in a)F!=="ref"&&(B[F]=a[F])}else B=a;return zn(i),a=Na(e,i,n,B,p,u),F=Ua(),e!==null&&!qt?(Pa(e,i,u),r(e,i,u)):(Je&&F&&Hn(i),i.flags|=1,li(e,i,a,u),i.child)}function Eu(e,i,n,a,u){if(e===null){var p=n.type;return typeof p=="function"&&!Rl(p)&&p.defaultProps===void 0&&n.compare===null?(i.tag=15,i.type=p,eo(e,i,p,a,u)):(e=ms(n.type,null,a,i,i.mode,u),e.ref=i.ref,e.return=i,i.child=e)}if(p=e.child,!l(e,u)){var B=p.memoizedProps;if(n=n.compare,n=n!==null?n:Dl,n(B,a)&&e.ref===i.ref)return r(e,i,u)}return i.flags|=1,e=Cr(p,a),e.ref=i.ref,e.return=i,i.child=e}function eo(e,i,n,a,u){if(e!==null){var p=e.memoizedProps;if(Dl(p,a)&&e.ref===i.ref)if(qt=!1,i.pendingProps=a=p,l(e,u))(e.flags&131072)!==0&&(qt=!0);else return i.lanes=e.lanes,r(e,i,u)}return to(e,i,n,a,u)}function Tu(e,i,n){var a=i.pendingProps,u=a.children,p=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((i.flags&128)!==0){if(a=p!==null?p.baseLanes|n:n,e!==null){for(u=i.child=e.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;i.childLanes=p&~a}else i.childLanes=0,i.child=null;return Qc(e,i,a,n)}if((n&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Aa(i,p!==null?p.cachePool:null),p!==null?Nl(i,p):Ba(),Kc(i);else return i.lanes=i.childLanes=536870912,Qc(e,i,p!==null?p.baseLanes|n:n,n)}else p!==null?(Aa(i,p.cachePool),Nl(i,p),qr(),i.memoizedState=null):(e!==null&&Aa(i,null),Ba(),qr());return li(e,i,u,n),i.child}function Qc(e,i,n,a){var u=La();return u=u===null?null:{parent:Ut._currentValue,pool:u},i.memoizedState={baseLanes:n,cachePool:u},e!==null&&Aa(i,null),Ba(),Kc(i),e!==null&&Rt(e,i,a,!0),null}function Ks(e,i){var n=i.ref;if(n===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(P(284));(e===null||e.ref!==n)&&(i.flags|=4194816)}}function to(e,i,n,a,u){return zn(i),n=Na(e,i,n,a,void 0,u),a=Ua(),e!==null&&!qt?(Pa(e,i,u),r(e,i,u)):(Je&&a&&Hn(i),i.flags|=1,li(e,i,n,u),i.child)}function ft(e,i,n,a,u,p){return zn(i),i.updateQueue=null,n=Gn(i,a,n,u),ou(e),a=Ua(),e!==null&&!qt?(Pa(e,i,p),r(e,i,p)):(Je&&a&&Hn(i),i.flags|=1,li(e,i,n,p),i.child)}function Du(e,i,n,a,u){if(zn(i),i.stateNode===null){var p=vn,B=n.contextType;typeof B=="object"&&B!==null&&(p=Zt(B)),p=new n(a,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Va,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=a,p.state=i.memoizedState,p.refs={},ka(i),B=n.contextType,p.context=typeof B=="object"&&B!==null?Zt(B):vn,p.state=i.memoizedState,B=n.getDerivedStateFromProps,typeof B=="function"&&(Xl(i,n,B,a),p.state=i.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(B=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),B!==p.state&&Va.enqueueReplaceState(p,p.state,null),Es(i,a,p,u),Fn(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),a=!0}else if(e===null){p=i.stateNode;var F=i.memoizedProps,ee=ir(n,F);p.props=ee;var de=p.context,be=n.contextType;B=vn,typeof be=="object"&&be!==null&&(B=Zt(be));var Ee=n.getDerivedStateFromProps;be=typeof Ee=="function"||typeof p.getSnapshotBeforeUpdate=="function",F=i.pendingProps!==F,be||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(F||de!==B)&&Cu(i,p,a,B),er=!1;var ve=i.memoizedState;p.state=ve,Es(i,a,p,u),Fn(),de=i.memoizedState,F||ve!==de||er?(typeof Ee=="function"&&(Xl(i,n,Ee,a),de=i.memoizedState),(ee=er||Yc(i,n,ee,a,ve,de,B))?(be||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=de),p.props=a,p.state=de,p.context=B,a=ee):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{p=i.stateNode,Hl(e,i),B=i.memoizedProps,be=ir(n,B),p.props=be,Ee=i.pendingProps,ve=p.context,de=n.contextType,ee=vn,typeof de=="object"&&de!==null&&(ee=Zt(de)),F=n.getDerivedStateFromProps,(de=typeof F=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(B!==Ee||ve!==ee)&&Cu(i,p,a,ee),er=!1,ve=i.memoizedState,p.state=ve,Es(i,a,p,u),Fn();var ge=i.memoizedState;B!==Ee||ve!==ge||er||e!==null&&e.dependencies!==null&&_n(e.dependencies)?(typeof F=="function"&&(Xl(i,n,F,a),ge=i.memoizedState),(be=er||Yc(i,n,be,a,ve,ge,ee)||e!==null&&e.dependencies!==null&&_n(e.dependencies))?(de||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,ge,ee),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,ge,ee)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||B===e.memoizedProps&&ve===e.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||B===e.memoizedProps&&ve===e.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=ge),p.props=a,p.state=ge,p.context=ee,a=be):(typeof p.componentDidUpdate!="function"||B===e.memoizedProps&&ve===e.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||B===e.memoizedProps&&ve===e.memoizedState||(i.flags|=1024),a=!1)}return p=a,Ks(e,i),a=(i.flags&128)!==0,p||a?(p=i.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,e!==null&&a?(i.child=qs(i,e.child,null,u),i.child=qs(i,null,n,u)):li(e,i,n,u),i.memoizedState=p.state,e=i.child):e=r(e,i,u),e}function Vc(e,i,n,a){return cr(),i.flags|=256,li(e,i,n,a),i.child}var xn={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lu(e){return{baseLanes:e,cachePool:nu()}}function Ys(e,i,n){return e=e!==null?e.childLanes&~n:0,i&&(e|=Lr),e}function Jc(e,i,n){var a=i.pendingProps,u=!1,p=(i.flags&128)!==0,B;if((B=p)||(B=e!==null&&e.memoizedState===null?!1:(Vt.current&2)!==0),B&&(u=!0,i.flags&=-129),B=(i.flags&32)!==0,i.flags&=-33,e===null){if(Je){if(u?wn(i):qr(),Je){var F=St,ee;if(ee=F){e:{for(ee=F,F=xi;ee.nodeType!==8;){if(!F){F=null;break e}if(ee=Xr(ee.nextSibling),ee===null){F=null;break e}}F=ee}F!==null?(i.memoizedState={dehydrated:F,treeContext:$i!==null?{id:qi,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},ee=Wi(18,null,null,0),ee.stateNode=F,ee.return=i,i.child=ee,Nt=i,St=null,ee=!0):ee=!1}ee||pn(i)}if(F=i.memoizedState,F!==null&&(F=F.dehydrated,F!==null))return Rf(F)?i.lanes=32:i.lanes=536870912,null;Gr(i)}return F=a.children,a=a.fallback,u?(qr(),u=i.mode,F=io({mode:"hidden",children:F},u),a=Ji(a,u,n,null),F.return=i,a.return=i,F.sibling=a,i.child=F,u=i.child,u.memoizedState=Lu(n),u.childLanes=Ys(e,B,n),i.memoizedState=xn,a):(wn(i),Lt(i,F))}if(ee=e.memoizedState,ee!==null&&(F=ee.dehydrated,F!==null)){if(p)i.flags&256?(wn(i),i.flags&=-257,i=Au(e,i,n)):i.memoizedState!==null?(qr(),i.child=e.child,i.flags|=128,i=null):(qr(),u=a.fallback,F=i.mode,a=io({mode:"visible",children:a.children},F),u=Ji(u,F,n,null),u.flags|=2,a.return=i,u.return=i,a.sibling=u,i.child=a,qs(i,e.child,null,n),a=i.child,a.memoizedState=Lu(n),a.childLanes=Ys(e,B,n),i.memoizedState=xn,i=u);else if(wn(i),Rf(F)){if(B=F.nextSibling&&F.nextSibling.dataset,B)var de=B.dgst;B=de,a=Error(P(419)),a.stack="",a.digest=B,kl({value:a,source:null,stack:null}),i=Au(e,i,n)}else if(qt||Rt(e,i,n,!1),B=(n&e.childLanes)!==0,qt||B){if(B=At,B!==null&&(a=n&-n,a=(a&42)!==0?1:en(a),a=(a&(B.suspendedLanes|n))!==0?0:a,a!==0&&a!==ee.retryLane))throw ee.retryLane=a,Bn(e,a),vr(B,e,a),Vl;F.data==="$?"||vf(),i=Au(e,i,n)}else F.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=ee.treeContext,St=Xr(F.nextSibling),Nt=i,Je=!0,or=null,xi=!1,e!==null&&(ki[Oi++]=qi,ki[Oi++]=zr,ki[Oi++]=$i,qi=e.id,zr=e.overflow,$i=i),i=Lt(i,a.children),i.flags|=4096);return i}return u?(qr(),u=a.fallback,F=i.mode,ee=e.child,de=ee.sibling,a=Cr(ee,{mode:"hidden",children:a.children}),a.subtreeFlags=ee.subtreeFlags&65011712,de!==null?u=Cr(de,u):(u=Ji(u,F,n,null),u.flags|=2),u.return=i,a.return=i,a.sibling=u,i.child=a,a=u,u=i.child,F=e.child.memoizedState,F===null?F=Lu(n):(ee=F.cachePool,ee!==null?(de=Ut._currentValue,ee=ee.parent!==de?{parent:de,pool:de}:ee):ee=nu(),F={baseLanes:F.baseLanes|n,cachePool:ee}),u.memoizedState=F,u.childLanes=Ys(e,B,n),i.memoizedState=xn,a):(wn(i),n=e.child,e=n.sibling,n=Cr(n,{mode:"visible",children:a.children}),n.return=i,n.sibling=null,e!==null&&(B=i.deletions,B===null?(i.deletions=[e],i.flags|=16):B.push(e)),i.child=n,i.memoizedState=null,n)}function Lt(e,i){return i=io({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function io(e,i){return e=Wi(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Au(e,i,n){return qs(i,e.child,null,n),e=Lt(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function $c(e,i,n){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i),zt(e.return,i,n)}function Xs(e,i,n,a,u){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:u}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=n,p.tailMode=u)}function t(e,i,n){var a=i.pendingProps,u=a.revealOrder,p=a.tail;if(li(e,i,a.children,n),a=Vt.current,(a&2)!==0)a=a&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$c(e,n,i);else if(e.tag===19)$c(e,n,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(fe(Vt,a),u){case"forwards":for(n=i.child,u=null;n!==null;)e=n.alternate,e!==null&&Yl(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=i.child,i.child=null):(u=n.sibling,n.sibling=null),Xs(i,!1,u,n,p);break;case"backwards":for(n=null,u=i.child,i.child=null;u!==null;){if(e=u.alternate,e!==null&&Yl(e)===null){i.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}Xs(i,!0,n,null,p);break;case"together":Xs(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function r(e,i,n){if(e!==null&&(i.dependencies=e.dependencies),Vs|=i.lanes,(n&i.childLanes)===0)if(e!==null){if(Rt(e,i,n,!1),(n&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(P(153));if(i.child!==null){for(e=i.child,n=Cr(e,e.pendingProps),i.child=n,n.return=i;e.sibling!==null;)e=e.sibling,n=n.sibling=Cr(e,e.pendingProps),n.return=i;n.sibling=null}return i.child}function l(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&_n(e)))}function s(e,i,n){switch(i.tag){case 3:oe(i,i.stateNode.containerInfo),gn(i,Ut,e.memoizedState.cache),cr();break;case 27:case 5:ye(i);break;case 4:oe(i,i.stateNode.containerInfo);break;case 10:gn(i,i.type,i.memoizedProps.value);break;case 13:var a=i.memoizedState;if(a!==null)return a.dehydrated!==null?(wn(i),i.flags|=128,null):(n&i.child.childLanes)!==0?Jc(e,i,n):(wn(i),e=r(e,i,n),e!==null?e.sibling:null);wn(i);break;case 19:var u=(e.flags&128)!==0;if(a=(n&i.childLanes)!==0,a||(Rt(e,i,n,!1),a=(n&i.childLanes)!==0),u){if(a)return t(e,i,n);i.flags|=128}if(u=i.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),fe(Vt,Vt.current),a)break;return null;case 22:case 23:return i.lanes=0,Tu(e,i,n);case 24:gn(i,Ut,e.memoizedState.cache)}return r(e,i,n)}function o(e,i,n){if(e!==null)if(e.memoizedProps!==i.pendingProps)qt=!0;else{if(!l(e,n)&&(i.flags&128)===0)return qt=!1,s(e,i,n);qt=(e.flags&131072)!==0}else qt=!1,Je&&(i.flags&1048576)!==0&&$o(i,wa,i.index);switch(i.lanes=0,i.tag){case 16:e:{e=i.pendingProps;var a=i.elementType,u=a._init;if(a=u(a._payload),i.type=a,typeof a=="function")Rl(a)?(e=ir(a,e),i.tag=1,i=Du(null,i,a,e,n)):(i.tag=0,i=to(null,i,a,e,n));else{if(a!=null){if(u=a.$$typeof,u===C){i.tag=11,i=xu(null,i,a,e,n);break e}else if(u===U){i.tag=14,i=Eu(null,i,a,e,n);break e}}throw i=_e(a)||a,Error(P(306,i,""))}}return i;case 0:return to(e,i,i.type,i.pendingProps,n);case 1:return a=i.type,u=ir(a,i.pendingProps),Du(e,i,a,u,n);case 3:e:{if(oe(i,i.stateNode.containerInfo),e===null)throw Error(P(387));a=i.pendingProps;var p=i.memoizedState;u=p.element,Hl(e,i),Es(i,a,null,n);var B=i.memoizedState;if(a=B.cache,gn(i,Ut,a),a!==p.cache&&si(i,[Ut],n,!0),Fn(),a=B.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:B.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=Vc(e,i,a,n);break e}else if(a!==u){u=ri(Error(P(424)),i),kl(u),i=Vc(e,i,a,n);break e}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(St=Xr(e.firstChild),Nt=i,Je=!0,or=null,xi=!0,n=bu(i,null,a,n),i.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(cr(),a===u){i=r(e,i,n);break e}li(e,i,a,n)}i=i.child}return i;case 26:return Ks(e,i),e===null?(n=rv(i.type,null,i.pendingProps,null))?i.memoizedState=n:Je||(n=i.type,e=i.pendingProps,a=hh(Be.current).createElement(n),a[ii]=i,a[Si]=e,Ai(a,n,e),Mt(a),i.stateNode=a):i.memoizedState=rv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ye(i),e===null&&Je&&(a=i.stateNode=ev(i.type,i.pendingProps,Be.current),Nt=i,xi=!0,u=St,tl(i.type)?(kf=u,St=Xr(a.firstChild)):St=u),li(e,i,i.pendingProps.children,n),Ks(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Je&&((u=a=St)&&(a=Yp(a,i.type,i.pendingProps,xi),a!==null?(i.stateNode=a,Nt=i,St=Xr(a.firstChild),xi=!1,u=!0):u=!1),u||pn(i)),ye(i),u=i.type,p=i.pendingProps,B=e!==null?e.memoizedProps:null,a=p.children,Lf(u,p)?a=null:B!==null&&Lf(u,B)&&(i.flags|=32),i.memoizedState!==null&&(u=Na(e,i,za,null,null,n),ju._currentValue=u),Ks(e,i),li(e,i,a,n),i.child;case 6:return e===null&&Je&&((e=n=St)&&(n=Xp(n,i.pendingProps,xi),n!==null?(i.stateNode=n,Nt=i,St=null,e=!0):e=!1),e||pn(i)),null;case 13:return Jc(e,i,n);case 4:return oe(i,i.stateNode.containerInfo),a=i.pendingProps,e===null?i.child=qs(i,null,a,n):li(e,i,a,n),i.child;case 11:return xu(e,i,i.type,i.pendingProps,n);case 7:return li(e,i,i.pendingProps,n),i.child;case 8:return li(e,i,i.pendingProps.children,n),i.child;case 12:return li(e,i,i.pendingProps.children,n),i.child;case 10:return a=i.pendingProps,gn(i,i.type,a.value),li(e,i,a.children,n),i.child;case 9:return u=i.type._context,a=i.pendingProps.children,zn(i),u=Zt(u),a=a(u),i.flags|=1,li(e,i,a,n),i.child;case 14:return Eu(e,i,i.type,i.pendingProps,n);case 15:return eo(e,i,i.type,i.pendingProps,n);case 19:return t(e,i,n);case 31:return a=i.pendingProps,n=i.mode,a={mode:a.mode,children:a.children},e===null?(n=io(a,n),n.ref=i.ref,i.child=n,n.return=i,i=n):(n=Cr(e.child,a),n.ref=i.ref,i.child=n,n.return=i,i=n),i;case 22:return Tu(e,i,n);case 24:return zn(i),a=Zt(Ut),e===null?(u=La(),u===null&&(u=At,p=ru(),u.pooledCache=p,p.refCount++,p!==null&&(u.pooledCacheLanes|=n),u=p),i.memoizedState={parent:a,cache:u},ka(i),gn(i,Ut,u)):((e.lanes&n)!==0&&(Hl(e,i),Es(i,null,null,n),Fn()),u=e.memoizedState,p=i.memoizedState,u.parent!==a?(u={parent:a,cache:a},i.memoizedState=u,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=u),gn(i,Ut,a)):(a=p.cache,gn(i,Ut,a),a!==u.cache&&si(i,[Ut],n,!0))),li(e,i,i.pendingProps.children,n),i.child;case 29:throw i.pendingProps}throw Error(P(156,i.tag))}function h(e){e.flags|=4}function S(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ov(i)){if(i=tr.current,i!==null&&((ht&4194048)===ht?Tr!==null:(ht&62914560)!==ht&&(ht&536870912)===0||i!==Tr))throw Cs=xr,lt;e.flags|=8192}}function w(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?na():536870912,e.lanes|=i,lo|=i)}function D(e,i){if(!Je)switch(e.tailMode){case"hidden":i=e.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function R(e){var i=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(i)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,a|=u.subtreeFlags&65011712,a|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=n,i}function Y(e,i,n){var a=i.pendingProps;switch(xa(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return R(i),null;case 1:return R(i),null;case 3:return n=i.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),kt(Ut),me(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ur(i)?h(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Lc())),R(i),null;case 26:return n=i.memoizedState,e===null?(h(i),n!==null?(R(i),S(i,n)):(R(i),i.flags&=-16777217)):n?n!==e.memoizedState?(h(i),R(i),S(i,n)):(R(i),i.flags&=-16777217):(e.memoizedProps!==a&&h(i),R(i),i.flags&=-16777217),null;case 27:Ne(i),n=Be.current;var u=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==a&&h(i);else{if(!a){if(i.stateNode===null)throw Error(P(166));return R(i),null}e=we.current,ur(i)?eu(i):(e=ev(u,a,n),i.stateNode=e,h(i))}return R(i),null;case 5:if(Ne(i),n=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==a&&h(i);else{if(!a){if(i.stateNode===null)throw Error(P(166));return R(i),null}if(e=we.current,ur(i))eu(i);else{switch(u=hh(Be.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?u.createElement("select",{is:a.is}):u.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?u.createElement(n,{is:a.is}):u.createElement(n)}}e[ii]=i,e[Si]=a;e:for(u=i.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break e;for(;u.sibling===null;){if(u.return===null||u.return===i)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}i.stateNode=e;e:switch(Ai(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&h(i)}}return R(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==a&&h(i);else{if(typeof a!="string"&&i.stateNode===null)throw Error(P(166));if(e=Be.current,ur(i)){if(e=i.stateNode,n=i.memoizedProps,a=null,u=Nt,u!==null)switch(u.tag){case 27:case 5:a=u.memoizedProps}e[ii]=i,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Yd(e.nodeValue,n)),e||pn(i)}else e=hh(e).createTextNode(a),e[ii]=i,i.stateNode=e}return R(i),null;case 13:if(a=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=ur(i),a!==null&&a.dehydrated!==null){if(e===null){if(!u)throw Error(P(318));if(u=i.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(P(317));u[ii]=i}else cr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;R(i),u=!1}else u=Lc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return i.flags&256?(Gr(i),i):(Gr(i),null)}if(Gr(i),(i.flags&128)!==0)return i.lanes=n,i;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=i.child,u=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(u=a.alternate.memoizedState.cachePool.pool);var p=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==u&&(a.flags|=2048)}return n!==e&&n&&(i.child.flags|=8192),w(i,i.updateQueue),R(i),null;case 4:return me(),e===null&&wf(i.stateNode.containerInfo),R(i),null;case 10:return kt(i.type),R(i),null;case 19:if(se(Vt),u=i.memoizedState,u===null)return R(i),null;if(a=(i.flags&128)!==0,p=u.rendering,p===null)if(a)D(u,!1);else{if(Kt!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(p=Yl(e),p!==null){for(i.flags|=128,D(u,!1),e=p.updateQueue,i.updateQueue=e,w(i,e),i.subtreeFlags=0,e=n,n=i.child;n!==null;)Sa(n,e),n=n.sibling;return fe(Vt,Vt.current&1|2),i.child}e=e.sibling}u.tail!==null&&We()>th&&(i.flags|=128,a=!0,D(u,!1),i.lanes=4194304)}else{if(!a)if(e=Yl(p),e!==null){if(i.flags|=128,a=!0,e=e.updateQueue,i.updateQueue=e,w(i,e),D(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Je)return R(i),null}else 2*We()-u.renderingStartTime>th&&n!==536870912&&(i.flags|=128,a=!0,D(u,!1),i.lanes=4194304);u.isBackwards?(p.sibling=i.child,i.child=p):(e=u.last,e!==null?e.sibling=p:i.child=p,u.last=p)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=We(),i.sibling=null,e=Vt.current,fe(Vt,a?e&1|2:e&1),i):(R(i),null);case 22:case 23:return Gr(i),au(),a=i.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(i.flags|=8192):a&&(i.flags|=8192),a?(n&536870912)!==0&&(i.flags&128)===0&&(R(i),i.subtreeFlags&6&&(i.flags|=8192)):R(i),n=i.updateQueue,n!==null&&w(i,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==n&&(i.flags|=2048),e!==null&&se(Ei),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),i.memoizedState.cache!==n&&(i.flags|=2048),kt(Ut),R(i),null;case 25:return null;case 30:return null}throw Error(P(156,i.tag))}function V(e,i){switch(xa(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return kt(Ut),me(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ne(i),null;case 13:if(Gr(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(P(340));cr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return se(Vt),null;case 4:return me(),null;case 10:return kt(i.type),null;case 22:case 23:return Gr(i),au(),e!==null&&se(Ei),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return kt(Ut),null;case 25:return null;default:return null}}function ae(e,i){switch(xa(i),i.tag){case 3:kt(Ut),me();break;case 26:case 27:case 5:Ne(i);break;case 4:me();break;case 13:Gr(i);break;case 19:se(Vt);break;case 10:kt(i.type);break;case 22:case 23:Gr(i),au(),e!==null&&se(Ei);break;case 24:kt(Ut)}}function re(e,i){try{var n=i.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var u=a.next;n=u;do{if((n.tag&e)===e){a=void 0;var p=n.create,B=n.inst;a=p(),B.destroy=a}n=n.next}while(n!==u)}}catch(F){Et(i,i.return,F)}}function pe(e,i,n){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var p=u.next;a=p;do{if((a.tag&e)===e){var B=a.inst,F=B.destroy;if(F!==void 0){B.destroy=void 0,u=i;var ee=n,de=F;try{de()}catch(be){Et(u,ee,be)}}}a=a.next}while(a!==p)}}catch(be){Et(i,i.return,be)}}function Se(e){var i=e.updateQueue;if(i!==null){var n=e.stateNode;try{lu(i,n)}catch(a){Et(e,e.return,a)}}}function Le(e,i,n){n.props=ir(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Et(e,i,a)}}function Ae(e,i){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(u){Et(e,i,u)}}function Me(e,i){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(u){Et(e,i,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){Et(e,i,u)}else n.current=null}function Re(e){var i=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(u){Et(e,e.return,u)}}function ke(e,i,n){try{var a=e.stateNode;jp(a,e.type,n,i),a[Si]=i}catch(u){Et(e,e.return,u)}}function Ie(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&tl(e.type)||e.tag===4}function ze(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ie(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&tl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ze(e,i,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,i?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,i):(i=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,i.appendChild(e),n=n._reactRootContainer,n!=null||i.onclick!==null||(i.onclick=ch));else if(a!==4&&(a===27&&tl(e.type)&&(n=e.stateNode,i=null),e=e.child,e!==null))for(Ze(e,i,n),e=e.sibling;e!==null;)Ze(e,i,n),e=e.sibling}function dt(e,i,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,i?n.insertBefore(e,i):n.appendChild(e);else if(a!==4&&(a===27&&tl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(dt(e,i,n),e=e.sibling;e!==null;)dt(e,i,n),e=e.sibling}function Gt(e){var i=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,u=i.attributes;u.length;)i.removeAttributeNode(u[0]);Ai(i,a,n),i[ii]=e,i[Si]=n}catch(p){Et(e,e.return,p)}}var ut=!1,nt=!1,vi=!1,Bt=typeof WeakSet=="function"?WeakSet:Set,ct=null;function ai(e,i){if(e=e.containerInfo,Tf=_h,e=fs(e),pa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var u=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{n.nodeType,p.nodeType}catch{n=null;break e}var B=0,F=-1,ee=-1,de=0,be=0,Ee=e,ve=null;t:for(;;){for(var ge;Ee!==n||u!==0&&Ee.nodeType!==3||(F=B+u),Ee!==p||a!==0&&Ee.nodeType!==3||(ee=B+a),Ee.nodeType===3&&(B+=Ee.nodeValue.length),(ge=Ee.firstChild)!==null;)ve=Ee,Ee=ge;for(;;){if(Ee===e)break t;if(ve===n&&++de===u&&(F=B),ve===p&&++be===a&&(ee=B),(ge=Ee.nextSibling)!==null)break;Ee=ve,ve=Ee.parentNode}Ee=ge}n=F===-1||ee===-1?null:{start:F,end:ee}}else n=null}n=n||{start:0,end:0}}else n=null;for(Df={focusedElem:e,selectionRange:n},_h=!1,ct=i;ct!==null;)if(i=ct,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,ct=e;else for(;ct!==null;){switch(i=ct,p=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,n=i,u=p.memoizedProps,p=p.memoizedState,a=n.stateNode;try{var Xe=ir(n.type,u,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(Xe,p),a.__reactInternalSnapshotBeforeUpdate=e}catch(qe){Et(n,n.return,qe)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,n=e.nodeType,n===9)Mf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Mf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(P(163))}if(e=i.sibling,e!==null){e.return=i.return,ct=e;break}ct=i.return}}function It(e,i,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Gi(e,n),a&4&&re(5,n);break;case 1:if(Gi(e,n),a&4)if(e=n.stateNode,i===null)try{e.componentDidMount()}catch(B){Et(n,n.return,B)}else{var u=ir(n.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(u,i,e.__reactInternalSnapshotBeforeUpdate)}catch(B){Et(n,n.return,B)}}a&64&&Se(n),a&512&&Ae(n,n.return);break;case 3:if(Gi(e,n),a&64&&(e=n.updateQueue,e!==null)){if(i=null,n.child!==null)switch(n.child.tag){case 27:case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}try{lu(e,i)}catch(B){Et(n,n.return,B)}}break;case 27:i===null&&a&4&&Gt(n);case 26:case 5:Gi(e,n),i===null&&a&4&&Re(n),a&512&&Ae(n,n.return);break;case 12:Gi(e,n);break;case 13:Gi(e,n),a&4&&oi(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Rp.bind(null,n),Zp(e,n))));break;case 22:if(a=n.memoizedState!==null||ut,!a){i=i!==null&&i.memoizedState!==null||nt,u=ut;var p=nt;ut=a,(nt=i)&&!p?Zs(e,n,(n.subtreeFlags&8772)!==0):Gi(e,n),ut=u,nt=p}break;case 30:break;default:Gi(e,n)}}function Ht(e){var i=e.alternate;i!==null&&(e.alternate=null,Ht(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&wo(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,_t=!1;function Ni(e,i,n){for(n=n.child;n!==null;)Kr(e,i,n),n=n.sibling}function Kr(e,i,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Ui,n)}catch{}switch(n.tag){case 26:nt||Me(n,i),Ni(e,i,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:nt||Me(n,i);var a=Ye,u=_t;tl(n.type)&&(Ye=n.stateNode,_t=!1),Ni(e,i,n),Uu(n.stateNode),Ye=a,_t=u;break;case 5:nt||Me(n,i);case 6:if(a=Ye,u=_t,Ye=null,Ni(e,i,n),Ye=a,_t=u,Ye!==null)if(_t)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(n.stateNode)}catch(p){Et(n,i,p)}else try{Ye.removeChild(n.stateNode)}catch(p){Et(n,i,p)}break;case 18:Ye!==null&&(_t?(e=Ye,Jd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ku(e)):Jd(Ye,n.stateNode));break;case 4:a=Ye,u=_t,Ye=n.stateNode.containerInfo,_t=!0,Ni(e,i,n),Ye=a,_t=u;break;case 0:case 11:case 14:case 15:nt||pe(2,n,i),nt||pe(4,n,i),Ni(e,i,n);break;case 1:nt||(Me(n,i),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Le(n,i,a)),Ni(e,i,n);break;case 21:Ni(e,i,n);break;case 22:nt=(a=nt)||n.memoizedState!==null,Ni(e,i,n),nt=a;break;default:Ni(e,i,n)}}function oi(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ku(e)}catch(n){Et(i,i.return,n)}}function Dr(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Bt),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Bt),i;default:throw Error(P(435,e.tag))}}function Ft(e,i){var n=Dr(e);i.forEach(function(a){var u=kp.bind(null,e,a);n.has(a)||(n.add(a),a.then(u,u))})}function Di(e,i){var n=i.deletions;if(n!==null)for(var a=0;a<n.length;a++){var u=n[a],p=e,B=i,F=B;e:for(;F!==null;){switch(F.tag){case 27:if(tl(F.type)){Ye=F.stateNode,_t=!1;break e}break;case 5:Ye=F.stateNode,_t=!1;break e;case 3:case 4:Ye=F.stateNode.containerInfo,_t=!0;break e}F=F.return}if(Ye===null)throw Error(P(160));Kr(p,B,u),Ye=null,_t=!1,p=u.alternate,p!==null&&(p.return=null),u.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)En(i,e),i=i.sibling}var Jt=null;function En(e,i){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Di(i,e),$t(e),a&4&&(pe(3,e,e.return),re(3,e),pe(5,e,e.return));break;case 1:Di(i,e),$t(e),a&512&&(nt||n===null||Me(n,n.return)),a&64&&ut&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var u=Jt;if(Di(i,e),$t(e),a&512&&(nt||n===null||Me(n,n.return)),a&4){var p=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(a){case"title":p=u.getElementsByTagName("title")[0],(!p||p[Ln]||p[ii]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=u.createElement(a),u.head.insertBefore(p,u.querySelector("head > title"))),Ai(p,a,n),p[ii]=e,Mt(p),a=p;break e;case"link":var B=lv("link","href",u).get(a+(n.href||""));if(B){for(var F=0;F<B.length;F++)if(p=B[F],p.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&p.getAttribute("rel")===(n.rel==null?null:n.rel)&&p.getAttribute("title")===(n.title==null?null:n.title)&&p.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){B.splice(F,1);break t}}p=u.createElement(a),Ai(p,a,n),u.head.appendChild(p);break;case"meta":if(B=lv("meta","content",u).get(a+(n.content||""))){for(F=0;F<B.length;F++)if(p=B[F],p.getAttribute("content")===(n.content==null?null:""+n.content)&&p.getAttribute("name")===(n.name==null?null:n.name)&&p.getAttribute("property")===(n.property==null?null:n.property)&&p.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&p.getAttribute("charset")===(n.charSet==null?null:n.charSet)){B.splice(F,1);break t}}p=u.createElement(a),Ai(p,a,n),u.head.appendChild(p);break;default:throw Error(P(468,a))}p[ii]=e,Mt(p),a=p}e.stateNode=a}else av(u,e.type,e.stateNode);else e.stateNode=sv(u,a,e.memoizedProps);else p!==a?(p===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):p.count--,a===null?av(u,e.type,e.stateNode):sv(u,a,e.memoizedProps)):a===null&&e.stateNode!==null&&ke(e,e.memoizedProps,n.memoizedProps)}break;case 27:Di(i,e),$t(e),a&512&&(nt||n===null||Me(n,n.return)),n!==null&&a&4&&ke(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Di(i,e),$t(e),a&512&&(nt||n===null||Me(n,n.return)),e.flags&32){u=e.stateNode;try{yr(u,"")}catch(ge){Et(e,e.return,ge)}}a&4&&e.stateNode!=null&&(u=e.memoizedProps,ke(e,u,n!==null?n.memoizedProps:u)),a&1024&&(vi=!0);break;case 6:if(Di(i,e),$t(e),a&4){if(e.stateNode===null)throw Error(P(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(ge){Et(e,e.return,ge)}}break;case 3:if(vh=null,u=Jt,Jt=fh(i.containerInfo),Di(i,e),Jt=u,$t(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ku(i.containerInfo)}catch(ge){Et(e,e.return,ge)}vi&&(vi=!1,pi(e));break;case 4:a=Jt,Jt=fh(e.stateNode.containerInfo),Di(i,e),$t(e),Jt=a;break;case 12:Di(i,e),$t(e);break;case 13:Di(i,e),$t(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(uf=We()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ft(e,a)));break;case 22:u=e.memoizedState!==null;var ee=n!==null&&n.memoizedState!==null,de=ut,be=nt;if(ut=de||u,nt=be||ee,Di(i,e),nt=be,ut=de,$t(e),a&8192)e:for(i=e.stateNode,i._visibility=u?i._visibility&-2:i._visibility|1,u&&(n===null||ee||ut||nt||Yr(e)),n=null,i=e;;){if(i.tag===5||i.tag===26){if(n===null){ee=n=i;try{if(p=ee.stateNode,u)B=p.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{F=ee.stateNode;var Ee=ee.memoizedProps.style,ve=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;F.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(ge){Et(ee,ee.return,ge)}}}else if(i.tag===6){if(n===null){ee=i;try{ee.stateNode.nodeValue=u?"":ee.memoizedProps}catch(ge){Et(ee,ee.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;n===i&&(n=null),i=i.return}n===i&&(n=null),i.sibling.return=i.return,i=i.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Ft(e,n))));break;case 19:Di(i,e),$t(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ft(e,a)));break;case 30:break;case 21:break;default:Di(i,e),$t(e)}}function $t(e){var i=e.flags;if(i&2){try{for(var n,a=e.return;a!==null;){if(Ie(a)){n=a;break}a=a.return}if(n==null)throw Error(P(160));switch(n.tag){case 27:var u=n.stateNode,p=ze(e);dt(e,p,u);break;case 5:var B=n.stateNode;n.flags&32&&(yr(B,""),n.flags&=-33);var F=ze(e);dt(e,F,B);break;case 3:case 4:var ee=n.stateNode.containerInfo,de=ze(e);Ze(e,de,ee);break;default:throw Error(P(161))}}catch(be){Et(e,e.return,be)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function pi(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;pi(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Gi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)It(e,i.alternate,i),i=i.sibling}function Yr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:pe(4,i,i.return),Yr(i);break;case 1:Me(i,i.return);var n=i.stateNode;typeof n.componentWillUnmount=="function"&&Le(i,i.return,n),Yr(i);break;case 27:Uu(i.stateNode);case 26:case 5:Me(i,i.return),Yr(i);break;case 22:i.memoizedState===null&&Yr(i);break;case 30:Yr(i);break;default:Yr(i)}e=e.sibling}}function Zs(e,i,n){for(n=n&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var a=i.alternate,u=e,p=i,B=p.flags;switch(p.tag){case 0:case 11:case 15:Zs(u,p,n),re(4,p);break;case 1:if(Zs(u,p,n),a=p,u=a.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(de){Et(a,a.return,de)}if(a=p,u=a.updateQueue,u!==null){var F=a.stateNode;try{var ee=u.shared.hiddenCallbacks;if(ee!==null)for(u.shared.hiddenCallbacks=null,u=0;u<ee.length;u++)Oc(ee[u],F)}catch(de){Et(a,a.return,de)}}n&&B&64&&Se(p),Ae(p,p.return);break;case 27:Gt(p);case 26:case 5:Zs(u,p,n),n&&a===null&&B&4&&Re(p),Ae(p,p.return);break;case 12:Zs(u,p,n);break;case 13:Zs(u,p,n),n&&B&4&&oi(u,p);break;case 22:p.memoizedState===null&&Zs(u,p,n),Ae(p,p.return);break;case 30:break;default:Zs(u,p,n)}i=i.sibling}}function nf(e,i){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Un(n))}function sf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Un(e))}function Tn(e,i,n,a){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)vd(e,i,n,a),i=i.sibling}function vd(e,i,n,a){var u=i.flags;switch(i.tag){case 0:case 11:case 15:Tn(e,i,n,a),u&2048&&re(9,i);break;case 1:Tn(e,i,n,a);break;case 3:Tn(e,i,n,a),u&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Un(e)));break;case 12:if(u&2048){Tn(e,i,n,a),e=i.stateNode;try{var p=i.memoizedProps,B=p.id,F=p.onPostCommit;typeof F=="function"&&F(B,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(ee){Et(i,i.return,ee)}}else Tn(e,i,n,a);break;case 13:Tn(e,i,n,a);break;case 23:break;case 22:p=i.stateNode,B=i.alternate,i.memoizedState!==null?p._visibility&2?Tn(e,i,n,a):Mu(e,i):p._visibility&2?Tn(e,i,n,a):(p._visibility|=2,ro(e,i,n,a,(i.subtreeFlags&10256)!==0)),u&2048&&nf(B,i);break;case 24:Tn(e,i,n,a),u&2048&&sf(i.alternate,i);break;default:Tn(e,i,n,a)}}function ro(e,i,n,a,u){for(u=u&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=e,B=i,F=n,ee=a,de=B.flags;switch(B.tag){case 0:case 11:case 15:ro(p,B,F,ee,u),re(8,B);break;case 23:break;case 22:var be=B.stateNode;B.memoizedState!==null?be._visibility&2?ro(p,B,F,ee,u):Mu(p,B):(be._visibility|=2,ro(p,B,F,ee,u)),u&&de&2048&&nf(B.alternate,B);break;case 24:ro(p,B,F,ee,u),u&&de&2048&&sf(B.alternate,B);break;default:ro(p,B,F,ee,u)}i=i.sibling}}function Mu(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var n=e,a=i,u=a.flags;switch(a.tag){case 22:Mu(n,a),u&2048&&nf(a.alternate,a);break;case 24:Mu(n,a),u&2048&&sf(a.alternate,a);break;default:Mu(n,a)}i=i.sibling}}var Ru=8192;function no(e){if(e.subtreeFlags&Ru)for(e=e.child;e!==null;)pd(e),e=e.sibling}function pd(e){switch(e.tag){case 26:no(e),e.flags&Ru&&e.memoizedState!==null&&og(Jt,e.memoizedState,e.memoizedProps);break;case 5:no(e);break;case 3:case 4:var i=Jt;Jt=fh(e.stateNode.containerInfo),no(e),Jt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Ru,Ru=16777216,no(e),Ru=i):no(e));break;default:no(e)}}function gd(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ku(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var n=0;n<i.length;n++){var a=i[n];ct=a,md(a,e)}gd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_d(e),e=e.sibling}function _d(e){switch(e.tag){case 0:case 11:case 15:ku(e),e.flags&2048&&pe(9,e,e.return);break;case 3:ku(e);break;case 12:ku(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,eh(e)):ku(e);break;default:ku(e)}}function eh(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var n=0;n<i.length;n++){var a=i[n];ct=a,md(a,e)}gd(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:pe(8,i,i.return),eh(i);break;case 22:n=i.stateNode,n._visibility&2&&(n._visibility&=-3,eh(i));break;default:eh(i)}e=e.sibling}}function md(e,i){for(;ct!==null;){var n=ct;switch(n.tag){case 0:case 11:case 15:pe(8,n,i);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Un(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,ct=a;else e:for(n=e;ct!==null;){a=ct;var u=a.sibling,p=a.return;if(Ht(a),a===n){ct=null;break e}if(u!==null){u.return=p,ct=u;break e}ct=p}}}var xp={getCacheForType:function(e){var i=Zt(Ut),n=i.data.get(e);return n===void 0&&(n=e(),i.data.set(e,n)),n}},Ep=typeof WeakMap=="function"?WeakMap:Map,mt=0,At=null,it=null,ht=0,yt=0,fr=null,Qs=!1,so=!1,lf=!1,Xn=0,Kt=0,Vs=0,Jl=0,af=0,Lr=0,lo=0,Ou=null,rr=null,of=!1,uf=0,th=1/0,ih=null,Js=null,Li=0,$s=null,ao=null,oo=0,cf=0,hf=null,yd=null,Bu=0,ff=null;function dr(){if((mt&2)!==0&&ht!==0)return ht&-ht;if(K.T!==null){var e=In;return e!==0?e:yf()}return So()}function Sd(){Lr===0&&(Lr=(ht&536870912)===0||Je?je():536870912);var e=tr.current;return e!==null&&(e.flags|=32),Lr}function vr(e,i,n){(e===At&&(yt===2||yt===9)||e.cancelPendingCommit!==null)&&(uo(e,0),el(e,ht,Lr,!1)),xt(e,n),((mt&2)===0||e!==At)&&(e===At&&((mt&2)===0&&(Jl|=n),Kt===4&&el(e,ht,Lr,!1)),Dn(e))}function bd(e,i,n){if((mt&6)!==0)throw Error(P(327));var a=!n&&(i&124)===0&&(i&e.expiredLanes)===0||Pi(e,i),u=a?Lp(e,i):pf(e,i,!0),p=a;do{if(u===0){so&&!a&&el(e,i,0,!1);break}else{if(n=e.current.alternate,p&&!Tp(n)){u=pf(e,i,!1),p=!1;continue}if(u===2){if(p=i,e.errorRecoveryDisabledLanes&p)var B=0;else B=e.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){i=B;e:{var F=e;u=Ou;var ee=F.current.memoizedState.isDehydrated;if(ee&&(uo(F,B).flags|=256),B=pf(F,B,!1),B!==2){if(lf&&!ee){F.errorRecoveryDisabledLanes|=p,Jl|=p,u=4;break e}p=rr,rr=u,p!==null&&(rr===null?rr=p:rr.push.apply(rr,p))}u=B}if(p=!1,u!==2)continue}}if(u===1){uo(e,0),el(e,i,0,!0);break}e:{switch(a=e,p=u,p){case 0:case 1:throw Error(P(345));case 4:if((i&4194048)!==i)break;case 6:el(a,i,Lr,!Qs);break e;case 2:rr=null;break;case 3:case 5:break;default:throw Error(P(329))}if((i&62914560)===i&&(u=uf+300-We(),10<u)){if(el(a,i,Lr,!Qs),ra(a,0,!0)!==0)break e;a.timeoutHandle=Qd(Cd.bind(null,a,n,rr,ih,of,i,Lr,Jl,lo,Qs,p,2,-0,0),u);break e}Cd(a,n,rr,ih,of,i,Lr,Jl,lo,Qs,p,0,-0,0)}}break}while(!0);Dn(e)}function Cd(e,i,n,a,u,p,B,F,ee,de,be,Ee,ve,ge){if(e.timeoutHandle=-1,Ee=i.subtreeFlags,(Ee&8192||(Ee&16785408)===16785408)&&(Fu={stylesheets:null,count:0,unsuspend:ag},pd(i),Ee=ug(),Ee!==null)){e.cancelPendingCommit=Ee(Ad.bind(null,e,i,p,n,a,u,B,F,ee,be,1,ve,ge)),el(e,p,B,!de);return}Ad(e,i,p,n,a,u,B,F,ee)}function Tp(e){for(var i=e;;){var n=i.tag;if((n===0||n===11||n===15)&&i.flags&16384&&(n=i.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var u=n[a],p=u.getSnapshot;u=u.value;try{if(!ji(p(),u))return!1}catch{return!1}}if(n=i.child,i.subtreeFlags&16384&&n!==null)n.return=i,i=n;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function el(e,i,n,a){i&=~af,i&=~Jl,e.suspendedLanes|=i,e.pingedLanes&=~i,a&&(e.warmLanes|=i),a=e.expirationTimes;for(var u=i;0<u;){var p=31-ui(u),B=1<<p;a[p]=-1,u&=~B}n!==0&&yo(e,n,i)}function rh(){return(mt&6)===0?(Hu(0),!1):!0}function df(){if(it!==null){if(yt===0)var e=it.return;else e=it,Ur=Nn=null,Ia(e),Ps=null,Is=0,e=it;for(;e!==null;)ae(e.alternate,e),e=e.return;it=null}}function uo(e,i){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,qp(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),df(),At=e,it=n=Cr(e.current,null),ht=i,yt=0,fr=null,Qs=!1,so=Pi(e,i),lf=!1,lo=Lr=af=Jl=Vs=Kt=0,rr=Ou=null,of=!1,(i&8)!==0&&(i|=i&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=i;0<a;){var u=31-ui(a),p=1<<u;i|=e[u],a&=~p}return Xn=i,ar(),n}function wd(e,i){Qe=null,K.H=ql,i===fi||i===Bi?(i=kc(),yt=3):i===lt?(i=kc(),yt=4):yt=i===Vl?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,fr=i,it===null&&(Kt=1,Ja(e,ri(i,e.current)))}function xd(){var e=K.H;return K.H=ql,e===null?ql:e}function Ed(){var e=K.A;return K.A=xp,e}function vf(){Kt=4,Qs||(ht&4194048)!==ht&&tr.current!==null||(so=!0),(Vs&134217727)===0&&(Jl&134217727)===0||At===null||el(At,ht,Lr,!1)}function pf(e,i,n){var a=mt;mt|=2;var u=xd(),p=Ed();(At!==e||ht!==i)&&(ih=null,uo(e,i)),i=!1;var B=Kt;e:do try{if(yt!==0&&it!==null){var F=it,ee=fr;switch(yt){case 8:df(),B=6;break e;case 3:case 2:case 9:case 6:tr.current===null&&(i=!0);var de=yt;if(yt=0,fr=null,co(e,F,ee,de),n&&so){B=0;break e}break;default:de=yt,yt=0,fr=null,co(e,F,ee,de)}}Dp(),B=Kt;break}catch(be){wd(e,be)}while(!0);return i&&e.shellSuspendCounter++,Ur=Nn=null,mt=a,K.H=u,K.A=p,it===null&&(At=null,ht=0,ar()),B}function Dp(){for(;it!==null;)Td(it)}function Lp(e,i){var n=mt;mt|=2;var a=xd(),u=Ed();At!==e||ht!==i?(ih=null,th=We()+500,uo(e,i)):so=Pi(e,i);e:do try{if(yt!==0&&it!==null){i=it;var p=fr;t:switch(yt){case 1:yt=0,fr=null,co(e,i,p,1);break;case 2:case 9:if(Pr(p)){yt=0,fr=null,Dd(i);break}i=function(){yt!==2&&yt!==9||At!==e||(yt=7),Dn(e)},p.then(i,i);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:Pr(p)?(yt=0,fr=null,Dd(i)):(yt=0,fr=null,co(e,i,p,7));break;case 5:var B=null;switch(it.tag){case 26:B=it.memoizedState;case 5:case 27:var F=it;if(!B||ov(B)){yt=0,fr=null;var ee=F.sibling;if(ee!==null)it=ee;else{var de=F.return;de!==null?(it=de,nh(de)):it=null}break t}}yt=0,fr=null,co(e,i,p,5);break;case 6:yt=0,fr=null,co(e,i,p,6);break;case 8:df(),Kt=6;break e;default:throw Error(P(462))}}Ap();break}catch(be){wd(e,be)}while(!0);return Ur=Nn=null,K.H=a,K.A=u,mt=n,it!==null?0:(At=null,ht=0,ar(),Kt)}function Ap(){for(;it!==null&&!ei();)Td(it)}function Td(e){var i=o(e.alternate,e,Xn);e.memoizedProps=e.pendingProps,i===null?nh(e):it=i}function Dd(e){var i=e,n=i.alternate;switch(i.tag){case 15:case 0:i=ft(n,i,i.pendingProps,i.type,void 0,ht);break;case 11:i=ft(n,i,i.pendingProps,i.type.render,i.ref,ht);break;case 5:Ia(i);default:ae(n,i),i=it=Sa(i,Xn),i=o(n,i,Xn)}e.memoizedProps=e.pendingProps,i===null?nh(e):it=i}function co(e,i,n,a){Ur=Nn=null,Ia(i),Ps=null,Is=0;var u=i.return;try{if(hr(e,u,i,n,ht)){Kt=1,Ja(e,ri(n,e.current)),it=null;return}}catch(p){if(u!==null)throw it=u,p;Kt=1,Ja(e,ri(n,e.current)),it=null;return}i.flags&32768?(Je||a===1?e=!0:so||(ht&536870912)!==0?e=!1:(Qs=e=!0,(a===2||a===9||a===3||a===6)&&(a=tr.current,a!==null&&a.tag===13&&(a.flags|=16384))),Ld(i,e)):nh(i)}function nh(e){var i=e;do{if((i.flags&32768)!==0){Ld(i,Qs);return}e=i.return;var n=Y(i.alternate,i,Xn);if(n!==null){it=n;return}if(i=i.sibling,i!==null){it=i;return}it=i=e}while(i!==null);Kt===0&&(Kt=5)}function Ld(e,i){do{var n=V(e.alternate,e);if(n!==null){n.flags&=32767,it=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!i&&(e=e.sibling,e!==null)){it=e;return}it=e=n}while(e!==null);Kt=6,it=null}function Ad(e,i,n,a,u,p,B,F,ee){e.cancelPendingCommit=null;do sh();while(Li!==0);if((mt&6)!==0)throw Error(P(327));if(i!==null){if(i===e.current)throw Error(P(177));if(p=i.lanes|i.childLanes,p|=br,Yt(e,n,p,B,F,ee),e===At&&(it=At=null,ht=0),ao=i,$s=e,oo=n,cf=p,hf=u,yd=a,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Op(nr,function(){return Bd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null,u=J.p,J.p=2,B=mt,mt|=4;try{ai(e,i,n)}finally{mt=B,J.p=u,K.T=a}}Li=1,Md(),Rd(),kd()}}function Md(){if(Li===1){Li=0;var e=$s,i=ao,n=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||n){n=K.T,K.T=null;var a=J.p;J.p=2;var u=mt;mt|=4;try{En(i,e);var p=Df,B=fs(e.containerInfo),F=p.focusedElem,ee=p.selectionRange;if(B!==F&&F&&F.ownerDocument&&Qo(F.ownerDocument.documentElement,F)){if(ee!==null&&pa(F)){var de=ee.start,be=ee.end;if(be===void 0&&(be=de),"selectionStart"in F)F.selectionStart=de,F.selectionEnd=Math.min(be,F.value.length);else{var Ee=F.ownerDocument||document,ve=Ee&&Ee.defaultView||window;if(ve.getSelection){var ge=ve.getSelection(),Xe=F.textContent.length,qe=Math.min(ee.start,Xe),wt=ee.end===void 0?qe:Math.min(ee.end,Xe);!ge.extend&&qe>wt&&(B=wt,wt=qe,qe=B);var ce=Zo(F,qe),ne=Zo(F,wt);if(ce&&ne&&(ge.rangeCount!==1||ge.anchorNode!==ce.node||ge.anchorOffset!==ce.offset||ge.focusNode!==ne.node||ge.focusOffset!==ne.offset)){var he=Ee.createRange();he.setStart(ce.node,ce.offset),ge.removeAllRanges(),qe>wt?(ge.addRange(he),ge.extend(ne.node,ne.offset)):(he.setEnd(ne.node,ne.offset),ge.addRange(he))}}}}for(Ee=[],ge=F;ge=ge.parentNode;)ge.nodeType===1&&Ee.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Ee.length;F++){var Ce=Ee[F];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}_h=!!Tf,Df=Tf=null}finally{mt=u,J.p=a,K.T=n}}e.current=i,Li=2}}function Rd(){if(Li===2){Li=0;var e=$s,i=ao,n=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||n){n=K.T,K.T=null;var a=J.p;J.p=2;var u=mt;mt|=4;try{It(e,i.alternate,i)}finally{mt=u,J.p=a,K.T=n}}Li=3}}function kd(){if(Li===4||Li===3){Li=0,Ki();var e=$s,i=ao,n=oo,a=yd;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Li=5:(Li=0,ao=$s=null,Od(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Js=null),ci(n),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Ui,i,void 0,(i.current.flags&128)===128)}catch{}if(a!==null){i=K.T,u=J.p,J.p=2,K.T=null;try{for(var p=e.onRecoverableError,B=0;B<a.length;B++){var F=a[B];p(F.value,{componentStack:F.stack})}}finally{K.T=i,J.p=u}}(oo&3)!==0&&sh(),Dn(e),u=e.pendingLanes,(n&4194090)!==0&&(u&42)!==0?e===ff?Bu++:(Bu=0,ff=e):Bu=0,Hu(0)}}function Od(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Un(i)))}function sh(e){return Md(),Rd(),kd(),Bd()}function Bd(){if(Li!==5)return!1;var e=$s,i=cf;cf=0;var n=ci(oo),a=K.T,u=J.p;try{J.p=32>n?32:n,K.T=null,n=hf,hf=null;var p=$s,B=oo;if(Li=0,ao=$s=null,oo=0,(mt&6)!==0)throw Error(P(331));var F=mt;if(mt|=4,_d(p.current),vd(p,p.current,B,n),mt=F,Hu(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Ui,p)}catch{}return!0}finally{J.p=u,K.T=a,Od(e,i)}}function Hd(e,i,n){i=ri(n,i),i=wu(e.stateNode,i,2),e=Ir(e,i,2),e!==null&&(xt(e,2),Dn(e))}function Et(e,i,n){if(e.tag===3)Hd(e,e,n);else for(;i!==null;){if(i.tag===3){Hd(i,e,n);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Js===null||!Js.has(a))){e=ri(n,e),n=$a(2),a=Ir(i,n,2),a!==null&&(Gs(n,a,i,e),xt(a,2),Dn(a));break}}i=i.return}}function gf(e,i,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Ep;var u=new Set;a.set(i,u)}else u=a.get(i),u===void 0&&(u=new Set,a.set(i,u));u.has(n)||(lf=!0,u.add(n),e=Mp.bind(null,e,i,n),i.then(e,e))}function Mp(e,i,n){var a=e.pingCache;a!==null&&a.delete(i),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,At===e&&(ht&n)===n&&(Kt===4||Kt===3&&(ht&62914560)===ht&&300>We()-uf?(mt&2)===0&&uo(e,0):af|=n,lo===ht&&(lo=0)),Dn(e)}function Nd(e,i){i===0&&(i=na()),e=Bn(e,i),e!==null&&(xt(e,i),Dn(e))}function Rp(e){var i=e.memoizedState,n=0;i!==null&&(n=i.retryLane),Nd(e,n)}function kp(e,i){var n=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(P(314))}a!==null&&a.delete(i),Nd(e,n)}function Op(e,i){return $e(e,i)}var lh=null,ho=null,_f=!1,ah=!1,mf=!1,$l=0;function Dn(e){e!==ho&&e.next===null&&(ho===null?lh=ho=e:ho=ho.next=e),ah=!0,_f||(_f=!0,Hp())}function Hu(e,i){if(!mf&&ah){mf=!0;do for(var n=!1,a=lh;a!==null;){if(e!==0){var u=a.pendingLanes;if(u===0)var p=0;else{var B=a.suspendedLanes,F=a.pingedLanes;p=(1<<31-ui(42|e)+1)-1,p&=u&~(B&~F),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(n=!0,Id(a,p))}else p=ht,p=ra(a,a===At?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(p&3)===0||Pi(a,p)||(n=!0,Id(a,p));a=a.next}while(n);mf=!1}}function Bp(){zd()}function zd(){ah=_f=!1;var e=0;$l!==0&&(Wp()&&(e=$l),$l=0);for(var i=We(),n=null,a=lh;a!==null;){var u=a.next,p=Ud(a,i);p===0?(a.next=null,n===null?lh=u:n.next=u,u===null&&(ho=n)):(n=a,(e!==0||(p&3)!==0)&&(ah=!0)),a=u}Hu(e)}function Ud(e,i){for(var n=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var B=31-ui(p),F=1<<B,ee=u[B];ee===-1?((F&n)===0||(F&a)!==0)&&(u[B]=$u(F,i)):ee<=i&&(e.expiredLanes|=F),p&=~F}if(i=At,n=ht,n=ra(e,e===i?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===i&&(yt===2||yt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&vt(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Pi(e,n)){if(i=n&-n,i===e.callbackPriority)return i;switch(a!==null&&vt(a),ci(n)){case 2:case 8:n=et;break;case 32:n=nr;break;case 268435456:n=gi;break;default:n=nr}return a=Pd.bind(null,e),n=$e(n,a),e.callbackPriority=i,e.callbackNode=n,i}return a!==null&&a!==null&&vt(a),e.callbackPriority=2,e.callbackNode=null,2}function Pd(e,i){if(Li!==0&&Li!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(sh()&&e.callbackNode!==n)return null;var a=ht;return a=ra(e,e===At?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(bd(e,a,i),Ud(e,We()),e.callbackNode!=null&&e.callbackNode===n?Pd.bind(null,e):null)}function Id(e,i){if(sh())return null;bd(e,i,!0)}function Hp(){Gp(function(){(mt&6)!==0?$e(Qr,Bp):zd()})}function yf(){return $l===0&&($l=je()),$l}function Fd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:dl(""+e)}function jd(e,i){var n=i.ownerDocument.createElement("input");return n.name=i.name,n.value=i.value,e.id&&n.setAttribute("form",e.id),i.parentNode.insertBefore(n,i),e=new FormData(e),n.parentNode.removeChild(n),e}function Np(e,i,n,a,u){if(i==="submit"&&n&&n.stateNode===u){var p=Fd((u[Si]||null).action),B=a.submitter;B&&(i=(i=B[Si]||null)?Fd(i.formAction):B.getAttribute("formAction"),i!==null&&(p=i,B=null));var F=new bl("action","action",null,a,u);e.push({event:F,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if($l!==0){var ee=B?jd(u,B):new FormData(u);bn(n,{pending:!0,data:ee,method:u.method,action:p},null,ee)}}else typeof p=="function"&&(F.preventDefault(),ee=B?jd(u,B):new FormData(u),bn(n,{pending:!0,data:ee,method:u.method,action:p},p,ee))},currentTarget:u}]})}}for(var Sf=0;Sf<Al.length;Sf++){var bf=Al[Sf],zp=bf.toLowerCase(),Up=bf[0].toUpperCase()+bf.slice(1);Vi(zp,"on"+Up)}Vi(ga,"onAnimationEnd"),Vi(Ec,"onAnimationIteration"),Vi(Tc,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(Jh,"onTransitionRun"),Vi(Rn,"onTransitionStart"),Vi(gs,"onTransitionCancel"),Vi(kn,"onTransitionEnd"),nn("onMouseEnter",["mouseout","mouseover"]),nn("onMouseLeave",["mouseout","mouseover"]),nn("onPointerEnter",["pointerout","pointerover"]),nn("onPointerLeave",["pointerout","pointerover"]),mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nu));function Wd(e,i){i=(i&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],u=a.event;a=a.listeners;e:{var p=void 0;if(i)for(var B=a.length-1;0<=B;B--){var F=a[B],ee=F.instance,de=F.currentTarget;if(F=F.listener,ee!==p&&u.isPropagationStopped())break e;p=F,u.currentTarget=de;try{p(u)}catch(be){Zl(be)}u.currentTarget=null,p=ee}else for(B=0;B<a.length;B++){if(F=a[B],ee=F.instance,de=F.currentTarget,F=F.listener,ee!==p&&u.isPropagationStopped())break e;p=F,u.currentTarget=de;try{p(u)}catch(be){Zl(be)}u.currentTarget=null,p=ee}}}}function rt(e,i){var n=i[ol];n===void 0&&(n=i[ol]=new Set);var a=e+"__bubble";n.has(a)||(qd(i,e,2,!1),n.add(a))}function Cf(e,i,n){var a=0;i&&(a|=4),qd(n,e,a,i)}var oh="_reactListening"+Math.random().toString(36).slice(2);function wf(e){if(!e[oh]){e[oh]=!0,tc.forEach(function(n){n!=="selectionchange"&&(Pp.has(n)||Cf(n,!1,e),Cf(n,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[oh]||(i[oh]=!0,Cf("selectionchange",!1,i))}}function qd(e,i,n,a){switch(vv(i)){case 2:var u=fg;break;case 8:u=dg;break;default:u=zf}n=u.bind(null,i,n,e),u=void 0,!Ho||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(i,n,{capture:!0,passive:u}):e.addEventListener(i,n,!0):u!==void 0?e.addEventListener(i,n,{passive:u}):e.addEventListener(i,n,!1)}function xf(e,i,n,a,u){var p=a;if((i&1)===0&&(i&2)===0&&a!==null)e:for(;;){if(a===null)return;var B=a.tag;if(B===3||B===4){var F=a.stateNode.containerInfo;if(F===u)break;if(B===4)for(B=a.return;B!==null;){var ee=B.tag;if((ee===3||ee===4)&&B.stateNode.containerInfo===u)return;B=B.return}for(;F!==null;){if(B=ts(F),B===null)return;if(ee=B.tag,ee===5||ee===6||ee===26||ee===27){a=p=B;continue e}F=F.parentNode}}a=a.return}vl(function(){var de=p,be=Oo(n),Ee=[];e:{var ve=_a.get(e);if(ve!==void 0){var ge=bl,Xe=e;switch(e){case"keypress":if(ml(n)===0)break e;case"keydown":case"keyup":ge=Gh;break;case"focusin":Xe="focus",ge=Cl;break;case"focusout":Xe="blur",ge=Cl;break;case"beforeblur":case"afterblur":ge=Cl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=vc;break;case ga:case Ec:case Tc:ge=fa;break;case kn:ge=as;break;case"scroll":case"scrollend":ge=ua;break;case"wheel":ge=Zh;break;case"copy":case"cut":case"paste":ge=ls;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Io;break;case"toggle":case"beforetoggle":ge=wl}var qe=(i&4)!==0,wt=!qe&&(e==="scroll"||e==="scrollend"),ce=qe?ve!==null?ve+"Capture":null:ve;qe=[];for(var ne=de,he;ne!==null;){var Ce=ne;if(he=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||he===null||ce===null||(Ce=kr(ne,ce),Ce!=null&&qe.push(zu(ne,Ce,he))),wt)break;ne=ne.return}0<qe.length&&(ve=new ge(ve,Xe,null,n,be),Ee.push({event:ve,listeners:qe}))}}if((i&7)===0){e:{if(ve=e==="mouseover"||e==="pointerover",ge=e==="mouseout"||e==="pointerout",ve&&n!==ko&&(Xe=n.relatedTarget||n.fromElement)&&(ts(Xe)||Xe[es]))break e;if((ge||ve)&&(ve=be.window===be?be:(ve=be.ownerDocument)?ve.defaultView||ve.parentWindow:window,ge?(Xe=n.relatedTarget||n.toElement,ge=de,Xe=Xe?ts(Xe):null,Xe!==null&&(wt=le(Xe),qe=Xe.tag,Xe!==wt||qe!==5&&qe!==27&&qe!==6)&&(Xe=null)):(ge=null,Xe=de),ge!==Xe)){if(qe=uc,Ce="onMouseLeave",ce="onMouseEnter",ne="mouse",(e==="pointerout"||e==="pointerover")&&(qe=Io,Ce="onPointerLeave",ce="onPointerEnter",ne="pointer"),wt=ge==null?ve:ul(ge),he=Xe==null?ve:ul(Xe),ve=new qe(Ce,ne+"leave",ge,n,be),ve.target=wt,ve.relatedTarget=he,Ce=null,ts(be)===de&&(qe=new qe(ce,ne+"enter",Xe,n,be),qe.target=he,qe.relatedTarget=wt,Ce=qe),wt=Ce,ge&&Xe)t:{for(qe=ge,ce=Xe,ne=0,he=qe;he;he=fo(he))ne++;for(he=0,Ce=ce;Ce;Ce=fo(Ce))he++;for(;0<ne-he;)qe=fo(qe),ne--;for(;0<he-ne;)ce=fo(ce),he--;for(;ne--;){if(qe===ce||ce!==null&&qe===ce.alternate)break t;qe=fo(qe),ce=fo(ce)}qe=null}else qe=null;ge!==null&&Gd(Ee,ve,ge,qe,!1),Xe!==null&&wt!==null&&Gd(Ee,wt,Xe,qe,!0)}}e:{if(ve=de?ul(de):window,ge=ve.nodeName&&ve.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ve.type==="file")var Ue=lr;else if(yc(ve))if(un)Ue=bc;else{Ue=hs;var tt=Xo}else ge=ve.nodeName,!ge||ge.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?de&&oa(de.elementType)&&(Ue=lr):Ue=Sr;if(Ue&&(Ue=Ue(e,de))){cs(Ee,Ue,n,be);break e}tt&&tt(e,ve,de),e==="focusout"&&de&&ve.type==="number"&&de.memoizedProps.value!=null&&ns(ve,"number",ve.value)}switch(tt=de?ul(de):window,e){case"focusin":(yc(tt)||tt.contentEditable==="true")&&(cn=tt,ds=de,vs=null);break;case"focusout":vs=ds=cn=null;break;case"mousedown":ps=!0;break;case"contextmenu":case"mouseup":case"dragend":ps=!1,Qi(Ee,n,be);break;case"selectionchange":if(xc)break;case"keydown":case"keyup":Qi(Ee,n,be)}var Fe;if(Fo)e:{switch(e){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else us?va(e,n)&&(Ke="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ke="onCompositionStart");Ke&&(pc&&n.locale!=="ko"&&(us||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&us&&(Fe=oc()):(ln=be,gl="value"in ln?ln.value:ln.textContent,us=!0)),tt=uh(de,Ke),0<tt.length&&(Ke=new hc(Ke,e,null,n,be),Ee.push({event:Ke,listeners:tt}),Fe?Ke.data=Fe:(Fe=Wo(n),Fe!==null&&(Ke.data=Fe)))),(Fe=xl?Vh(e,n):_c(e,n))&&(Ke=uh(de,"onBeforeInput"),0<Ke.length&&(tt=new hc("onBeforeInput","beforeinput",null,n,be),Ee.push({event:tt,listeners:Ke}),tt.data=Fe)),Np(Ee,e,de,n,be)}Wd(Ee,i)})}function zu(e,i,n){return{instance:e,listener:i,currentTarget:n}}function uh(e,i){for(var n=i+"Capture",a=[];e!==null;){var u=e,p=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||p===null||(u=kr(e,n),u!=null&&a.unshift(zu(e,u,p)),u=kr(e,i),u!=null&&a.push(zu(e,u,p))),e.tag===3)return a;e=e.return}return[]}function fo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gd(e,i,n,a,u){for(var p=i._reactName,B=[];n!==null&&n!==a;){var F=n,ee=F.alternate,de=F.stateNode;if(F=F.tag,ee!==null&&ee===a)break;F!==5&&F!==26&&F!==27||de===null||(ee=de,u?(de=kr(n,p),de!=null&&B.unshift(zu(n,de,ee))):u||(de=kr(n,p),de!=null&&B.push(zu(n,de,ee)))),n=n.return}B.length!==0&&e.push({event:i,listeners:B})}var Ip=/\r\n?/g,Fp=/\u0000|\uFFFD/g;function Kd(e){return(typeof e=="string"?e:""+e).replace(Ip,`
`).replace(Fp,"")}function Yd(e,i){return i=Kd(i),Kd(e)===i}function ch(){}function Ct(e,i,n,a,u,p){switch(n){case"children":typeof a=="string"?i==="body"||i==="textarea"&&a===""||yr(e,a):(typeof a=="number"||typeof a=="bigint")&&i!=="body"&&yr(e,""+a);break;case"className":Tt(e,"class",a);break;case"tabIndex":Tt(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Tt(e,n,a);break;case"style":aa(e,a,p);break;case"data":if(i!=="object"){Tt(e,"data",a);break}case"src":case"href":if(a===""&&(i!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=dl(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(n==="formAction"?(i!=="input"&&Ct(e,i,"name",u.name,u,null),Ct(e,i,"formEncType",u.formEncType,u,null),Ct(e,i,"formMethod",u.formMethod,u,null),Ct(e,i,"formTarget",u.formTarget,u,null)):(Ct(e,i,"encType",u.encType,u,null),Ct(e,i,"method",u.method,u,null),Ct(e,i,"target",u.target,u,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=dl(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=ch);break;case"onScroll":a!=null&&rt("scroll",e);break;case"onScrollEnd":a!=null&&rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(P(61));if(n=a.__html,n!=null){if(u.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=dl(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":rt("beforetoggle",e),rt("toggle",e),cl(e,"popover",a);break;case"xlinkActuate":He(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":He(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":He(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":He(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":He(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":He(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":He(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":He(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":He(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":cl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=sc.get(n)||n,cl(e,n,a))}}function Ef(e,i,n,a,u,p){switch(n){case"style":aa(e,a,p);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(P(61));if(n=a.__html,n!=null){if(u.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"children":typeof a=="string"?yr(e,a):(typeof a=="number"||typeof a=="bigint")&&yr(e,""+a);break;case"onScroll":a!=null&&rt("scroll",e);break;case"onScrollEnd":a!=null&&rt("scrollend",e);break;case"onClick":a!=null&&(e.onclick=ch);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ic.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),i=n.slice(2,u?n.length-7:void 0),p=e[Si]||null,p=p!=null?p[n]:null,typeof p=="function"&&e.removeEventListener(i,p,u),typeof a=="function")){typeof p!="function"&&p!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(i,a,u);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):cl(e,n,a)}}}function Ai(e,i,n){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",e),rt("load",e);var a=!1,u=!1,p;for(p in n)if(n.hasOwnProperty(p)){var B=n[p];if(B!=null)switch(p){case"src":a=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(P(137,i));default:Ct(e,i,p,B,n,null)}}u&&Ct(e,i,"srcSet",n.srcSet,n,null),a&&Ct(e,i,"src",n.src,n,null);return;case"input":rt("invalid",e);var F=p=B=u=null,ee=null,de=null;for(a in n)if(n.hasOwnProperty(a)){var be=n[a];if(be!=null)switch(a){case"name":u=be;break;case"type":B=be;break;case"checked":ee=be;break;case"defaultChecked":de=be;break;case"value":p=be;break;case"defaultValue":F=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(P(137,i));break;default:Ct(e,i,a,be,n,null)}}Do(e,p,F,ee,de,B,u,!1),rs(e);return;case"select":rt("invalid",e),a=B=p=null;for(u in n)if(n.hasOwnProperty(u)&&(F=n[u],F!=null))switch(u){case"value":p=F;break;case"defaultValue":B=F;break;case"multiple":a=F;default:Ct(e,i,u,F,n,null)}i=p,n=B,e.multiple=!!a,i!=null?Ci(e,!!a,i,!1):n!=null&&Ci(e,!!a,n,!0);return;case"textarea":rt("invalid",e),p=u=a=null;for(B in n)if(n.hasOwnProperty(B)&&(F=n[B],F!=null))switch(B){case"value":a=F;break;case"defaultValue":u=F;break;case"children":p=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(P(91));break;default:Ct(e,i,B,F,n,null)}Ao(e,a,u,p),rs(e);return;case"option":for(ee in n)if(n.hasOwnProperty(ee)&&(a=n[ee],a!=null))switch(ee){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ct(e,i,ee,a,n,null)}return;case"dialog":rt("beforetoggle",e),rt("toggle",e),rt("cancel",e),rt("close",e);break;case"iframe":case"object":rt("load",e);break;case"video":case"audio":for(a=0;a<Nu.length;a++)rt(Nu[a],e);break;case"image":rt("error",e),rt("load",e);break;case"details":rt("toggle",e);break;case"embed":case"source":case"link":rt("error",e),rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in n)if(n.hasOwnProperty(de)&&(a=n[de],a!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(P(137,i));default:Ct(e,i,de,a,n,null)}return;default:if(oa(i)){for(be in n)n.hasOwnProperty(be)&&(a=n[be],a!==void 0&&Ef(e,i,be,a,n,void 0));return}}for(F in n)n.hasOwnProperty(F)&&(a=n[F],a!=null&&Ct(e,i,F,a,n,null))}function jp(e,i,n,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,p=null,B=null,F=null,ee=null,de=null,be=null;for(ge in n){var Ee=n[ge];if(n.hasOwnProperty(ge)&&Ee!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":ee=Ee;default:a.hasOwnProperty(ge)||Ct(e,i,ge,null,a,Ee)}}for(var ve in a){var ge=a[ve];if(Ee=n[ve],a.hasOwnProperty(ve)&&(ge!=null||Ee!=null))switch(ve){case"type":p=ge;break;case"name":u=ge;break;case"checked":de=ge;break;case"defaultChecked":be=ge;break;case"value":B=ge;break;case"defaultValue":F=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(P(137,i));break;default:ge!==Ee&&Ct(e,i,ve,ge,a,Ee)}}To(e,B,F,ee,de,be,p,u);return;case"select":ge=B=F=ve=null;for(p in n)if(ee=n[p],n.hasOwnProperty(p)&&ee!=null)switch(p){case"value":break;case"multiple":ge=ee;default:a.hasOwnProperty(p)||Ct(e,i,p,null,a,ee)}for(u in a)if(p=a[u],ee=n[u],a.hasOwnProperty(u)&&(p!=null||ee!=null))switch(u){case"value":ve=p;break;case"defaultValue":F=p;break;case"multiple":B=p;default:p!==ee&&Ct(e,i,u,p,a,ee)}i=F,n=B,a=ge,ve!=null?Ci(e,!!n,ve,!1):!!a!=!!n&&(i!=null?Ci(e,!!n,i,!0):Ci(e,!!n,n?[]:"",!1));return;case"textarea":ge=ve=null;for(F in n)if(u=n[F],n.hasOwnProperty(F)&&u!=null&&!a.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Ct(e,i,F,null,a,u)}for(B in a)if(u=a[B],p=n[B],a.hasOwnProperty(B)&&(u!=null||p!=null))switch(B){case"value":ve=u;break;case"defaultValue":ge=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(P(91));break;default:u!==p&&Ct(e,i,B,u,a,p)}Lo(e,ve,ge);return;case"option":for(var Xe in n)if(ve=n[Xe],n.hasOwnProperty(Xe)&&ve!=null&&!a.hasOwnProperty(Xe))switch(Xe){case"selected":e.selected=!1;break;default:Ct(e,i,Xe,null,a,ve)}for(ee in a)if(ve=a[ee],ge=n[ee],a.hasOwnProperty(ee)&&ve!==ge&&(ve!=null||ge!=null))switch(ee){case"selected":e.selected=ve&&typeof ve!="function"&&typeof ve!="symbol";break;default:Ct(e,i,ee,ve,a,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in n)ve=n[qe],n.hasOwnProperty(qe)&&ve!=null&&!a.hasOwnProperty(qe)&&Ct(e,i,qe,null,a,ve);for(de in a)if(ve=a[de],ge=n[de],a.hasOwnProperty(de)&&ve!==ge&&(ve!=null||ge!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(P(137,i));break;default:Ct(e,i,de,ve,a,ge)}return;default:if(oa(i)){for(var wt in n)ve=n[wt],n.hasOwnProperty(wt)&&ve!==void 0&&!a.hasOwnProperty(wt)&&Ef(e,i,wt,void 0,a,ve);for(be in a)ve=a[be],ge=n[be],!a.hasOwnProperty(be)||ve===ge||ve===void 0&&ge===void 0||Ef(e,i,be,ve,a,ge);return}}for(var ce in n)ve=n[ce],n.hasOwnProperty(ce)&&ve!=null&&!a.hasOwnProperty(ce)&&Ct(e,i,ce,null,a,ve);for(Ee in a)ve=a[Ee],ge=n[Ee],!a.hasOwnProperty(Ee)||ve===ge||ve==null&&ge==null||Ct(e,i,Ee,ve,a,ge)}var Tf=null,Df=null;function hh(e){return e.nodeType===9?e:e.ownerDocument}function Xd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zd(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Lf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Af=null;function Wp(){var e=window.event;return e&&e.type==="popstate"?e===Af?!1:(Af=e,!0):(Af=null,!1)}var Qd=typeof setTimeout=="function"?setTimeout:void 0,qp=typeof clearTimeout=="function"?clearTimeout:void 0,Vd=typeof Promise=="function"?Promise:void 0,Gp=typeof queueMicrotask=="function"?queueMicrotask:typeof Vd<"u"?function(e){return Vd.resolve(null).then(e).catch(Kp)}:Qd;function Kp(e){setTimeout(function(){throw e})}function tl(e){return e==="head"}function Jd(e,i){var n=i,a=0,u=0;do{var p=n.nextSibling;if(e.removeChild(n),p&&p.nodeType===8)if(n=p.data,n==="/$"){if(0<a&&8>a){n=a;var B=e.ownerDocument;if(n&1&&Uu(B.documentElement),n&2&&Uu(B.body),n&4)for(n=B.head,Uu(n),B=n.firstChild;B;){var F=B.nextSibling,ee=B.nodeName;B[Ln]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&B.rel.toLowerCase()==="stylesheet"||n.removeChild(B),B=F}}if(u===0){e.removeChild(p),Ku(i);return}u--}else n==="$"||n==="$?"||n==="$!"?u++:a=n.charCodeAt(0)-48;else a=0;n=p}while(n);Ku(i)}function Mf(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var n=i;switch(i=i.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Mf(n),wo(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Yp(e,i,n,a){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Ln])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var p=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Xr(e.nextSibling),e===null)break}return null}function Xp(e,i,n){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Xr(e.nextSibling),e===null))return null;return e}function Rf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Zp(e,i){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")i();else{var a=function(){i(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Xr(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var kf=null;function $d(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(i===0)return e;i--}else n==="/$"&&i++}e=e.previousSibling}return null}function ev(e,i,n){switch(i=hh(n),e){case"html":if(e=i.documentElement,!e)throw Error(P(452));return e;case"head":if(e=i.head,!e)throw Error(P(453));return e;case"body":if(e=i.body,!e)throw Error(P(454));return e;default:throw Error(P(451))}}function Uu(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);wo(e)}var Ar=new Map,tv=new Set;function fh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zn=J.d;J.d={f:Qp,r:Vp,D:Jp,C:$p,L:eg,m:tg,X:rg,S:ig,M:ng};function Qp(){var e=Zn.f(),i=rh();return e||i}function Vp(e){var i=tn(e);i!==null&&i.tag===5&&i.type==="form"?Xa(i):Zn.r(e)}var vo=typeof document>"u"?null:document;function iv(e,i,n){var a=vo;if(a&&typeof i=="string"&&i){var u=Pe(i);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),tv.has(u)||(tv.add(u),e={rel:e,crossOrigin:n,href:i},a.querySelector(u)===null&&(i=a.createElement("link"),Ai(i,"link",e),Mt(i),a.head.appendChild(i)))}}function Jp(e){Zn.D(e),iv("dns-prefetch",e,null)}function $p(e,i){Zn.C(e,i),iv("preconnect",e,i)}function eg(e,i,n){Zn.L(e,i,n);var a=vo;if(a&&e&&i){var u='link[rel="preload"][as="'+Pe(i)+'"]';i==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Pe(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Pe(n.imageSizes)+'"]')):u+='[href="'+Pe(e)+'"]';var p=u;switch(i){case"style":p=po(e);break;case"script":p=go(e)}Ar.has(p)||(e=b({rel:"preload",href:i==="image"&&n&&n.imageSrcSet?void 0:e,as:i},n),Ar.set(p,e),a.querySelector(u)!==null||i==="style"&&a.querySelector(Pu(p))||i==="script"&&a.querySelector(Iu(p))||(i=a.createElement("link"),Ai(i,"link",e),Mt(i),a.head.appendChild(i)))}}function tg(e,i){Zn.m(e,i);var n=vo;if(n&&e){var a=i&&typeof i.as=="string"?i.as:"script",u='link[rel="modulepreload"][as="'+Pe(a)+'"][href="'+Pe(e)+'"]',p=u;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=go(e)}if(!Ar.has(p)&&(e=b({rel:"modulepreload",href:e},i),Ar.set(p,e),n.querySelector(u)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Iu(p)))return}a=n.createElement("link"),Ai(a,"link",e),Mt(a),n.head.appendChild(a)}}}function ig(e,i,n){Zn.S(e,i,n);var a=vo;if(a&&e){var u=rn(a).hoistableStyles,p=po(e);i=i||"default";var B=u.get(p);if(!B){var F={loading:0,preload:null};if(B=a.querySelector(Pu(p)))F.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":i},n),(n=Ar.get(p))&&Of(e,n);var ee=B=a.createElement("link");Mt(ee),Ai(ee,"link",e),ee._p=new Promise(function(de,be){ee.onload=de,ee.onerror=be}),ee.addEventListener("load",function(){F.loading|=1}),ee.addEventListener("error",function(){F.loading|=2}),F.loading|=4,dh(B,i,a)}B={type:"stylesheet",instance:B,count:1,state:F},u.set(p,B)}}}function rg(e,i){Zn.X(e,i);var n=vo;if(n&&e){var a=rn(n).hoistableScripts,u=go(e),p=a.get(u);p||(p=n.querySelector(Iu(u)),p||(e=b({src:e,async:!0},i),(i=Ar.get(u))&&Bf(e,i),p=n.createElement("script"),Mt(p),Ai(p,"link",e),n.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(u,p))}}function ng(e,i){Zn.M(e,i);var n=vo;if(n&&e){var a=rn(n).hoistableScripts,u=go(e),p=a.get(u);p||(p=n.querySelector(Iu(u)),p||(e=b({src:e,async:!0,type:"module"},i),(i=Ar.get(u))&&Bf(e,i),p=n.createElement("script"),Mt(p),Ai(p,"link",e),n.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(u,p))}}function rv(e,i,n,a){var u=(u=Be.current)?fh(u):null;if(!u)throw Error(P(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(i=po(n.href),n=rn(u).hoistableStyles,a=n.get(i),a||(a={type:"style",instance:null,count:0,state:null},n.set(i,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=po(n.href);var p=rn(u).hoistableStyles,B=p.get(e);if(B||(u=u.ownerDocument||u,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,B),(p=u.querySelector(Pu(e)))&&!p._p&&(B.instance=p,B.state.loading=5),Ar.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ar.set(e,n),p||sg(u,e,n,B.state))),i&&a===null)throw Error(P(528,""));return B}if(i&&a!==null)throw Error(P(529,""));return null;case"script":return i=n.async,n=n.src,typeof n=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=go(n),n=rn(u).hoistableScripts,a=n.get(i),a||(a={type:"script",instance:null,count:0,state:null},n.set(i,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(P(444,e))}}function po(e){return'href="'+Pe(e)+'"'}function Pu(e){return'link[rel="stylesheet"]['+e+"]"}function nv(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function sg(e,i,n,a){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?a.loading=1:(i=e.createElement("link"),a.preload=i,i.addEventListener("load",function(){return a.loading|=1}),i.addEventListener("error",function(){return a.loading|=2}),Ai(i,"link",n),Mt(i),e.head.appendChild(i))}function go(e){return'[src="'+Pe(e)+'"]'}function Iu(e){return"script[async]"+e}function sv(e,i,n){if(i.count++,i.instance===null)switch(i.type){case"style":var a=e.querySelector('style[data-href~="'+Pe(n.href)+'"]');if(a)return i.instance=a,Mt(a),a;var u=b({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Mt(a),Ai(a,"style",u),dh(a,n.precedence,e),i.instance=a;case"stylesheet":u=po(n.href);var p=e.querySelector(Pu(u));if(p)return i.state.loading|=4,i.instance=p,Mt(p),p;a=nv(n),(u=Ar.get(u))&&Of(a,u),p=(e.ownerDocument||e).createElement("link"),Mt(p);var B=p;return B._p=new Promise(function(F,ee){B.onload=F,B.onerror=ee}),Ai(p,"link",a),i.state.loading|=4,dh(p,n.precedence,e),i.instance=p;case"script":return p=go(n.src),(u=e.querySelector(Iu(p)))?(i.instance=u,Mt(u),u):(a=n,(u=Ar.get(p))&&(a=b({},n),Bf(a,u)),e=e.ownerDocument||e,u=e.createElement("script"),Mt(u),Ai(u,"link",a),e.head.appendChild(u),i.instance=u);case"void":return null;default:throw Error(P(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(a=i.instance,i.state.loading|=4,dh(a,n.precedence,e));return i.instance}function dh(e,i,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=a.length?a[a.length-1]:null,p=u,B=0;B<a.length;B++){var F=a[B];if(F.dataset.precedence===i)p=F;else if(p!==u)break}p?p.parentNode.insertBefore(e,p.nextSibling):(i=n.nodeType===9?n.head:n,i.insertBefore(e,i.firstChild))}function Of(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Bf(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var vh=null;function lv(e,i,n){if(vh===null){var a=new Map,u=vh=new Map;u.set(n,a)}else u=vh,a=u.get(n),a||(a=new Map,u.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var p=n[u];if(!(p[Ln]||p[ii]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var B=p.getAttribute(i)||"";B=e+B;var F=a.get(B);F?F.push(p):a.set(B,[p])}}return a}function av(e,i,n){e=e.ownerDocument||e,e.head.insertBefore(n,i==="title"?e.querySelector("head > title"):null)}function lg(e,i,n){if(n===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ov(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Fu=null;function ag(){}function og(e,i,n){if(Fu===null)throw Error(P(475));var a=Fu;if(i.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=po(n.href),p=e.querySelector(Pu(u));if(p){e=p._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=ph.bind(a),e.then(a,a)),i.state.loading|=4,i.instance=p,Mt(p);return}p=e.ownerDocument||e,n=nv(n),(u=Ar.get(u))&&Of(n,u),p=p.createElement("link"),Mt(p);var B=p;B._p=new Promise(function(F,ee){B.onload=F,B.onerror=ee}),Ai(p,"link",n),i.instance=p}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(a.count++,i=ph.bind(a),e.addEventListener("load",i),e.addEventListener("error",i))}}function ug(){if(Fu===null)throw Error(P(475));var e=Fu;return e.stylesheets&&e.count===0&&Hf(e,e.stylesheets),0<e.count?function(i){var n=setTimeout(function(){if(e.stylesheets&&Hf(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(n)}}:null}function ph(){if(this.count--,this.count===0){if(this.stylesheets)Hf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gh=null;function Hf(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gh=new Map,i.forEach(cg,e),gh=null,ph.call(e))}function cg(e,i){if(!(i.state.loading&4)){var n=gh.get(e);if(n)var a=n.get(null);else{n=new Map,gh.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<u.length;p++){var B=u[p];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(n.set(B.dataset.precedence,B),a=B)}a&&n.set(null,a)}u=i.instance,B=u.getAttribute("data-precedence"),p=n.get(B)||a,p===a&&n.set(null,u),n.set(B,u),this.count++,a=ph.bind(this),u.addEventListener("load",a),u.addEventListener("error",a),p?p.parentNode.insertBefore(u,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),i.state.loading|=4}}var ju={$$typeof:v,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function hg(e,i,n,a,u,p,B,F){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=a,this.onUncaughtError=u,this.onCaughtError=p,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function uv(e,i,n,a,u,p,B,F,ee,de,be,Ee){return e=new hg(e,i,n,B,F,ee,de,Ee),i=1,p===!0&&(i|=24),p=Wi(3,null,null,i),e.current=p,p.stateNode=e,i=ru(),i.refCount++,e.pooledCache=i,i.refCount++,p.memoizedState={element:a,isDehydrated:n,cache:i},ka(p),e}function cv(e){return e?(e=vn,e):vn}function hv(e,i,n,a,u,p){u=cv(u),a.context===null?a.context=u:a.pendingContext=u,a=Ti(i),a.payload={element:n},p=p===void 0?null:p,p!==null&&(a.callback=p),n=Ir(e,a,i),n!==null&&(vr(n,e,i),ws(n,e,i))}function fv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<i?n:i}}function Nf(e,i){fv(e,i),(e=e.alternate)&&fv(e,i)}function dv(e){if(e.tag===13){var i=Bn(e,67108864);i!==null&&vr(i,e,67108864),Nf(e,67108864)}}var _h=!0;function fg(e,i,n,a){var u=K.T;K.T=null;var p=J.p;try{J.p=2,zf(e,i,n,a)}finally{J.p=p,K.T=u}}function dg(e,i,n,a){var u=K.T;K.T=null;var p=J.p;try{J.p=8,zf(e,i,n,a)}finally{J.p=p,K.T=u}}function zf(e,i,n,a){if(_h){var u=Uf(a);if(u===null)xf(e,i,a,mh,n),pv(e,a);else if(pg(u,e,i,n,a))a.stopPropagation();else if(pv(e,a),i&4&&-1<vg.indexOf(e)){for(;u!==null;){var p=tn(u);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var B=sr(p.pendingLanes);if(B!==0){var F=p;for(F.pendingLanes|=2,F.entangledLanes|=2;B;){var ee=1<<31-ui(B);F.entanglements[1]|=ee,B&=~ee}Dn(p),(mt&6)===0&&(th=We()+500,Hu(0))}}break;case 13:F=Bn(p,2),F!==null&&vr(F,p,2),rh(),Nf(p,2)}if(p=Uf(a),p===null&&xf(e,i,a,mh,n),p===u)break;u=p}u!==null&&a.stopPropagation()}else xf(e,i,a,null,n)}}function Uf(e){return e=Oo(e),Pf(e)}var mh=null;function Pf(e){if(mh=null,e=ts(e),e!==null){var i=le(e);if(i===null)e=null;else{var n=i.tag;if(n===13){if(e=$(i),e!==null)return e;e=null}else if(n===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return mh=e,null}function vv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_r()){case Qr:return 2;case et:return 8;case nr:case Jn:return 32;case gi:return 268435456;default:return 32}default:return 32}}var If=!1,il=null,rl=null,nl=null,Wu=new Map,qu=new Map,sl=[],vg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pv(e,i){switch(e){case"focusin":case"focusout":il=null;break;case"dragenter":case"dragleave":rl=null;break;case"mouseover":case"mouseout":nl=null;break;case"pointerover":case"pointerout":Wu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":qu.delete(i.pointerId)}}function Gu(e,i,n,a,u,p){return e===null||e.nativeEvent!==p?(e={blockedOn:i,domEventName:n,eventSystemFlags:a,nativeEvent:p,targetContainers:[u]},i!==null&&(i=tn(i),i!==null&&dv(i)),e):(e.eventSystemFlags|=a,i=e.targetContainers,u!==null&&i.indexOf(u)===-1&&i.push(u),e)}function pg(e,i,n,a,u){switch(i){case"focusin":return il=Gu(il,e,i,n,a,u),!0;case"dragenter":return rl=Gu(rl,e,i,n,a,u),!0;case"mouseover":return nl=Gu(nl,e,i,n,a,u),!0;case"pointerover":var p=u.pointerId;return Wu.set(p,Gu(Wu.get(p)||null,e,i,n,a,u)),!0;case"gotpointercapture":return p=u.pointerId,qu.set(p,Gu(qu.get(p)||null,e,i,n,a,u)),!0}return!1}function gv(e){var i=ts(e.target);if(i!==null){var n=le(i);if(n!==null){if(i=n.tag,i===13){if(i=$(n),i!==null){e.blockedOn=i,bo(e.priority,function(){if(n.tag===13){var a=dr();a=en(a);var u=Bn(n,a);u!==null&&vr(u,n,a),Nf(n,a)}});return}}else if(i===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var n=Uf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);ko=a,n.target.dispatchEvent(a),ko=null}else return i=tn(n),i!==null&&dv(i),e.blockedOn=n,!1;i.shift()}return!0}function _v(e,i,n){yh(e)&&n.delete(i)}function gg(){If=!1,il!==null&&yh(il)&&(il=null),rl!==null&&yh(rl)&&(rl=null),nl!==null&&yh(nl)&&(nl=null),Wu.forEach(_v),qu.forEach(_v)}function Sh(e,i){e.blockedOn===i&&(e.blockedOn=null,If||(If=!0,L.unstable_scheduleCallback(L.unstable_NormalPriority,gg)))}var bh=null;function mv(e){bh!==e&&(bh=e,L.unstable_scheduleCallback(L.unstable_NormalPriority,function(){bh===e&&(bh=null);for(var i=0;i<e.length;i+=3){var n=e[i],a=e[i+1],u=e[i+2];if(typeof a!="function"){if(Pf(a||n)===null)continue;break}var p=tn(n);p!==null&&(e.splice(i,3),i-=3,bn(p,{pending:!0,data:u,method:n.method,action:a},a,u))}}))}function Ku(e){function i(ee){return Sh(ee,e)}il!==null&&Sh(il,e),rl!==null&&Sh(rl,e),nl!==null&&Sh(nl,e),Wu.forEach(i),qu.forEach(i);for(var n=0;n<sl.length;n++){var a=sl[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<sl.length&&(n=sl[0],n.blockedOn===null);)gv(n),n.blockedOn===null&&sl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var u=n[a],p=n[a+1],B=u[Si]||null;if(typeof p=="function")B||mv(n);else if(B){var F=null;if(p&&p.hasAttribute("formAction")){if(u=p,B=p[Si]||null)F=B.formAction;else if(Pf(u)!==null)continue}else F=B.action;typeof F=="function"?n[a+1]=F:(n.splice(a,3),a-=3),mv(n)}}}function Ff(e){this._internalRoot=e}Ch.prototype.render=Ff.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(P(409));var n=i.current,a=dr();hv(n,a,e,i,null,null)},Ch.prototype.unmount=Ff.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;hv(e.current,2,null,e,null,null),rh(),i[es]=null}};function Ch(e){this._internalRoot=e}Ch.prototype.unstable_scheduleHydration=function(e){if(e){var i=So();e={blockedOn:null,target:e,priority:i};for(var n=0;n<sl.length&&i!==0&&i<sl[n].priority;n++);sl.splice(n,0,e),n===0&&gv(e)}};var yv=W.version;if(yv!=="19.1.0")throw Error(P(527,yv,"19.1.0"));J.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=_(i),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var _g={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{Ui=wh.inject(_g),jt=wh}catch{}}return Xu.createRoot=function(e,i){if(!Z(e))throw Error(P(299));var n=!1,a="",u=Ql,p=Xc,B=Zc,F=null;return i!=null&&(i.unstable_strictMode===!0&&(n=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(B=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(F=i.unstable_transitionCallbacks)),i=uv(e,1,!1,null,null,n,a,u,p,B,F,null),e[es]=i.current,wf(e),new Ff(i)},Xu.hydrateRoot=function(e,i,n){if(!Z(e))throw Error(P(299));var a=!1,u="",p=Ql,B=Xc,F=Zc,ee=null,de=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(B=n.onCaughtError),n.onRecoverableError!==void 0&&(F=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(ee=n.unstable_transitionCallbacks),n.formState!==void 0&&(de=n.formState)),i=uv(e,1,!0,i,n??null,a,u,p,B,F,ee,de),i.context=cv(null),n=i.current,a=dr(),a=en(a),u=Ti(a),u.callback=null,Ir(n,u,a),n=a,i.current.lanes=n,xt(i,n),Dn(i),e[es]=i.current,wf(e),new Ch(i)},Xu.version="19.1.0",Xu}var Av;function Dg(){if(Av)return qf.exports;Av=1;function L(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L)}catch(W){console.error(W)}}return L(),qf.exports=Tg(),qf.exports}var Lg=Dg();const Ag=np(Lg);var Xf={exports:{}},Zf={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function Mg(){if(Mv)return Zf;Mv=1;var L=Bh();function W(_,m){return _===m&&(_!==0||1/_===1/m)||_!==_&&m!==m}var I=typeof Object.is=="function"?Object.is:W,P=L.useSyncExternalStore,Z=L.useRef,le=L.useEffect,$=L.useMemo,g=L.useDebugValue;return Zf.useSyncExternalStoreWithSelector=function(_,m,b,y,T){var M=Z(null);if(M.current===null){var k={hasValue:!1,value:null};M.current=k}else k=M.current;M=$(function(){function c(x){if(!f){if(f=!0,d=x,x=y(x),T!==void 0&&k.hasValue){var H=k.value;if(T(H,x))return v=H}return v=x}if(H=v,I(d,x))return H;var U=y(x);return T!==void 0&&T(H,U)?(d=x,H):(d=x,v=U)}var f=!1,d,v,C=b===void 0?null:b;return[function(){return c(m())},C===null?void 0:function(){return c(C())}]},[m,b,y,T]);var A=P(_,M[0],M[1]);return le(function(){k.hasValue=!0,k.value=A},[A]),g(A),A},Zf}var Rv;function Rg(){return Rv||(Rv=1,Xf.exports=Mg()),Xf.exports}var kg=Rg();function Og(L){L()}function Bg(){let L=null,W=null;return{clear(){L=null,W=null},notify(){Og(()=>{let I=L;for(;I;)I.callback(),I=I.next})},get(){const I=[];let P=L;for(;P;)I.push(P),P=P.next;return I},subscribe(I){let P=!0;const Z=W={callback:I,next:null,prev:W};return Z.prev?Z.prev.next=Z:L=Z,function(){!P||L===null||(P=!1,Z.next?Z.next.prev=Z.prev:W=Z.prev,Z.prev?Z.prev.next=Z.next:L=Z.next)}}}}var kv={notify(){},get:()=>[]};function Hg(L,W){let I,P=kv,Z=0,le=!1;function $(A){b();const c=P.subscribe(A);let f=!1;return()=>{f||(f=!0,c(),y())}}function g(){P.notify()}function _(){k.onStateChange&&k.onStateChange()}function m(){return le}function b(){Z++,I||(I=L.subscribe(_),P=Bg())}function y(){Z--,I&&Z===0&&(I(),I=void 0,P.clear(),P=kv)}function T(){le||(le=!0,b())}function M(){le&&(le=!1,y())}const k={addNestedSub:$,notifyNestedSubs:g,handleChangeWrapper:_,isSubscribed:m,trySubscribe:T,tryUnsubscribe:M,getListeners:()=>P};return k}var Ng=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zg=Ng(),Ug=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Pg=Ug(),Ig=()=>zg||Pg?st.useLayoutEffect:st.useEffect,Fg=Ig(),Qf=Symbol.for("react-redux-context"),Vf=typeof globalThis<"u"?globalThis:{};function jg(){if(!st.createContext)return{};const L=Vf[Qf]??(Vf[Qf]=new Map);let W=L.get(st.createContext);return W||(W=st.createContext(null),L.set(st.createContext,W)),W}var al=jg();function Wg(L){const{children:W,context:I,serverState:P,store:Z}=L,le=st.useMemo(()=>{const _=Hg(Z);return{store:Z,subscription:_,getServerState:P?()=>P:void 0}},[Z,P]),$=st.useMemo(()=>Z.getState(),[Z]);Fg(()=>{const{subscription:_}=le;return _.onStateChange=_.notifyNestedSubs,_.trySubscribe(),$!==Z.getState()&&_.notifyNestedSubs(),()=>{_.tryUnsubscribe(),_.onStateChange=void 0}},[le,$]);const g=I||al;return st.createElement(g.Provider,{value:le},W)}var qg=Wg;function ud(L=al){return function(){return st.useContext(L)}}var sp=ud();function lp(L=al){const W=L===al?sp:ud(L),I=()=>{const{store:P}=W();return P};return Object.assign(I,{withTypes:()=>I}),I}var Gg=lp();function Kg(L=al){const W=L===al?Gg:lp(L),I=()=>W().dispatch;return Object.assign(I,{withTypes:()=>I}),I}var Hh=Kg(),Yg=(L,W)=>L===W;function Xg(L=al){const W=L===al?sp:ud(L),I=(P,Z={})=>{const{equalityFn:le=Yg}=typeof Z=="function"?{equalityFn:Z}:Z,$=W(),{store:g,subscription:_,getServerState:m}=$;st.useRef(!0);const b=st.useCallback({[P.name](T){return P(T)}}[P.name],[P]),y=kg.useSyncExternalStoreWithSelector(_.addNestedSub,g.getState,m||g.getState,b,le);return st.useDebugValue(y),y};return Object.assign(I,{withTypes:()=>I}),I}var Qu=Xg();function Mi(L){return`Minified Redux error #${L}; visit https://redux.js.org/Errors?code=${L} for the full message or use the non-minified dev environment for full errors. `}var Zg=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ov=Zg,Jf=()=>Math.random().toString(36).substring(7).split("").join("."),Qg={INIT:`@@redux/INIT${Jf()}`,REPLACE:`@@redux/REPLACE${Jf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Jf()}`},Lh=Qg;function cd(L){if(typeof L!="object"||L===null)return!1;let W=L;for(;Object.getPrototypeOf(W)!==null;)W=Object.getPrototypeOf(W);return Object.getPrototypeOf(L)===W||Object.getPrototypeOf(L)===null}function ap(L,W,I){if(typeof L!="function")throw new Error(Mi(2));if(typeof W=="function"&&typeof I=="function"||typeof I=="function"&&typeof arguments[3]=="function")throw new Error(Mi(0));if(typeof W=="function"&&typeof I>"u"&&(I=W,W=void 0),typeof I<"u"){if(typeof I!="function")throw new Error(Mi(1));return I(ap)(L,W)}let P=L,Z=W,le=new Map,$=le,g=0,_=!1;function m(){$===le&&($=new Map,le.forEach((c,f)=>{$.set(f,c)}))}function b(){if(_)throw new Error(Mi(3));return Z}function y(c){if(typeof c!="function")throw new Error(Mi(4));if(_)throw new Error(Mi(5));let f=!0;m();const d=g++;return $.set(d,c),function(){if(f){if(_)throw new Error(Mi(6));f=!1,m(),$.delete(d),le=null}}}function T(c){if(!cd(c))throw new Error(Mi(7));if(typeof c.type>"u")throw new Error(Mi(8));if(typeof c.type!="string")throw new Error(Mi(17));if(_)throw new Error(Mi(9));try{_=!0,Z=P(Z,c)}finally{_=!1}return(le=$).forEach(d=>{d()}),c}function M(c){if(typeof c!="function")throw new Error(Mi(10));P=c,T({type:Lh.REPLACE})}function k(){const c=y;return{subscribe(f){if(typeof f!="object"||f===null)throw new Error(Mi(11));function d(){const C=f;C.next&&C.next(b())}return d(),{unsubscribe:c(d)}},[Ov](){return this}}}return T({type:Lh.INIT}),{dispatch:T,subscribe:y,getState:b,replaceReducer:M,[Ov]:k}}function Vg(L){Object.keys(L).forEach(W=>{const I=L[W];if(typeof I(void 0,{type:Lh.INIT})>"u")throw new Error(Mi(12));if(typeof I(void 0,{type:Lh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mi(13))})}function Jg(L){const W=Object.keys(L),I={};for(let le=0;le<W.length;le++){const $=W[le];typeof L[$]=="function"&&(I[$]=L[$])}const P=Object.keys(I);let Z;try{Vg(I)}catch(le){Z=le}return function($={},g){if(Z)throw Z;let _=!1;const m={};for(let b=0;b<P.length;b++){const y=P[b],T=I[y],M=$[y],k=T(M,g);if(typeof k>"u")throw g&&g.type,new Error(Mi(14));m[y]=k,_=_||k!==M}return _=_||P.length!==Object.keys($).length,_?m:$}}function Ah(...L){return L.length===0?W=>W:L.length===1?L[0]:L.reduce((W,I)=>(...P)=>W(I(...P)))}function $g(...L){return W=>(I,P)=>{const Z=W(I,P);let le=()=>{throw new Error(Mi(15))};const $={getState:Z.getState,dispatch:(_,...m)=>le(_,...m)},g=L.map(_=>_($));return le=Ah(...g)(Z.dispatch),{...Z,dispatch:le}}}function e_(L){return cd(L)&&"type"in L&&typeof L.type=="string"}var op=Symbol.for("immer-nothing"),Bv=Symbol.for("immer-draftable"),pr=Symbol.for("immer-state");function Zr(L,...W){throw new Error(`[Immer] minified error nr: ${L}. Full error at: https://bit.ly/3cXEKWf`)}var _o=Object.getPrototypeOf;function ta(L){return!!L&&!!L[pr]}function Vn(L){var W;return L?up(L)||Array.isArray(L)||!!L[Bv]||!!((W=L.constructor)!=null&&W[Bv])||zh(L)||Uh(L):!1}var t_=Object.prototype.constructor.toString();function up(L){if(!L||typeof L!="object")return!1;const W=_o(L);if(W===null)return!0;const I=Object.hasOwnProperty.call(W,"constructor")&&W.constructor;return I===Object?!0:typeof I=="function"&&Function.toString.call(I)===t_}function Mh(L,W){Nh(L)===0?Reflect.ownKeys(L).forEach(I=>{W(I,L[I],L)}):L.forEach((I,P)=>W(P,I,L))}function Nh(L){const W=L[pr];return W?W.type_:Array.isArray(L)?1:zh(L)?2:Uh(L)?3:0}function rd(L,W){return Nh(L)===2?L.has(W):Object.prototype.hasOwnProperty.call(L,W)}function cp(L,W,I){const P=Nh(L);P===2?L.set(W,I):P===3?L.add(I):L[W]=I}function i_(L,W){return L===W?L!==0||1/L===1/W:L!==L&&W!==W}function zh(L){return L instanceof Map}function Uh(L){return L instanceof Set}function ea(L){return L.copy_||L.base_}function nd(L,W){if(zh(L))return new Map(L);if(Uh(L))return new Set(L);if(Array.isArray(L))return Array.prototype.slice.call(L);const I=up(L);if(W===!0||W==="class_only"&&!I){const P=Object.getOwnPropertyDescriptors(L);delete P[pr];let Z=Reflect.ownKeys(P);for(let le=0;le<Z.length;le++){const $=Z[le],g=P[$];g.writable===!1&&(g.writable=!0,g.configurable=!0),(g.get||g.set)&&(P[$]={configurable:!0,writable:!0,enumerable:g.enumerable,value:L[$]})}return Object.create(_o(L),P)}else{const P=_o(L);if(P!==null&&I)return{...L};const Z=Object.create(P);return Object.assign(Z,L)}}function hd(L,W=!1){return Ph(L)||ta(L)||!Vn(L)||(Nh(L)>1&&(L.set=L.add=L.clear=L.delete=r_),Object.freeze(L),W&&Object.entries(L).forEach(([I,P])=>hd(P,!0))),L}function r_(){Zr(2)}function Ph(L){return Object.isFrozen(L)}var n_={};function ia(L){const W=n_[L];return W||Zr(0,L),W}var Vu;function hp(){return Vu}function s_(L,W){return{drafts_:[],parent_:L,immer_:W,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Hv(L,W){W&&(ia("Patches"),L.patches_=[],L.inversePatches_=[],L.patchListener_=W)}function sd(L){ld(L),L.drafts_.forEach(l_),L.drafts_=null}function ld(L){L===Vu&&(Vu=L.parent_)}function Nv(L){return Vu=s_(Vu,L)}function l_(L){const W=L[pr];W.type_===0||W.type_===1?W.revoke_():W.revoked_=!0}function zv(L,W){W.unfinalizedDrafts_=W.drafts_.length;const I=W.drafts_[0];return L!==void 0&&L!==I?(I[pr].modified_&&(sd(W),Zr(4)),Vn(L)&&(L=Rh(W,L),W.parent_||kh(W,L)),W.patches_&&ia("Patches").generateReplacementPatches_(I[pr].base_,L,W.patches_,W.inversePatches_)):L=Rh(W,I,[]),sd(W),W.patches_&&W.patchListener_(W.patches_,W.inversePatches_),L!==op?L:void 0}function Rh(L,W,I){if(Ph(W))return W;const P=W[pr];if(!P)return Mh(W,(Z,le)=>Uv(L,P,W,Z,le,I)),W;if(P.scope_!==L)return W;if(!P.modified_)return kh(L,P.base_,!0),P.base_;if(!P.finalized_){P.finalized_=!0,P.scope_.unfinalizedDrafts_--;const Z=P.copy_;let le=Z,$=!1;P.type_===3&&(le=new Set(Z),Z.clear(),$=!0),Mh(le,(g,_)=>Uv(L,P,Z,g,_,I,$)),kh(L,Z,!1),I&&L.patches_&&ia("Patches").generatePatches_(P,I,L.patches_,L.inversePatches_)}return P.copy_}function Uv(L,W,I,P,Z,le,$){if(ta(Z)){const g=le&&W&&W.type_!==3&&!rd(W.assigned_,P)?le.concat(P):void 0,_=Rh(L,Z,g);if(cp(I,P,_),ta(_))L.canAutoFreeze_=!1;else return}else $&&I.add(Z);if(Vn(Z)&&!Ph(Z)){if(!L.immer_.autoFreeze_&&L.unfinalizedDrafts_<1)return;Rh(L,Z),(!W||!W.scope_.parent_)&&typeof P!="symbol"&&Object.prototype.propertyIsEnumerable.call(I,P)&&kh(L,Z)}}function kh(L,W,I=!1){!L.parent_&&L.immer_.autoFreeze_&&L.canAutoFreeze_&&hd(W,I)}function a_(L,W){const I=Array.isArray(L),P={type_:I?1:0,scope_:W?W.scope_:hp(),modified_:!1,finalized_:!1,assigned_:{},parent_:W,base_:L,draft_:null,copy_:null,revoke_:null,isManual_:!1};let Z=P,le=fd;I&&(Z=[P],le=Ju);const{revoke:$,proxy:g}=Proxy.revocable(Z,le);return P.draft_=g,P.revoke_=$,g}var fd={get(L,W){if(W===pr)return L;const I=ea(L);if(!rd(I,W))return o_(L,I,W);const P=I[W];return L.finalized_||!Vn(P)?P:P===$f(L.base_,W)?(ed(L),L.copy_[W]=od(P,L)):P},has(L,W){return W in ea(L)},ownKeys(L){return Reflect.ownKeys(ea(L))},set(L,W,I){const P=fp(ea(L),W);if(P!=null&&P.set)return P.set.call(L.draft_,I),!0;if(!L.modified_){const Z=$f(ea(L),W),le=Z==null?void 0:Z[pr];if(le&&le.base_===I)return L.copy_[W]=I,L.assigned_[W]=!1,!0;if(i_(I,Z)&&(I!==void 0||rd(L.base_,W)))return!0;ed(L),ad(L)}return L.copy_[W]===I&&(I!==void 0||W in L.copy_)||Number.isNaN(I)&&Number.isNaN(L.copy_[W])||(L.copy_[W]=I,L.assigned_[W]=!0),!0},deleteProperty(L,W){return $f(L.base_,W)!==void 0||W in L.base_?(L.assigned_[W]=!1,ed(L),ad(L)):delete L.assigned_[W],L.copy_&&delete L.copy_[W],!0},getOwnPropertyDescriptor(L,W){const I=ea(L),P=Reflect.getOwnPropertyDescriptor(I,W);return P&&{writable:!0,configurable:L.type_!==1||W!=="length",enumerable:P.enumerable,value:I[W]}},defineProperty(){Zr(11)},getPrototypeOf(L){return _o(L.base_)},setPrototypeOf(){Zr(12)}},Ju={};Mh(fd,(L,W)=>{Ju[L]=function(){return arguments[0]=arguments[0][0],W.apply(this,arguments)}});Ju.deleteProperty=function(L,W){return Ju.set.call(this,L,W,void 0)};Ju.set=function(L,W,I){return fd.set.call(this,L[0],W,I,L[0])};function $f(L,W){const I=L[pr];return(I?ea(I):L)[W]}function o_(L,W,I){var Z;const P=fp(W,I);return P?"value"in P?P.value:(Z=P.get)==null?void 0:Z.call(L.draft_):void 0}function fp(L,W){if(!(W in L))return;let I=_o(L);for(;I;){const P=Object.getOwnPropertyDescriptor(I,W);if(P)return P;I=_o(I)}}function ad(L){L.modified_||(L.modified_=!0,L.parent_&&ad(L.parent_))}function ed(L){L.copy_||(L.copy_=nd(L.base_,L.scope_.immer_.useStrictShallowCopy_))}var u_=class{constructor(L){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(W,I,P)=>{if(typeof W=="function"&&typeof I!="function"){const le=I;I=W;const $=this;return function(_=le,...m){return $.produce(_,b=>I.call(this,b,...m))}}typeof I!="function"&&Zr(6),P!==void 0&&typeof P!="function"&&Zr(7);let Z;if(Vn(W)){const le=Nv(this),$=od(W,void 0);let g=!0;try{Z=I($),g=!1}finally{g?sd(le):ld(le)}return Hv(le,P),zv(Z,le)}else if(!W||typeof W!="object"){if(Z=I(W),Z===void 0&&(Z=W),Z===op&&(Z=void 0),this.autoFreeze_&&hd(Z,!0),P){const le=[],$=[];ia("Patches").generateReplacementPatches_(W,Z,le,$),P(le,$)}return Z}else Zr(1,W)},this.produceWithPatches=(W,I)=>{if(typeof W=="function")return($,...g)=>this.produceWithPatches($,_=>W(_,...g));let P,Z;return[this.produce(W,I,($,g)=>{P=$,Z=g}),P,Z]},typeof(L==null?void 0:L.autoFreeze)=="boolean"&&this.setAutoFreeze(L.autoFreeze),typeof(L==null?void 0:L.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(L.useStrictShallowCopy)}createDraft(L){Vn(L)||Zr(8),ta(L)&&(L=c_(L));const W=Nv(this),I=od(L,void 0);return I[pr].isManual_=!0,ld(W),I}finishDraft(L,W){const I=L&&L[pr];(!I||!I.isManual_)&&Zr(9);const{scope_:P}=I;return Hv(P,W),zv(void 0,P)}setAutoFreeze(L){this.autoFreeze_=L}setUseStrictShallowCopy(L){this.useStrictShallowCopy_=L}applyPatches(L,W){let I;for(I=W.length-1;I>=0;I--){const Z=W[I];if(Z.path.length===0&&Z.op==="replace"){L=Z.value;break}}I>-1&&(W=W.slice(I+1));const P=ia("Patches").applyPatches_;return ta(L)?P(L,W):this.produce(L,Z=>P(Z,W))}};function od(L,W){const I=zh(L)?ia("MapSet").proxyMap_(L,W):Uh(L)?ia("MapSet").proxySet_(L,W):a_(L,W);return(W?W.scope_:hp()).drafts_.push(I),I}function c_(L){return ta(L)||Zr(10,L),dp(L)}function dp(L){if(!Vn(L)||Ph(L))return L;const W=L[pr];let I;if(W){if(!W.modified_)return W.base_;W.finalized_=!0,I=nd(L,W.scope_.immer_.useStrictShallowCopy_)}else I=nd(L,!0);return Mh(I,(P,Z)=>{cp(I,P,dp(Z))}),W&&(W.finalized_=!1),I}var gr=new u_,vp=gr.produce;gr.produceWithPatches.bind(gr);gr.setAutoFreeze.bind(gr);gr.setUseStrictShallowCopy.bind(gr);gr.applyPatches.bind(gr);gr.createDraft.bind(gr);gr.finishDraft.bind(gr);function pp(L){return({dispatch:I,getState:P})=>Z=>le=>typeof le=="function"?le(I,P,L):Z(le)}var h_=pp(),f_=pp,d_=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ah:Ah.apply(null,arguments)};function Pv(L,W){function I(...P){if(W){let Z=W(...P);if(!Z)throw new Error(Qn(0));return{type:L,payload:Z.payload,..."meta"in Z&&{meta:Z.meta},..."error"in Z&&{error:Z.error}}}return{type:L,payload:P[0]}}return I.toString=()=>`${L}`,I.type=L,I.match=P=>e_(P)&&P.type===L,I}var gp=class Zu extends Array{constructor(...W){super(...W),Object.setPrototypeOf(this,Zu.prototype)}static get[Symbol.species](){return Zu}concat(...W){return super.concat.apply(this,W)}prepend(...W){return W.length===1&&Array.isArray(W[0])?new Zu(...W[0].concat(this)):new Zu(...W.concat(this))}};function Iv(L){return Vn(L)?vp(L,()=>{}):L}function xh(L,W,I){return L.has(W)?L.get(W):L.set(W,I(W)).get(W)}function v_(L){return typeof L=="boolean"}var p_=()=>function(W){const{thunk:I=!0,immutableCheck:P=!0,serializableCheck:Z=!0,actionCreatorCheck:le=!0}=W??{};let $=new gp;return I&&(v_(I)?$.push(h_):$.push(f_(I.extraArgument))),$},g_="RTK_autoBatch",Fv=L=>W=>{setTimeout(W,L)},__=(L={type:"raf"})=>W=>(...I)=>{const P=W(...I);let Z=!0,le=!1,$=!1;const g=new Set,_=L.type==="tick"?queueMicrotask:L.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Fv(10):L.type==="callback"?L.queueNotification:Fv(L.timeout),m=()=>{$=!1,le&&(le=!1,g.forEach(b=>b()))};return Object.assign({},P,{subscribe(b){const y=()=>Z&&b(),T=P.subscribe(y);return g.add(b),()=>{T(),g.delete(b)}},dispatch(b){var y;try{return Z=!((y=b==null?void 0:b.meta)!=null&&y[g_]),le=!Z,le&&($||($=!0,_(m))),P.dispatch(b)}finally{Z=!0}}})},m_=L=>function(I){const{autoBatch:P=!0}=I??{};let Z=new gp(L);return P&&Z.push(__(typeof P=="object"?P:void 0)),Z};function y_(L){const W=p_(),{reducer:I=void 0,middleware:P,devTools:Z=!0,preloadedState:le=void 0,enhancers:$=void 0}=L||{};let g;if(typeof I=="function")g=I;else if(cd(I))g=Jg(I);else throw new Error(Qn(1));let _;typeof P=="function"?_=P(W):_=W();let m=Ah;Z&&(m=d_({trace:!1,...typeof Z=="object"&&Z}));const b=$g(..._),y=m_(b);let T=typeof $=="function"?$(y):y();const M=m(...T);return ap(g,le,M)}function _p(L){const W={},I=[];let P;const Z={addCase(le,$){const g=typeof le=="string"?le:le.type;if(!g)throw new Error(Qn(28));if(g in W)throw new Error(Qn(29));return W[g]=$,Z},addMatcher(le,$){return I.push({matcher:le,reducer:$}),Z},addDefaultCase(le){return P=le,Z}};return L(Z),[W,I,P]}function S_(L){return typeof L=="function"}function b_(L,W){let[I,P,Z]=_p(W),le;if(S_(L))le=()=>Iv(L());else{const g=Iv(L);le=()=>g}function $(g=le(),_){let m=[I[_.type],...P.filter(({matcher:b})=>b(_)).map(({reducer:b})=>b)];return m.filter(b=>!!b).length===0&&(m=[Z]),m.reduce((b,y)=>{if(y)if(ta(b)){const M=y(b,_);return M===void 0?b:M}else{if(Vn(b))return vp(b,T=>y(T,_));{const T=y(b,_);if(T===void 0){if(b===null)return b;throw Error("A case reducer on a non-draftable value must not return undefined")}return T}}return b},g)}return $.getInitialState=le,$}var C_="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",jv=(L=21)=>{let W="",I=L;for(;I--;)W+=C_[Math.random()*64|0];return W},w_=Symbol.for("rtk-slice-createasyncthunk");function x_(L,W){return`${L}/${W}`}function E_({creators:L}={}){var I;const W=(I=L==null?void 0:L.asyncThunk)==null?void 0:I[w_];return function(Z){const{name:le,reducerPath:$=le}=Z;if(!le)throw new Error(Qn(11));const g=(typeof Z.reducers=="function"?Z.reducers(D_()):Z.reducers)||{},_=Object.keys(g),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},b={addCase(C,x){const H=typeof C=="string"?C:C.type;if(!H)throw new Error(Qn(12));if(H in m.sliceCaseReducersByType)throw new Error(Qn(13));return m.sliceCaseReducersByType[H]=x,b},addMatcher(C,x){return m.sliceMatchers.push({matcher:C,reducer:x}),b},exposeAction(C,x){return m.actionCreators[C]=x,b},exposeCaseReducer(C,x){return m.sliceCaseReducersByName[C]=x,b}};_.forEach(C=>{const x=g[C],H={reducerName:C,type:x_(le,C),createNotation:typeof Z.reducers=="function"};A_(x)?R_(H,x,b,W):L_(H,x,b)});function y(){const[C={},x=[],H=void 0]=typeof Z.extraReducers=="function"?_p(Z.extraReducers):[Z.extraReducers],U={...C,...m.sliceCaseReducersByType};return b_(Z.initialState,E=>{for(let N in U)E.addCase(N,U[N]);for(let N of m.sliceMatchers)E.addMatcher(N.matcher,N.reducer);for(let N of x)E.addMatcher(N.matcher,N.reducer);H&&E.addDefaultCase(H)})}const T=C=>C,M=new Map,k=new WeakMap;let A;function c(C,x){return A||(A=y()),A(C,x)}function f(){return A||(A=y()),A.getInitialState()}function d(C,x=!1){function H(E){let N=E[C];return typeof N>"u"&&x&&(N=xh(k,H,f)),N}function U(E=T){const N=xh(M,x,()=>new WeakMap);return xh(N,E,()=>{const Q={};for(const[te,X]of Object.entries(Z.selectors??{}))Q[te]=T_(X,E,()=>xh(k,E,f),x);return Q})}return{reducerPath:C,getSelectors:U,get selectors(){return U(H)},selectSlice:H}}const v={name:le,reducer:c,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:f,...d($),injectInto(C,{reducerPath:x,...H}={}){const U=x??$;return C.inject({reducerPath:U,reducer:c},H),{...v,...d(U,!0)}}};return v}}function T_(L,W,I,P){function Z(le,...$){let g=W(le);return typeof g>"u"&&P&&(g=I()),L(g,...$)}return Z.unwrapped=L,Z}var dd=E_();function D_(){function L(W,I){return{_reducerDefinitionType:"asyncThunk",payloadCreator:W,...I}}return L.withTypes=()=>L,{reducer(W){return Object.assign({[W.name](...I){return W(...I)}}[W.name],{_reducerDefinitionType:"reducer"})},preparedReducer(W,I){return{_reducerDefinitionType:"reducerWithPrepare",prepare:W,reducer:I}},asyncThunk:L}}function L_({type:L,reducerName:W,createNotation:I},P,Z){let le,$;if("reducer"in P){if(I&&!M_(P))throw new Error(Qn(17));le=P.reducer,$=P.prepare}else le=P;Z.addCase(L,le).exposeCaseReducer(W,le).exposeAction(W,$?Pv(L,$):Pv(L))}function A_(L){return L._reducerDefinitionType==="asyncThunk"}function M_(L){return L._reducerDefinitionType==="reducerWithPrepare"}function R_({type:L,reducerName:W},I,P,Z){if(!Z)throw new Error(Qn(18));const{payloadCreator:le,fulfilled:$,pending:g,rejected:_,settled:m,options:b}=I,y=Z(L,le,b);P.exposeAction(W,y),$&&P.addCase(y.fulfilled,$),g&&P.addCase(y.pending,g),_&&P.addCase(y.rejected,_),m&&P.addMatcher(y.settled,m),P.exposeCaseReducer(W,{fulfilled:$||Eh,pending:g||Eh,rejected:_||Eh,settled:m||Eh})}function Eh(){}function Qn(L){return`Minified Redux Toolkit error #${L}; visit https://redux-toolkit.js.org/Errors?code=${L} for the full message or use the non-minified dev environment for full errors. `}let mp=dd({name:"user",initialState:{name:"kim"},reducers:{changeName(L,W){let{newName:I}=W.payload;L.name=I}}}),{changeName:k_}=mp.actions;function O_({onRun:L,setMode:W,mode:I}){let P=Qu(_=>_),Z=Hh(),le=P.openPage.current;console.log(P.project.fileMap);let $=P.project.fileMap[le].content;const g=async()=>{const m=await(await fetch("http://localhost:8000/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:$,tree:P.project.tree,fileMap:P.project.fileMap,run_code:le})})).json();W(m.mode),m.mode==="gui"?(console.log("gui"),L(m.url)):console.log("cli")};return Te.jsxs("header",{className:"bg-[#252526] h-12 flex items-center px-4 border-b border-[#333]",children:[Te.jsx("div",{className:"flex items-center",children:Te.jsxs("span",{className:"font-['Pacifico'] text-xl text-white mr-4",children:["Web-IDE ",P.user.name,"님 ",Te.jsx("button",{onClick:()=>{Z(k_({newName:"jaewoo"}))},children:"이름변경"})]})}),Te.jsx("div",{className:"flex-1 flex justify-center",children:Te.jsx("div",{className:"relative w-48",children:Te.jsxs("select",{id:"language-select",className:"bg-[#3C3C3C] text-white w-full py-1.5 px-3 rounded-button border border-[#555] focus:outline-none focus:border-primary pr-8",children:[Te.jsx("option",{value:"프로젝트1",children:"프로젝트1"}),Te.jsx("option",{value:"프로젝트2",children:"프로젝트2"}),Te.jsx("option",{value:"프로젝트3",children:"프로젝트3"}),Te.jsx("option",{value:"프로젝트4",children:"프로젝트4"}),Te.jsx("option",{value:"프로젝트1",children:"프로젝트5"}),Te.jsx("option",{value:"add",children:"+"})]})})}),Te.jsxs("div",{className:"flex items-center space-x-2",children:[Te.jsxs("button",{onClick:()=>{console.log("실행버튼 클릭"),g()},className:"flex items-center bg-primary hover:bg-opacity-80 text-white px-3 py-1.5 rounded-button whitespace-nowrap",children:[Te.jsx("div",{className:"w-5 h-5 flex items-center justify-center mr-1",children:Te.jsx("i",{className:"ri-play-fill"})}),Te.jsx("span",{children:"실행"})]}),Te.jsxs("button",{onClick:()=>{console.log("중지버튼 클릭")},className:"flex items-center bg-[#3C3C3C] hover:bg-opacity-80 text-white px-3 py-1.5 rounded-button whitespace-nowrap",children:[Te.jsx("div",{className:"w-5 h-5 flex items-center justify-center mr-1",children:Te.jsx("i",{className:"ri-stop-fill"})}),Te.jsx("span",{children:"중지"})]}),Te.jsx("button",{onClick:()=>{console.log("옵션 버튼 클릭")},className:"w-8 h-8 flex items-center justify-center bg-[#3C3C3C] hover:bg-opacity-80 text-white rounded-button",children:Te.jsx("i",{className:"ri-settings-3-line"})})]})]})}let yp=dd({name:"openPage",initialState:{current:"1",open:["1"]},reducers:{setCurrentPage(L,W){let I=W.payload;L.current=I},newPageOpen(L,W){let I=W.payload;L.open.includes(I)||L.open.push(I),L.current=I},closePage(L,W){let I=W.payload;L.open=L.open.filter(P=>P!==I),L.current==I&&(L.current=L.open[0])}}}),{setCurrentPage:B_,newPageOpen:H_,closePage:N_}=yp.actions,Sp=dd({name:"project",initialState:{tree:{id:"root",type:"folder",children:[{id:"1",type:"file"},{id:"3",type:"folder",children:[{id:"2",type:"file"}]}]},fileMap:{root:{name:"root",type:"folder"},1:{name:"main.py",content:"",type:"file"},2:{name:"utils.py",content:"",type:"file"},3:{name:"src",type:"folder"}},isShow:{state:!1}},reducers:{addFile(L,W){let{fileName:I,parentId:P}=W.payload;if(!I||I.trim()===""||Wv(L,P,I))return;const Z=jv();L.fileMap[Z]={name:I,content:"",type:"file"};const le=Oh(L.tree,P);le&&le.type==="folder"&&le.children.push({id:Z,type:"file"})},addFolder(L,W){let{folderName:I,parentId:P}=W.payload;if(!I||I.trim()===""||Wv(L,P,I))return;const Z=jv();L.fileMap[Z]={name:I,type:"folder"};const le=Oh(L.tree,P);le&&le.type==="folder"&&(le.children||(le.children=[]),le.children.push({id:Z,type:"folder",children:[]}))},setCode(L,W){let{fileId:I,newContent:P}=W.payload;L.fileMap[I]&&L.fileMap[I].type==="file"&&(L.fileMap[I].content=P)},changeState(L){L.isShow.state=!L.isShow.state}}});function Wv(L,W,I){const P=Oh(L.tree,W);if(!P||P.type!=="folder")return!1;const Z=I.trim().toLowerCase();return P.children?P.children.some(le=>{const $=L.fileMap[le.id];return $?($.name||"").trim().toLowerCase()===Z:!1}):!1}function Oh(L,W){if(L.id==W)return L;if(!L.children)return null;for(let I of L.children){let P=Oh(I,W);if(P)return P}return null}let{addFile:bp,addFolder:z_,setCode:U_,changeState:Th}=Sp.actions;function P_(){let L=Qu(M=>M.project),W=Qu(M=>M.openPage),I=L.isShow.state;const P=st.useRef(null),[Z,le]=st.useState(""),[$,g]=st.useState("");st.useEffect(()=>{I&&P.current&&P.current.focus()},[I]),st.useEffect(()=>{const M=k=>{P.current&&!P.current.contains(k.target)&&I&&(y(Th()),le(""))};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[I]);const _=M=>k=>{if(k.key==="Enter"){const A=Z.trim();A!==""&&(M==="file"?y(bp({fileName:A,parentId:"root"})):M==="folder"&&y(z_({folderName:A,parentId:"root"}))),le(""),y(Th())}};let m=L.tree.children,b=L.fileMap,y=Hh(),T=function(M){var c;let k=b[M.id],A=W.current;return k?M.type=="folder"?Te.jsxs("div",{className:"ml-2",children:[Te.jsxs("div",{className:"flex items-center py-1 px-2 hover:bg-[#37373D] rounded cursor-pointer",children:[Te.jsx("div",{className:"w-4 h-4 flex items-center justify-center mr-1",children:Te.jsx("i",{className:"ri-folder-open-line text-[#CCCC29]"})}),Te.jsx("span",{children:k.name})]}),Te.jsx("div",{className:"ml-4",children:(c=M.children)==null?void 0:c.map(f=>T(f))})]},M.id):M.type=="file"?Te.jsxs("div",{onClick:()=>y(H_(M.id)),className:`flex items-center py-1 px-2 hover:bg-[#37373D] rounded cursor-pointer ${A===M.id?"bg-[#37373D]":""}`,children:[Te.jsx("div",{className:"w-4 h-4 flex items-center justify-center mr-1",children:Te.jsx("i",{className:`ri-${k.name.endsWith(".md")?"markdown-line":"file-code-line"} text-[#519ABA]`})}),Te.jsx("span",{children:k.name})]},M.id):null:null};return Te.jsxs("div",{className:"w-64 bg-[#252526] border-r border-[#333] flex flex-col",children:[Te.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-[#333]",children:[Te.jsx("span",{className:"font-semibold",children:"파일 탐색기"}),Te.jsxs("div",{className:"flex",children:[Te.jsx("button",{className:"w-6 h-6 flex items-center justify-center text-[#D4D4D4] hover:bg-[#3C3C3C] rounded-button",onClick:()=>{console.log("파일 추가 버튼 누름"),g("file"),y(Th())},children:Te.jsx("i",{className:"ri-file-add-line"})}),Te.jsx("button",{className:"w-6 h-6 flex items-center justify-center text-[#D4D4D4] hover:bg-[#3C3C3C] rounded-button ml-1",onClick:()=>{console.log("폴더 추가 버튼 누름"),g("folder"),y(Th())},children:Te.jsx("i",{className:"ri-folder-add-line"})}),Te.jsx("button",{className:"w-6 h-6 flex items-center justify-center text-[#D4D4D4] hover:bg-[#3C3C3C] rounded-button ml-1",onClick:()=>{console.log("새로고침 버튼 누름")},children:Te.jsx("i",{className:"ri-refresh-line"})})]})]}),Te.jsxs("div",{className:"flex-1 overflow-y-auto p-1",children:[Te.jsxs("div",{className:"mb-1",children:[Te.jsxs("div",{className:"flex items-center py-1 px-2 hover:bg-[#37373D] rounded cursor-pointer",children:[Te.jsx("div",{className:"w-4 h-4 flex items-center justify-center mr-1",children:Te.jsx("i",{className:"ri-folder-open-line text-[#CCCC29]"})}),Te.jsx("span",{children:"프로젝트"})]}),Te.jsxs("div",{className:"ml-4",children:[m.map(M=>T(M)),I?Te.jsx("input",{ref:P,type:"text",className:"w-full px-2 py-1 mt-2 bg-[#1E1E1E] text-white border border-[#333] rounded",placeholder:"이름 입력 후 Enter",value:Z,onChange:M=>le(M.target.value),onKeyDown:_($)}):null]})]}),Te.jsx("div",{children:Te.jsxs("div",{className:"flex items-center py-1 px-2 hover:bg-[#37373D] rounded cursor-pointer",children:[Te.jsx("div",{className:"w-4 h-4 flex items-center justify-center mr-1",children:Te.jsx("i",{className:"ri-folder-line text-[#CCCC29]"})}),Te.jsx("span",{children:"라이브러리"})]})})]})]})}function I_(){let L=Qu(Z=>Z),W=L.openPage.open,I=L.openPage.current,P=Hh();return Te.jsxs("div",{className:"bg-[#2D2D2D] flex text-sm",children:[W.map((Z,le)=>Te.jsxs("div",{onClick:()=>{P(B_(Z))},className:`file-tab px-3 py-2 flex items-center  hover:bg-[#37373D] cursor-pointer ${Z===I?"active":""}`,children:[Te.jsx("div",{className:"w-4 h-4 flex items-center justify-center mr-1",children:Te.jsx("i",{className:"ri-file-code-line text-[#519ABA]"})}),Te.jsx("span",{children:L.project.fileMap[Z].name}),Te.jsxs("button",{className:"ml-2 w-4 h-4 flex items-center justify-center opacity-50 hover:opacity-100",onClick:$=>{$.stopPropagation(),P(N_(Z))},children:[" ",Te.jsx("i",{className:"ri-close-line"})]})]},le)),Te.jsxs("button",{className:"px-3 py-2 flex items-center",onClick:()=>{P(bp({fileName:"untitleFile",parentId:"root"}))},children:[" ",Te.jsx("div",{className:"w-4 h-4 flex items-center justify-center",children:Te.jsx("i",{className:"ri-add-line"})})]})]})}var Dh={exports:{}},F_=Dh.exports,qv;function mo(){return qv||(qv=1,function(L,W){(function(I,P){L.exports=P()})(F_,function(){var I=navigator.userAgent,P=navigator.platform,Z=/gecko\/\d/i.test(I),le=/MSIE \d/.test(I),$=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(I),g=/Edge\/(\d+)/.exec(I),_=le||$||g,m=_&&(le?document.documentMode||6:+(g||$)[1]),b=!g&&/WebKit\//.test(I),y=b&&/Qt\/\d+\.\d+/.test(I),T=!g&&/Chrome\/(\d+)/.exec(I),M=T&&+T[1],k=/Opera\//.test(I),A=/Apple Computer/.test(navigator.vendor),c=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(I),f=/PhantomJS/.test(I),d=A&&(/Mobile\/\w+/.test(I)||navigator.maxTouchPoints>2),v=/Android/.test(I),C=d||v||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(I),x=d||/Mac/.test(P),H=/\bCrOS\b/.test(I),U=/win/i.test(P),E=k&&I.match(/Version\/(\d*\.\d*)/);E&&(E=Number(E[1])),E&&E>=15&&(k=!1,b=!0);var N=x&&(y||k&&(E==null||E<12.11)),Q=Z||_&&m>=9;function te(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var X=function(t,r){var l=t.className,s=te(r).exec(l);if(s){var o=l.slice(s.index+s[0].length);t.className=l.slice(0,s.index)+(o?s[1]+o:"")}};function ie(t){for(var r=t.childNodes.length;r>0;--r)t.removeChild(t.firstChild);return t}function _e(t,r){return ie(t).appendChild(r)}function ue(t,r,l,s){var o=document.createElement(t);if(l&&(o.className=l),s&&(o.style.cssText=s),typeof r=="string")o.appendChild(document.createTextNode(r));else if(r)for(var h=0;h<r.length;++h)o.appendChild(r[h]);return o}function K(t,r,l,s){var o=ue(t,r,l,s);return o.setAttribute("role","presentation"),o}var J;document.createRange?J=function(t,r,l,s){var o=document.createRange();return o.setEnd(s||t,l),o.setStart(t,r),o}:J=function(t,r,l){var s=document.body.createTextRange();try{s.moveToElementText(t.parentNode)}catch{return s}return s.collapse(!0),s.moveEnd("character",l),s.moveStart("character",r),s};function z(t,r){if(r.nodeType==3&&(r=r.parentNode),t.contains)return t.contains(r);do if(r.nodeType==11&&(r=r.host),r==t)return!0;while(r=r.parentNode)}function q(t){var r=t.ownerDocument||t,l;try{l=t.activeElement}catch{l=r.body||null}for(;l&&l.shadowRoot&&l.shadowRoot.activeElement;)l=l.shadowRoot.activeElement;return l}function O(t,r){var l=t.className;te(r).test(l)||(t.className+=(l?" ":"")+r)}function G(t,r){for(var l=t.split(" "),s=0;s<l.length;s++)l[s]&&!te(l[s]).test(r)&&(r+=" "+l[s]);return r}var se=function(t){t.select()};d?se=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:_&&(se=function(t){try{t.select()}catch{}});function fe(t){return t.display.wrapper.ownerDocument}function we(t){return De(t.display.wrapper)}function De(t){return t.getRootNode?t.getRootNode():t.ownerDocument}function Be(t){return fe(t).defaultView}function j(t){var r=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,r)}}function oe(t,r,l){r||(r={});for(var s in t)t.hasOwnProperty(s)&&(l!==!1||!r.hasOwnProperty(s))&&(r[s]=t[s]);return r}function me(t,r,l,s,o){r==null&&(r=t.search(/[^\s\u00a0]/),r==-1&&(r=t.length));for(var h=s||0,S=o||0;;){var w=t.indexOf("	",h);if(w<0||w>=r)return S+(r-h);S+=w-h,S+=l-S%l,h=w+1}}var ye=function(){this.id=null,this.f=null,this.time=0,this.handler=j(this.onTimeout,this)};ye.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},ye.prototype.set=function(t,r){this.f=r;var l=+new Date+t;(!this.id||l<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=l)};function Ne(t,r){for(var l=0;l<t.length;++l)if(t[l]==r)return l;return-1}var Oe=50,$e={toString:function(){return"CodeMirror.Pass"}},vt={scroll:!1},ei={origin:"*mouse"},Ki={origin:"+move"};function We(t,r,l){for(var s=0,o=0;;){var h=t.indexOf("	",s);h==-1&&(h=t.length);var S=h-s;if(h==t.length||o+S>=r)return s+Math.min(S,r-o);if(o+=h-s,o+=l-o%l,s=h+1,o>=r)return s}}var _r=[""];function Qr(t){for(;_r.length<=t;)_r.push(et(_r)+" ");return _r[t]}function et(t){return t[t.length-1]}function nr(t,r){for(var l=[],s=0;s<t.length;s++)l[s]=r(t[s],s);return l}function Jn(t,r,l){for(var s=0,o=l(r);s<t.length&&l(t[s])<=o;)s++;t.splice(s,0,r)}function gi(){}function Vr(t,r){var l;return Object.create?l=Object.create(t):(gi.prototype=t,l=new gi),r&&oe(r,l),l}var Yi=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Ui(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Yi.test(t))}function jt(t,r){return r?r.source.indexOf("\\w")>-1&&Ui(t)?!0:r.test(t):Ui(t)}function ti(t){for(var r in t)if(t.hasOwnProperty(r)&&t[r])return!1;return!0}var ui=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Xi(t){return t.charCodeAt(0)>=768&&ui.test(t)}function Jr(t,r,l){for(;(l<0?r>0:r<t.length)&&Xi(t.charAt(r));)r+=l;return r}function gt(t,r,l){for(var s=r>l?-1:1;;){if(r==l)return r;var o=(r+l)/2,h=s<0?Math.ceil(o):Math.floor(o);if(h==r)return t(h)?r:l;t(h)?l=h:r=h+s}}function $n(t,r,l,s){if(!t)return s(r,l,"ltr",0);for(var o=!1,h=0;h<t.length;++h){var S=t[h];(S.from<l&&S.to>r||r==l&&S.to==r)&&(s(Math.max(S.from,r),Math.min(S.to,l),S.level==1?"rtl":"ltr",h),o=!0)}o||s(r,l,"ltr")}var $r=null;function sr(t,r,l){var s;$r=null;for(var o=0;o<t.length;++o){var h=t[o];if(h.from<r&&h.to>r)return o;h.to==r&&(h.from!=h.to&&l=="before"?s=o:$r=o),h.from==r&&(h.from!=h.to&&l!="before"?s=o:$r=o)}return s??$r}var ra=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function l(R){return R<=247?t.charAt(R):1424<=R&&R<=1524?"R":1536<=R&&R<=1785?r.charAt(R-1536):1774<=R&&R<=2220?"r":8192<=R&&R<=8203?"w":R==8204?"b":"L"}var s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,h=/[LRr]/,S=/[Lb1n]/,w=/[1n]/;function D(R,Y,V){this.level=R,this.from=Y,this.to=V}return function(R,Y){var V=Y=="ltr"?"L":"R";if(R.length==0||Y=="ltr"&&!s.test(R))return!1;for(var ae=R.length,re=[],pe=0;pe<ae;++pe)re.push(l(R.charCodeAt(pe)));for(var Se=0,Le=V;Se<ae;++Se){var Ae=re[Se];Ae=="m"?re[Se]=Le:Le=Ae}for(var Me=0,Re=V;Me<ae;++Me){var ke=re[Me];ke=="1"&&Re=="r"?re[Me]="n":h.test(ke)&&(Re=ke,ke=="r"&&(re[Me]="R"))}for(var Ie=1,ze=re[0];Ie<ae-1;++Ie){var Ze=re[Ie];Ze=="+"&&ze=="1"&&re[Ie+1]=="1"?re[Ie]="1":Ze==","&&ze==re[Ie+1]&&(ze=="1"||ze=="n")&&(re[Ie]=ze),ze=Ze}for(var dt=0;dt<ae;++dt){var Gt=re[dt];if(Gt==",")re[dt]="N";else if(Gt=="%"){var ut=void 0;for(ut=dt+1;ut<ae&&re[ut]=="%";++ut);for(var nt=dt&&re[dt-1]=="!"||ut<ae&&re[ut]=="1"?"1":"N",vi=dt;vi<ut;++vi)re[vi]=nt;dt=ut-1}}for(var Bt=0,ct=V;Bt<ae;++Bt){var ai=re[Bt];ct=="L"&&ai=="1"?re[Bt]="L":h.test(ai)&&(ct=ai)}for(var It=0;It<ae;++It)if(o.test(re[It])){var Ht=void 0;for(Ht=It+1;Ht<ae&&o.test(re[Ht]);++Ht);for(var Ye=(It?re[It-1]:V)=="L",_t=(Ht<ae?re[Ht]:V)=="L",Ni=Ye==_t?Ye?"L":"R":V,Kr=It;Kr<Ht;++Kr)re[Kr]=Ni;It=Ht-1}for(var oi=[],Dr,Ft=0;Ft<ae;)if(S.test(re[Ft])){var Di=Ft;for(++Ft;Ft<ae&&S.test(re[Ft]);++Ft);oi.push(new D(0,Di,Ft))}else{var Jt=Ft,En=oi.length,$t=Y=="rtl"?1:0;for(++Ft;Ft<ae&&re[Ft]!="L";++Ft);for(var pi=Jt;pi<Ft;)if(w.test(re[pi])){Jt<pi&&(oi.splice(En,0,new D(1,Jt,pi)),En+=$t);var Gi=pi;for(++pi;pi<Ft&&w.test(re[pi]);++pi);oi.splice(En,0,new D(2,Gi,pi)),En+=$t,Jt=pi}else++pi;Jt<Ft&&oi.splice(En,0,new D(1,Jt,Ft))}return Y=="ltr"&&(oi[0].level==1&&(Dr=R.match(/^\s+/))&&(oi[0].from=Dr[0].length,oi.unshift(new D(0,0,Dr[0].length))),et(oi).level==1&&(Dr=R.match(/\s+$/))&&(et(oi).to-=Dr[0].length,oi.push(new D(0,ae-Dr[0].length,ae)))),Y=="rtl"?oi.reverse():oi}}();function Pi(t,r){var l=t.order;return l==null&&(l=t.order=ra(t.text,r)),l}var $u=[],je=function(t,r,l){if(t.addEventListener)t.addEventListener(r,l,!1);else if(t.attachEvent)t.attachEvent("on"+r,l);else{var s=t._handlers||(t._handlers={});s[r]=(s[r]||$u).concat(l)}};function na(t,r){return t._handlers&&t._handlers[r]||$u}function yi(t,r,l){if(t.removeEventListener)t.removeEventListener(r,l,!1);else if(t.detachEvent)t.detachEvent("on"+r,l);else{var s=t._handlers,o=s&&s[r];if(o){var h=Ne(o,l);h>-1&&(s[r]=o.slice(0,h).concat(o.slice(h+1)))}}}function xt(t,r){var l=na(t,r);if(l.length)for(var s=Array.prototype.slice.call(arguments,2),o=0;o<l.length;++o)l[o].apply(null,s)}function Yt(t,r,l){return typeof r=="string"&&(r={type:r,preventDefault:function(){this.defaultPrevented=!0}}),xt(t,l||r.type,t,r),bo(r)||r.codemirrorIgnore}function yo(t){var r=t._handlers&&t._handlers.cursorActivity;if(r)for(var l=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),s=0;s<r.length;++s)Ne(l,r[s])==-1&&l.push(r[s])}function Ii(t,r){return na(t,r).length>0}function en(t){t.prototype.on=function(r,l){je(this,r,l)},t.prototype.off=function(r,l){yi(this,r,l)}}function ci(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function So(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function bo(t){return t.defaultPrevented!=null?t.defaultPrevented:t.returnValue==!1}function Zi(t){ci(t),So(t)}function ii(t){return t.target||t.srcElement}function Si(t){var r=t.which;return r==null&&(t.button&1?r=1:t.button&2?r=3:t.button&4&&(r=2)),x&&t.ctrlKey&&r==1&&(r=3),r}var es=function(){if(_&&m<9)return!1;var t=ue("div");return"draggable"in t||"dragDrop"in t}(),ol;function Ih(t){if(ol==null){var r=ue("span","​");_e(t,ue("span",[r,document.createTextNode("x")])),t.firstChild.offsetHeight!=0&&(ol=r.offsetWidth<=1&&r.offsetHeight>2&&!(_&&m<8))}var l=ol?ue("span","​"):ue("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return l.setAttribute("cm-text",""),l}var Co;function ec(t){if(Co!=null)return Co;var r=_e(t,document.createTextNode("AخA")),l=J(r,0,1).getBoundingClientRect(),s=J(r,1,2).getBoundingClientRect();return ie(t),!l||l.left==l.right?!1:Co=s.right-l.right<3}var Ln=`

b`.split(/\n/).length!=3?function(t){for(var r=0,l=[],s=t.length;r<=s;){var o=t.indexOf(`
`,r);o==-1&&(o=t.length);var h=t.slice(r,t.charAt(o-1)=="\r"?o-1:o),S=h.indexOf("\r");S!=-1?(l.push(h.slice(0,S)),r+=S+1):(l.push(h),r=o+1)}return l}:function(t){return t.split(/\r\n?|\n/)},wo=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch{return!1}}:function(t){var r;try{r=t.ownerDocument.selection.createRange()}catch{}return!r||r.parentElement()!=t?!1:r.compareEndPoints("StartToEnd",r)!=0},ts=function(){var t=ue("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),typeof t.oncopy=="function")}(),tn=null;function ul(t){if(tn!=null)return tn;var r=_e(t,ue("span","x")),l=r.getBoundingClientRect(),s=J(r,0,1).getBoundingClientRect();return tn=Math.abs(l.left-s.left)>1}var rn={},Mt={};function tc(t,r){arguments.length>2&&(r.dependencies=Array.prototype.slice.call(arguments,2)),rn[t]=r}function ic(t,r){Mt[t]=r}function mr(t){if(typeof t=="string"&&Mt.hasOwnProperty(t))t=Mt[t];else if(t&&typeof t.name=="string"&&Mt.hasOwnProperty(t.name)){var r=Mt[t.name];typeof r=="string"&&(r={name:r}),t=Vr(r,t),t.name=r.name}else{if(typeof t=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return mr("application/xml");if(typeof t=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return mr("application/json")}return typeof t=="string"?{name:t}:t||{name:"null"}}function nn(t,r){r=mr(r);var l=rn[r.name];if(!l)return nn(t,"text/plain");var s=l(t,r);if(is.hasOwnProperty(r.name)){var o=is[r.name];for(var h in o)o.hasOwnProperty(h)&&(s.hasOwnProperty(h)&&(s["_"+h]=s[h]),s[h]=o[h])}if(s.name=r.name,r.helperType&&(s.helperType=r.helperType),r.modeProps)for(var S in r.modeProps)s[S]=r.modeProps[S];return s}var is={};function rc(t,r){var l=is.hasOwnProperty(t)?is[t]:is[t]={};oe(r,l)}function sn(t,r){if(r===!0)return r;if(t.copyState)return t.copyState(r);var l={};for(var s in r){var o=r[s];o instanceof Array&&(o=o.concat([])),l[s]=o}return l}function xo(t,r){for(var l;t.innerMode&&(l=t.innerMode(r),!(!l||l.mode==t));)r=l.state,t=l.mode;return l||{mode:t,state:r}}function cl(t,r,l){return t.startState?t.startState(r,l):!0}var Tt=function(t,r,l){this.pos=this.start=0,this.string=t,this.tabSize=r||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=l};Tt.prototype.eol=function(){return this.pos>=this.string.length},Tt.prototype.sol=function(){return this.pos==this.lineStart},Tt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Tt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Tt.prototype.eat=function(t){var r=this.string.charAt(this.pos),l;if(typeof t=="string"?l=r==t:l=r&&(t.test?t.test(r):t(r)),l)return++this.pos,r},Tt.prototype.eatWhile=function(t){for(var r=this.pos;this.eat(t););return this.pos>r},Tt.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Tt.prototype.skipToEnd=function(){this.pos=this.string.length},Tt.prototype.skipTo=function(t){var r=this.string.indexOf(t,this.pos);if(r>-1)return this.pos=r,!0},Tt.prototype.backUp=function(t){this.pos-=t},Tt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=me(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?me(this.string,this.lineStart,this.tabSize):0)},Tt.prototype.indentation=function(){return me(this.string,null,this.tabSize)-(this.lineStart?me(this.string,this.lineStart,this.tabSize):0)},Tt.prototype.match=function(t,r,l){if(typeof t=="string"){var s=function(S){return l?S.toLowerCase():S},o=this.string.substr(this.pos,t.length);if(s(o)==s(t))return r!==!1&&(this.pos+=t.length),!0}else{var h=this.string.slice(this.pos).match(t);return h&&h.index>0?null:(h&&r!==!1&&(this.pos+=h[0].length),h)}},Tt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Tt.prototype.hideFirstChars=function(t,r){this.lineStart+=t;try{return r()}finally{this.lineStart-=t}},Tt.prototype.lookAhead=function(t){var r=this.lineOracle;return r&&r.lookAhead(t)},Tt.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};function He(t,r){if(r-=t.first,r<0||r>=t.size)throw new Error("There is no line "+(r+t.first)+" in the document.");for(var l=t;!l.lines;)for(var s=0;;++s){var o=l.children[s],h=o.chunkSize();if(r<h){l=o;break}r-=h}return l.lines[r]}function Mr(t,r,l){var s=[],o=r.line;return t.iter(r.line,l.line+1,function(h){var S=h.text;o==l.line&&(S=S.slice(0,l.ch)),o==r.line&&(S=S.slice(r.ch)),s.push(S),++o}),s}function sa(t,r,l){var s=[];return t.iter(r,l,function(o){s.push(o.text)}),s}function bi(t,r){var l=r-t.height;if(l)for(var s=t;s;s=s.parent)s.height+=l}function ot(t){if(t.parent==null)return null;for(var r=t.parent,l=Ne(r.lines,t),s=r.parent;s;r=s,s=s.parent)for(var o=0;s.children[o]!=r;++o)l+=s.children[o].chunkSize();return l+r.first}function Rr(t,r){var l=t.first;e:do{for(var s=0;s<t.children.length;++s){var o=t.children[s],h=o.height;if(r<h){t=o;continue e}r-=h,l+=o.chunkSize()}return l}while(!t.lines);for(var S=0;S<t.lines.length;++S){var w=t.lines[S],D=w.height;if(r<D)break;r-=D}return l+S}function hl(t,r){return r>=t.first&&r<t.first+t.size}function la(t,r){return String(t.lineNumberFormatter(r+t.firstLineNumber))}function xe(t,r,l){if(l===void 0&&(l=null),!(this instanceof xe))return new xe(t,r,l);this.line=t,this.ch=r,this.sticky=l}function Ge(t,r){return t.line-r.line||t.ch-r.ch}function Eo(t,r){return t.sticky==r.sticky&&Ge(t,r)==0}function rs(t){return xe(t.line,t.ch)}function fl(t,r){return Ge(t,r)<0?r:t}function An(t,r){return Ge(t,r)<0?t:r}function nc(t,r){return Math.max(t.first,Math.min(r,t.first+t.size-1))}function Pe(t,r){if(r.line<t.first)return xe(t.first,0);var l=t.first+t.size-1;return r.line>l?xe(l,He(t,l).text.length):To(r,He(t,r.line).text.length)}function To(t,r){var l=t.ch;return l==null||l>r?xe(t.line,r):l<0?xe(t.line,0):t}function Do(t,r){for(var l=[],s=0;s<r.length;s++)l[s]=Pe(t,r[s]);return l}var ns=function(t,r){this.state=t,this.lookAhead=r},Ci=function(t,r,l,s){this.state=r,this.doc=t,this.line=l,this.maxLookAhead=s||0,this.baseTokens=null,this.baseTokenPos=1};Ci.prototype.lookAhead=function(t){var r=this.doc.getLine(this.line+t);return r!=null&&t>this.maxLookAhead&&(this.maxLookAhead=t),r},Ci.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var r=this.baseTokens[this.baseTokenPos+1];return{type:r&&r.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},Ci.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Ci.fromSaved=function(t,r,l){return r instanceof ns?new Ci(t,sn(t.mode,r.state),l,r.lookAhead):new Ci(t,sn(t.mode,r),l)},Ci.prototype.save=function(t){var r=t!==!1?sn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ns(r,this.maxLookAhead):r};function Lo(t,r,l,s){var o=[t.state.modeGen],h={};dl(t,r.text,t.doc.mode,l,function(R,Y){return o.push(R,Y)},h,s);for(var S=l.state,w=function(R){l.baseTokens=o;var Y=t.state.overlays[R],V=1,ae=0;l.state=!0,dl(t,r.text,Y.mode,l,function(re,pe){for(var Se=V;ae<re;){var Le=o[V];Le>re&&o.splice(V,1,re,o[V+1],Le),V+=2,ae=Math.min(re,Le)}if(pe)if(Y.opaque)o.splice(Se,V-Se,re,"overlay "+pe),V=Se+2;else for(;Se<V;Se+=2){var Ae=o[Se+1];o[Se+1]=(Ae?Ae+" ":"")+"overlay "+pe}},h),l.state=S,l.baseTokens=null,l.baseTokenPos=1},D=0;D<t.state.overlays.length;++D)w(D);return{styles:o,classes:h.bgClass||h.textClass?h:null}}function Ao(t,r,l){if(!r.styles||r.styles[0]!=t.state.modeGen){var s=yr(t,ot(r)),o=r.text.length>t.options.maxHighlightLength&&sn(t.doc.mode,s.state),h=Lo(t,r,s);o&&(s.state=o),r.stateAfter=s.save(!o),r.styles=h.styles,h.classes?r.styleClasses=h.classes:r.styleClasses&&(r.styleClasses=null),l===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return r.styles}function yr(t,r,l){var s=t.doc,o=t.display;if(!s.mode.startState)return new Ci(s,!0,r);var h=ko(t,r,l),S=h>s.first&&He(s,h-1).stateAfter,w=S?Ci.fromSaved(s,S,h):new Ci(s,cl(s.mode),h);return s.iter(h,r,function(D){Mo(t,D.text,w);var R=w.line;D.stateAfter=R==r-1||R%5==0||R>=o.viewFrom&&R<o.viewTo?w.save():null,w.nextLine()}),l&&(s.modeFrontier=w.line),w}function Mo(t,r,l,s){var o=t.doc.mode,h=new Tt(r,t.options.tabSize,l);for(h.start=h.pos=s||0,r==""&&Ro(o,l.state);!h.eol();)aa(o,h,l.state),h.start=h.pos}function Ro(t,r){if(t.blankLine)return t.blankLine(r);if(t.innerMode){var l=xo(t,r);if(l.mode.blankLine)return l.mode.blankLine(l.state)}}function aa(t,r,l,s){for(var o=0;o<10;o++){s&&(s[0]=xo(t,l).mode);var h=t.token(r,l);if(r.pos>r.start)return h}throw new Error("Mode "+t.name+" failed to advance stream.")}var oa=function(t,r,l){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=r||null,this.state=l};function sc(t,r,l,s){var o=t.doc,h=o.mode,S;r=Pe(o,r);var w=He(o,r.line),D=yr(t,r.line,l),R=new Tt(w.text,t.options.tabSize,D),Y;for(s&&(Y=[]);(s||R.pos<r.ch)&&!R.eol();)R.start=R.pos,S=aa(h,R,D.state),s&&Y.push(new oa(R,S,sn(o.mode,D.state)));return s?Y:new oa(R,S,D.state)}function lc(t,r){if(t)for(;;){var l=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!l)break;t=t.slice(0,l.index)+t.slice(l.index+l[0].length);var s=l[1]?"bgClass":"textClass";r[s]==null?r[s]=l[2]:new RegExp("(?:^|\\s)"+l[2]+"(?:$|\\s)").test(r[s])||(r[s]+=" "+l[2])}return t}function dl(t,r,l,s,o,h,S){var w=l.flattenSpans;w==null&&(w=t.options.flattenSpans);var D=0,R=null,Y=new Tt(r,t.options.tabSize,s),V,ae=t.options.addModeClass&&[null];for(r==""&&lc(Ro(l,s.state),h);!Y.eol();){if(Y.pos>t.options.maxHighlightLength?(w=!1,S&&Mo(t,r,s,Y.pos),Y.pos=r.length,V=null):V=lc(aa(l,Y,s.state,ae),h),ae){var re=ae[0].name;re&&(V="m-"+(V?re+" "+V:re))}if(!w||R!=V){for(;D<Y.start;)D=Math.min(Y.start,D+5e3),o(D,R);R=V}Y.start=Y.pos}for(;D<Y.pos;){var pe=Math.min(Y.pos,D+5e3);o(pe,R),D=pe}}function ko(t,r,l){for(var s,o,h=t.doc,S=l?-1:r-(t.doc.mode.innerMode?1e3:100),w=r;w>S;--w){if(w<=h.first)return h.first;var D=He(h,w-1),R=D.stateAfter;if(R&&(!l||w+(R instanceof ns?R.lookAhead:0)<=h.modeFrontier))return w;var Y=me(D.text,null,t.options.tabSize);(o==null||s>Y)&&(o=w-1,s=Y)}return o}function Oo(t,r){if(t.modeFrontier=Math.min(t.modeFrontier,r),!(t.highlightFrontier<r-10)){for(var l=t.first,s=r-1;s>l;s--){var o=He(t,s).stateAfter;if(o&&(!(o instanceof ns)||s+o.lookAhead<r)){l=s+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,l)}}var Mn=!1,Ri=!1;function ac(){Mn=!0}function Bo(){Ri=!0}function vl(t,r,l){this.marker=t,this.from=r,this.to=l}function kr(t,r){if(t)for(var l=0;l<t.length;++l){var s=t[l];if(s.marker==r)return s}}function Or(t,r){for(var l,s=0;s<t.length;++s)t[s]!=r&&(l||(l=[])).push(t[s]);return l}function Ho(t,r,l){var s=l&&window.WeakSet&&(l.markedSpans||(l.markedSpans=new WeakSet));s&&t.markedSpans&&s.has(t.markedSpans)?t.markedSpans.push(r):(t.markedSpans=t.markedSpans?t.markedSpans.concat([r]):[r],s&&s.add(t.markedSpans)),r.marker.attachLine(t)}function pl(t,r,l){var s;if(t)for(var o=0;o<t.length;++o){var h=t[o],S=h.marker,w=h.from==null||(S.inclusiveLeft?h.from<=r:h.from<r);if(w||h.from==r&&S.type=="bookmark"&&(!l||!h.marker.insertLeft)){var D=h.to==null||(S.inclusiveRight?h.to>=r:h.to>r);(s||(s=[])).push(new vl(S,h.from,D?null:h.to))}}return s}function ln(t,r,l){var s;if(t)for(var o=0;o<t.length;++o){var h=t[o],S=h.marker,w=h.to==null||(S.inclusiveRight?h.to>=r:h.to>r);if(w||h.from==r&&S.type=="bookmark"&&(!l||h.marker.insertLeft)){var D=h.from==null||(S.inclusiveLeft?h.from<=r:h.from<r);(s||(s=[])).push(new vl(S,D?null:h.from-r,h.to==null?null:h.to-r))}}return s}function gl(t,r){if(r.full)return null;var l=hl(t,r.from.line)&&He(t,r.from.line).markedSpans,s=hl(t,r.to.line)&&He(t,r.to.line).markedSpans;if(!l&&!s)return null;var o=r.from.ch,h=r.to.ch,S=Ge(r.from,r.to)==0,w=pl(l,o,S),D=ln(s,h,S),R=r.text.length==1,Y=et(r.text).length+(R?o:0);if(w)for(var V=0;V<w.length;++V){var ae=w[V];if(ae.to==null){var re=kr(D,ae.marker);re?R&&(ae.to=re.to==null?null:re.to+Y):ae.to=o}}if(D)for(var pe=0;pe<D.length;++pe){var Se=D[pe];if(Se.to!=null&&(Se.to+=Y),Se.from==null){var Le=kr(w,Se.marker);Le||(Se.from=Y,R&&(w||(w=[])).push(Se))}else Se.from+=Y,R&&(w||(w=[])).push(Se)}w&&(w=_l(w)),D&&D!=w&&(D=_l(D));var Ae=[w];if(!R){var Me=r.text.length-2,Re;if(Me>0&&w)for(var ke=0;ke<w.length;++ke)w[ke].to==null&&(Re||(Re=[])).push(new vl(w[ke].marker,null,null));for(var Ie=0;Ie<Me;++Ie)Ae.push(Re);Ae.push(D)}return Ae}function _l(t){for(var r=0;r<t.length;++r){var l=t[r];l.from!=null&&l.from==l.to&&l.marker.clearWhenEmpty!==!1&&t.splice(r--,1)}return t.length?t:null}function oc(t,r,l){var s=null;if(t.iter(r.line,l.line+1,function(re){if(re.markedSpans)for(var pe=0;pe<re.markedSpans.length;++pe){var Se=re.markedSpans[pe].marker;Se.readOnly&&(!s||Ne(s,Se)==-1)&&(s||(s=[])).push(Se)}}),!s)return null;for(var o=[{from:r,to:l}],h=0;h<s.length;++h)for(var S=s[h],w=S.find(0),D=0;D<o.length;++D){var R=o[D];if(!(Ge(R.to,w.from)<0||Ge(R.from,w.to)>0)){var Y=[D,1],V=Ge(R.from,w.from),ae=Ge(R.to,w.to);(V<0||!S.inclusiveLeft&&!V)&&Y.push({from:R.from,to:w.from}),(ae>0||!S.inclusiveRight&&!ae)&&Y.push({from:w.to,to:R.to}),o.splice.apply(o,Y),D+=Y.length-3}}return o}function ml(t){var r=t.markedSpans;if(r){for(var l=0;l<r.length;++l)r[l].marker.detachLine(t);t.markedSpans=null}}function yl(t,r){if(r){for(var l=0;l<r.length;++l)r[l].marker.attachLine(t);t.markedSpans=r}}function Sl(t){return t.inclusiveLeft?-1:0}function hi(t){return t.inclusiveRight?1:0}function Br(t,r){var l=t.lines.length-r.lines.length;if(l!=0)return l;var s=t.find(),o=r.find(),h=Ge(s.from,o.from)||Sl(t)-Sl(r);if(h)return-h;var S=Ge(s.to,o.to)||hi(t)-hi(r);return S||r.id-t.id}function bl(t,r){var l=Ri&&t.markedSpans,s;if(l)for(var o=void 0,h=0;h<l.length;++h)o=l[h],o.marker.collapsed&&(r?o.from:o.to)==null&&(!s||Br(s,o.marker)<0)&&(s=o.marker);return s}function ss(t){return bl(t,!0)}function ua(t){return bl(t,!1)}function No(t,r){var l=Ri&&t.markedSpans,s;if(l)for(var o=0;o<l.length;++o){var h=l[o];h.marker.collapsed&&(h.from==null||h.from<r)&&(h.to==null||h.to>r)&&(!s||Br(s,h.marker)<0)&&(s=h.marker)}return s}function ca(t,r,l,s,o){var h=He(t,r),S=Ri&&h.markedSpans;if(S)for(var w=0;w<S.length;++w){var D=S[w];if(D.marker.collapsed){var R=D.marker.find(0),Y=Ge(R.from,l)||Sl(D.marker)-Sl(o),V=Ge(R.to,s)||hi(D.marker)-hi(o);if(!(Y>=0&&V<=0||Y<=0&&V>=0)&&(Y<=0&&(D.marker.inclusiveRight&&o.inclusiveLeft?Ge(R.to,l)>=0:Ge(R.to,l)>0)||Y>=0&&(D.marker.inclusiveRight&&o.inclusiveLeft?Ge(R.from,s)<=0:Ge(R.from,s)<0)))return!0}}}function wi(t){for(var r;r=ss(t);)t=r.find(-1,!0).line;return t}function ha(t){for(var r;r=ua(t);)t=r.find(1,!0).line;return t}function uc(t){for(var r,l;r=ua(t);)t=r.find(1,!0).line,(l||(l=[])).push(t);return l}function zo(t,r){var l=He(t,r),s=wi(l);return l==s?r:ot(s)}function cc(t,r){if(r>t.lastLine())return r;var l=He(t,r),s;if(!an(t,l))return r;for(;s=ua(l);)l=s.find(1,!0).line;return ot(l)+1}function an(t,r){var l=Ri&&r.markedSpans;if(l){for(var s=void 0,o=0;o<l.length;++o)if(s=l[o],!!s.marker.collapsed){if(s.from==null)return!0;if(!s.marker.widgetNode&&s.from==0&&s.marker.inclusiveLeft&&Cl(t,r,s))return!0}}}function Cl(t,r,l){if(l.to==null){var s=l.marker.find(1,!0);return Cl(t,s.line,kr(s.line.markedSpans,l.marker))}if(l.marker.inclusiveRight&&l.to==r.text.length)return!0;for(var o=void 0,h=0;h<r.markedSpans.length;++h)if(o=r.markedSpans[h],o.marker.collapsed&&!o.marker.widgetNode&&o.from==l.to&&(o.to==null||o.to!=l.from)&&(o.marker.inclusiveLeft||l.marker.inclusiveRight)&&Cl(t,r,o))return!0}function Hr(t){t=wi(t);for(var r=0,l=t.parent,s=0;s<l.lines.length;++s){var o=l.lines[s];if(o==t)break;r+=o.height}for(var h=l.parent;h;l=h,h=l.parent)for(var S=0;S<h.children.length;++S){var w=h.children[S];if(w==l)break;r+=w.height}return r}function fa(t){if(t.height==0)return 0;for(var r=t.text.length,l,s=t;l=ss(s);){var o=l.find(0,!0);s=o.from.line,r+=o.from.ch-o.to.ch}for(s=t;l=ua(s);){var h=l.find(0,!0);r-=s.text.length-h.from.ch,s=h.to.line,r+=s.text.length-h.to.ch}return r}function Uo(t){var r=t.display,l=t.doc;r.maxLine=He(l,l.first),r.maxLineLength=fa(r.maxLine),r.maxLineChanged=!0,l.iter(function(s){var o=fa(s);o>r.maxLineLength&&(r.maxLineLength=o,r.maxLine=s)})}var ls=function(t,r,l){this.text=t,yl(this,r),this.height=l?l(this):1};ls.prototype.lineNo=function(){return ot(this)},en(ls);function Fh(t,r,l,s){t.text=r,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),t.order!=null&&(t.order=null),ml(t),yl(t,l);var o=s?s(t):1;o!=t.height&&bi(t,o)}function hc(t){t.parent=null,ml(t)}var jh={},Wh={};function fc(t,r){if(!t||/^\s*$/.test(t))return null;var l=r.addModeClass?Wh:jh;return l[t]||(l[t]=t.replace(/\S+/g,"cm-$&"))}function dc(t,r){var l=K("span",null,null,b?"padding-right: .1px":null),s={pre:K("pre",[l],"CodeMirror-line"),content:l,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};r.measure={};for(var o=0;o<=(r.rest?r.rest.length:0);o++){var h=o?r.rest[o-1]:r.line,S=void 0;s.pos=0,s.addToken=qh,ec(t.display.measure)&&(S=Pi(h,t.doc.direction))&&(s.addToken=Kh(s.addToken,S)),s.map=[];var w=r!=t.display.externalMeasured&&ot(h);Yh(h,s,Ao(t,h,w)),h.styleClasses&&(h.styleClasses.bgClass&&(s.bgClass=G(h.styleClasses.bgClass,s.bgClass||"")),h.styleClasses.textClass&&(s.textClass=G(h.styleClasses.textClass,s.textClass||""))),s.map.length==0&&s.map.push(0,0,s.content.appendChild(Ih(t.display.measure))),o==0?(r.measure.map=s.map,r.measure.cache={}):((r.measure.maps||(r.measure.maps=[])).push(s.map),(r.measure.caches||(r.measure.caches=[])).push({}))}if(b){var D=s.content.lastChild;(/\bcm-tab\b/.test(D.className)||D.querySelector&&D.querySelector(".cm-tab"))&&(s.content.className="cm-tab-wrap-hack")}return xt(t,"renderLine",t,r.line,s.pre),s.pre.className&&(s.textClass=G(s.pre.className,s.textClass||"")),s}function Po(t){var r=ue("span","•","cm-invalidchar");return r.title="\\u"+t.charCodeAt(0).toString(16),r.setAttribute("aria-label",r.title),r}function qh(t,r,l,s,o,h,S){if(r){var w=t.splitSpaces?Gh(r,t.trailingSpace):r,D=t.cm.state.specialChars,R=!1,Y;if(!D.test(r))t.col+=r.length,Y=document.createTextNode(w),t.map.push(t.pos,t.pos+r.length,Y),_&&m<9&&(R=!0),t.pos+=r.length;else{Y=document.createDocumentFragment();for(var V=0;;){D.lastIndex=V;var ae=D.exec(r),re=ae?ae.index-V:r.length-V;if(re){var pe=document.createTextNode(w.slice(V,V+re));_&&m<9?Y.appendChild(ue("span",[pe])):Y.appendChild(pe),t.map.push(t.pos,t.pos+re,pe),t.col+=re,t.pos+=re}if(!ae)break;V+=re+1;var Se=void 0;if(ae[0]=="	"){var Le=t.cm.options.tabSize,Ae=Le-t.col%Le;Se=Y.appendChild(ue("span",Qr(Ae),"cm-tab")),Se.setAttribute("role","presentation"),Se.setAttribute("cm-text","	"),t.col+=Ae}else ae[0]=="\r"||ae[0]==`
`?(Se=Y.appendChild(ue("span",ae[0]=="\r"?"␍":"␤","cm-invalidchar")),Se.setAttribute("cm-text",ae[0]),t.col+=1):(Se=t.cm.options.specialCharPlaceholder(ae[0]),Se.setAttribute("cm-text",ae[0]),_&&m<9?Y.appendChild(ue("span",[Se])):Y.appendChild(Se),t.col+=1);t.map.push(t.pos,t.pos+1,Se),t.pos++}}if(t.trailingSpace=w.charCodeAt(r.length-1)==32,l||s||o||R||h||S){var Me=l||"";s&&(Me+=s),o&&(Me+=o);var Re=ue("span",[Y],Me,h);if(S)for(var ke in S)S.hasOwnProperty(ke)&&ke!="style"&&ke!="class"&&Re.setAttribute(ke,S[ke]);return t.content.appendChild(Re)}t.content.appendChild(Y)}}function Gh(t,r){if(t.length>1&&!/  /.test(t))return t;for(var l=r,s="",o=0;o<t.length;o++){var h=t.charAt(o);h==" "&&l&&(o==t.length-1||t.charCodeAt(o+1)==32)&&(h=" "),s+=h,l=h==" "}return s}function Kh(t,r){return function(l,s,o,h,S,w,D){o=o?o+" cm-force-border":"cm-force-border";for(var R=l.pos,Y=R+s.length;;){for(var V=void 0,ae=0;ae<r.length&&(V=r[ae],!(V.to>R&&V.from<=R));ae++);if(V.to>=Y)return t(l,s,o,h,S,w,D);t(l,s.slice(0,V.to-R),o,h,null,w,D),h=null,s=s.slice(V.to-R),R=V.to}}}function Io(t,r,l,s){var o=!s&&l.widgetNode;o&&t.map.push(t.pos,t.pos+r,o),!s&&t.cm.display.input.needsContentAttribute&&(o||(o=t.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",l.id)),o&&(t.cm.display.input.setUneditable(o),t.content.appendChild(o)),t.pos+=r,t.trailingSpace=!1}function Yh(t,r,l){var s=t.markedSpans,o=t.text,h=0;if(!s){for(var S=1;S<l.length;S+=2)r.addToken(r,o.slice(h,h=l[S]),fc(l[S+1],r.cm.options));return}for(var w=o.length,D=0,R=1,Y="",V,ae,re=0,pe,Se,Le,Ae,Me;;){if(re==D){pe=Se=Le=ae="",Me=null,Ae=null,re=1/0;for(var Re=[],ke=void 0,Ie=0;Ie<s.length;++Ie){var ze=s[Ie],Ze=ze.marker;if(Ze.type=="bookmark"&&ze.from==D&&Ze.widgetNode)Re.push(Ze);else if(ze.from<=D&&(ze.to==null||ze.to>D||Ze.collapsed&&ze.to==D&&ze.from==D)){if(ze.to!=null&&ze.to!=D&&re>ze.to&&(re=ze.to,Se=""),Ze.className&&(pe+=" "+Ze.className),Ze.css&&(ae=(ae?ae+";":"")+Ze.css),Ze.startStyle&&ze.from==D&&(Le+=" "+Ze.startStyle),Ze.endStyle&&ze.to==re&&(ke||(ke=[])).push(Ze.endStyle,ze.to),Ze.title&&((Me||(Me={})).title=Ze.title),Ze.attributes)for(var dt in Ze.attributes)(Me||(Me={}))[dt]=Ze.attributes[dt];Ze.collapsed&&(!Ae||Br(Ae.marker,Ze)<0)&&(Ae=ze)}else ze.from>D&&re>ze.from&&(re=ze.from)}if(ke)for(var Gt=0;Gt<ke.length;Gt+=2)ke[Gt+1]==re&&(Se+=" "+ke[Gt]);if(!Ae||Ae.from==D)for(var ut=0;ut<Re.length;++ut)Io(r,0,Re[ut]);if(Ae&&(Ae.from||0)==D){if(Io(r,(Ae.to==null?w+1:Ae.to)-D,Ae.marker,Ae.from==null),Ae.to==null)return;Ae.to==D&&(Ae=!1)}}if(D>=w)break;for(var nt=Math.min(w,re);;){if(Y){var vi=D+Y.length;if(!Ae){var Bt=vi>nt?Y.slice(0,nt-D):Y;r.addToken(r,Bt,V?V+pe:pe,Le,D+Bt.length==re?Se:"",ae,Me)}if(vi>=nt){Y=Y.slice(nt-D),D=nt;break}D=vi,Le=""}Y=o.slice(h,h=l[R++]),V=fc(l[R++],r.cm.options)}}}function vc(t,r,l){this.line=r,this.rest=uc(r),this.size=this.rest?ot(et(this.rest))-l+1:1,this.node=this.text=null,this.hidden=an(t,r)}function da(t,r,l){for(var s=[],o,h=r;h<l;h=o){var S=new vc(t.doc,He(t.doc,h),h);o=h+S.size,s.push(S)}return s}var as=null;function Xh(t){as?as.ops.push(t):t.ownsGroup=as={ops:[t],delayedCallbacks:[]}}function Zh(t){var r=t.delayedCallbacks,l=0;do{for(;l<r.length;l++)r[l].call(null);for(var s=0;s<t.ops.length;s++){var o=t.ops[s];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(l<r.length)}function Qh(t,r){var l=t.ownsGroup;if(l)try{Zh(l)}finally{as=null,r(l)}}var wl=null;function Xt(t,r){var l=na(t,r);if(l.length){var s=Array.prototype.slice.call(arguments,2),o;as?o=as.delayedCallbacks:wl?o=wl:(o=wl=[],setTimeout(Fo,0));for(var h=function(w){o.push(function(){return l[w].apply(null,s)})},S=0;S<l.length;++S)h(S)}}function Fo(){var t=wl;wl=null;for(var r=0;r<t.length;++r)t[r]()}function os(t,r,l,s){for(var o=0;o<r.changes.length;o++){var h=r.changes[o];h=="text"?gc(t,r):h=="gutter"?Wo(t,r,l,s):h=="class"?va(t,r):h=="widget"&&us(t,r,s)}r.changes=null}function xl(t){return t.node==t.text&&(t.node=ue("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),_&&m<8&&(t.node.style.zIndex=2)),t.node}function pc(t,r){var l=r.bgClass?r.bgClass+" "+(r.line.bgClass||""):r.line.bgClass;if(l&&(l+=" CodeMirror-linebackground"),r.background)l?r.background.className=l:(r.background.parentNode.removeChild(r.background),r.background=null);else if(l){var s=xl(r);r.background=s.insertBefore(ue("div",null,l),s.firstChild),t.display.input.setUneditable(r.background)}}function jo(t,r){var l=t.display.externalMeasured;return l&&l.line==r.line?(t.display.externalMeasured=null,r.measure=l.measure,l.built):dc(t,r)}function gc(t,r){var l=r.text.className,s=jo(t,r);r.text==r.node&&(r.node=s.pre),r.text.parentNode.replaceChild(s.pre,r.text),r.text=s.pre,s.bgClass!=r.bgClass||s.textClass!=r.textClass?(r.bgClass=s.bgClass,r.textClass=s.textClass,va(t,r)):l&&(r.text.className=l)}function va(t,r){pc(t,r),r.line.wrapClass?xl(r).className=r.line.wrapClass:r.node!=r.text&&(r.node.className="");var l=r.textClass?r.textClass+" "+(r.line.textClass||""):r.line.textClass;r.text.className=l||""}function Wo(t,r,l,s){if(r.gutter&&(r.node.removeChild(r.gutter),r.gutter=null),r.gutterBackground&&(r.node.removeChild(r.gutterBackground),r.gutterBackground=null),r.line.gutterClass){var o=xl(r);r.gutterBackground=ue("div",null,"CodeMirror-gutter-background "+r.line.gutterClass,"left: "+(t.options.fixedGutter?s.fixedPos:-s.gutterTotalWidth)+"px; width: "+s.gutterTotalWidth+"px"),t.display.input.setUneditable(r.gutterBackground),o.insertBefore(r.gutterBackground,r.text)}var h=r.line.gutterMarkers;if(t.options.lineNumbers||h){var S=xl(r),w=r.gutter=ue("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?s.fixedPos:-s.gutterTotalWidth)+"px");if(w.setAttribute("aria-hidden","true"),t.display.input.setUneditable(w),S.insertBefore(w,r.text),r.line.gutterClass&&(w.className+=" "+r.line.gutterClass),t.options.lineNumbers&&(!h||!h["CodeMirror-linenumbers"])&&(r.lineNumber=w.appendChild(ue("div",la(t.options,l),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+s.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),h)for(var D=0;D<t.display.gutterSpecs.length;++D){var R=t.display.gutterSpecs[D].className,Y=h.hasOwnProperty(R)&&h[R];Y&&w.appendChild(ue("div",[Y],"CodeMirror-gutter-elt","left: "+s.gutterLeft[R]+"px; width: "+s.gutterWidth[R]+"px"))}}}function us(t,r,l){r.alignable&&(r.alignable=null);for(var s=te("CodeMirror-linewidget"),o=r.node.firstChild,h=void 0;o;o=h)h=o.nextSibling,s.test(o.className)&&r.node.removeChild(o);_c(t,r,l)}function Vh(t,r,l,s){var o=jo(t,r);return r.text=r.node=o.pre,o.bgClass&&(r.bgClass=o.bgClass),o.textClass&&(r.textClass=o.textClass),va(t,r),Wo(t,r,l,s),_c(t,r,s),r.node}function _c(t,r,l){if(mc(t,r.line,r,l,!0),r.rest)for(var s=0;s<r.rest.length;s++)mc(t,r.rest[s],r,l,!1)}function mc(t,r,l,s,o){if(r.widgets)for(var h=xl(l),S=0,w=r.widgets;S<w.length;++S){var D=w[S],R=ue("div",[D.node],"CodeMirror-linewidget"+(D.className?" "+D.className:""));D.handleMouseEvents||R.setAttribute("cm-ignore-events","true"),yc(D,R,l,s),t.display.input.setUneditable(R),o&&D.above?h.insertBefore(R,l.gutter||l.text):h.appendChild(R),Xt(D,"redraw")}}function yc(t,r,l,s){if(t.noHScroll){(l.alignable||(l.alignable=[])).push(r);var o=s.wrapperWidth;r.style.left=s.fixedPos+"px",t.coverGutter||(o-=s.gutterTotalWidth,r.style.paddingLeft=s.gutterTotalWidth+"px"),r.style.width=o+"px"}t.coverGutter&&(r.style.zIndex=5,r.style.position="relative",t.noHScroll||(r.style.marginLeft=-s.gutterTotalWidth+"px"))}function cs(t){if(t.height!=null)return t.height;var r=t.doc.cm;if(!r)return 0;if(!z(document.body,t.node)){var l="position: relative;";t.coverGutter&&(l+="margin-left: -"+r.display.gutters.offsetWidth+"px;"),t.noHScroll&&(l+="width: "+r.display.wrapper.clientWidth+"px;"),_e(r.display.measure,ue("div",[t.node],null,l))}return t.height=t.node.parentNode.offsetHeight}function Fi(t,r){for(var l=ii(r);l!=t.wrapper;l=l.parentNode)if(!l||l.nodeType==1&&l.getAttribute("cm-ignore-events")=="true"||l.parentNode==t.sizer&&l!=t.mover)return!0}function on(t){return t.lineSpace.offsetTop}function qo(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function El(t){if(t.cachedPaddingH)return t.cachedPaddingH;var r=_e(t.measure,ue("pre","x","CodeMirror-line-like")),l=window.getComputedStyle?window.getComputedStyle(r):r.currentStyle,s={left:parseInt(l.paddingLeft),right:parseInt(l.paddingRight)};return!isNaN(s.left)&&!isNaN(s.right)&&(t.cachedPaddingH=s),s}function lr(t){return Oe-t.display.nativeBarWidth}function un(t){return t.display.scroller.clientWidth-lr(t)-t.display.barWidth}function Tl(t){return t.display.scroller.clientHeight-lr(t)-t.display.barHeight}function Go(t,r,l){var s=t.options.lineWrapping,o=s&&un(t);if(!r.measure.heights||s&&r.measure.width!=o){var h=r.measure.heights=[];if(s){r.measure.width=o;for(var S=r.text.firstChild.getClientRects(),w=0;w<S.length-1;w++){var D=S[w],R=S[w+1];Math.abs(D.bottom-R.bottom)>2&&h.push((D.bottom+R.top)/2-l.top)}}h.push(l.bottom-l.top)}}function Ko(t,r,l){if(t.line==r)return{map:t.measure.map,cache:t.measure.cache};if(t.rest){for(var s=0;s<t.rest.length;s++)if(t.rest[s]==r)return{map:t.measure.maps[s],cache:t.measure.caches[s]};for(var o=0;o<t.rest.length;o++)if(ot(t.rest[o])>l)return{map:t.measure.maps[o],cache:t.measure.caches[o],before:!0}}}function Sc(t,r){r=wi(r);var l=ot(r),s=t.display.externalMeasured=new vc(t.doc,r,l);s.lineN=l;var o=s.built=dc(t,s);return s.text=o.pre,_e(t.display.lineMeasure,o.pre),s}function Yo(t,r,l,s){return Sr(t,hs(t,r),l,s)}function Xo(t,r){if(r>=t.display.viewFrom&&r<t.display.viewTo)return t.display.view[ni(t,r)];var l=t.display.externalMeasured;if(l&&r>=l.lineN&&r<l.lineN+l.size)return l}function hs(t,r){var l=ot(r),s=Xo(t,l);s&&!s.text?s=null:s&&s.changes&&(os(t,s,l,_a(t)),t.curOp.forceUpdate=!0),s||(s=Sc(t,r));var o=Ko(s,r,l);return{line:r,view:s,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function Sr(t,r,l,s,o){r.before&&(l=-1);var h=l+(s||""),S;return r.cache.hasOwnProperty(h)?S=r.cache[h]:(r.rect||(r.rect=r.view.text.getBoundingClientRect()),r.hasHeights||(Go(t,r.view,r.rect),r.hasHeights=!0),S=Dl(t,r,l,s),S.bogus||(r.cache[h]=S)),{left:S.left,right:S.right,top:o?S.rtop:S.top,bottom:o?S.rbottom:S.bottom}}var bc={left:0,right:0,top:0,bottom:0};function Cc(t,r,l){for(var s,o,h,S,w,D,R=0;R<t.length;R+=3)if(w=t[R],D=t[R+1],r<w?(o=0,h=1,S="left"):r<D?(o=r-w,h=o+1):(R==t.length-3||r==D&&t[R+3]>r)&&(h=D-w,o=h-1,r>=D&&(S="right")),o!=null){if(s=t[R+2],w==D&&l==(s.insertLeft?"left":"right")&&(S=l),l=="left"&&o==0)for(;R&&t[R-2]==t[R-3]&&t[R-1].insertLeft;)s=t[(R-=3)+2],S="left";if(l=="right"&&o==D-w)for(;R<t.length-3&&t[R+3]==t[R+4]&&!t[R+5].insertLeft;)s=t[(R+=3)+2],S="right";break}return{node:s,start:o,end:h,collapse:S,coverStart:w,coverEnd:D}}function ji(t,r){var l=bc;if(r=="left")for(var s=0;s<t.length&&(l=t[s]).left==l.right;s++);else for(var o=t.length-1;o>=0&&(l=t[o]).left==l.right;o--);return l}function Dl(t,r,l,s){var o=Cc(r.map,l,s),h=o.node,S=o.start,w=o.end,D=o.collapse,R;if(h.nodeType==3){for(var Y=0;Y<4;Y++){for(;S&&Xi(r.line.text.charAt(o.coverStart+S));)--S;for(;o.coverStart+w<o.coverEnd&&Xi(r.line.text.charAt(o.coverStart+w));)++w;if(_&&m<9&&S==0&&w==o.coverEnd-o.coverStart?R=h.parentNode.getBoundingClientRect():R=ji(J(h,S,w).getClientRects(),s),R.left||R.right||S==0)break;w=S,S=S-1,D="right"}_&&m<11&&(R=wc(t.display.measure,R))}else{S>0&&(D=s="right");var V;t.options.lineWrapping&&(V=h.getClientRects()).length>1?R=V[s=="right"?V.length-1:0]:R=h.getBoundingClientRect()}if(_&&m<9&&!S&&(!R||!R.left&&!R.right)){var ae=h.parentNode.getClientRects()[0];ae?R={left:ae.left,right:ae.left+kn(t.display),top:ae.top,bottom:ae.bottom}:R=bc}for(var re=R.top-r.rect.top,pe=R.bottom-r.rect.top,Se=(re+pe)/2,Le=r.view.measure.heights,Ae=0;Ae<Le.length-1&&!(Se<Le[Ae]);Ae++);var Me=Ae?Le[Ae-1]:0,Re=Le[Ae],ke={left:(D=="right"?R.right:R.left)-r.rect.left,right:(D=="left"?R.left:R.right)-r.rect.left,top:Me,bottom:Re};return!R.left&&!R.right&&(ke.bogus=!0),t.options.singleCursorHeightPerLine||(ke.rtop=re,ke.rbottom=pe),ke}function wc(t,r){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!ul(t))return r;var l=screen.logicalXDPI/screen.deviceXDPI,s=screen.logicalYDPI/screen.deviceYDPI;return{left:r.left*l,right:r.right*l,top:r.top*s,bottom:r.bottom*s}}function Zo(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var r=0;r<t.rest.length;r++)t.measure.caches[r]={}}function Qo(t){t.display.externalMeasure=null,ie(t.display.lineMeasure);for(var r=0;r<t.display.view.length;r++)Zo(t.display.view[r])}function fs(t){Qo(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function pa(t){return T&&v?-(t.body.getBoundingClientRect().left-parseInt(getComputedStyle(t.body).marginLeft)):t.defaultView.pageXOffset||(t.documentElement||t.body).scrollLeft}function xc(t){return T&&v?-(t.body.getBoundingClientRect().top-parseInt(getComputedStyle(t.body).marginTop)):t.defaultView.pageYOffset||(t.documentElement||t.body).scrollTop}function cn(t){var r=wi(t),l=r.widgets,s=0;if(l)for(var o=0;o<l.length;++o)l[o].above&&(s+=cs(l[o]));return s}function ds(t,r,l,s,o){if(!o){var h=cn(r);l.top+=h,l.bottom+=h}if(s=="line")return l;s||(s="local");var S=Hr(r);if(s=="local"?S+=on(t.display):S-=t.display.viewOffset,s=="page"||s=="window"){var w=t.display.lineSpace.getBoundingClientRect();S+=w.top+(s=="window"?0:xc(fe(t)));var D=w.left+(s=="window"?0:pa(fe(t)));l.left+=D,l.right+=D}return l.top+=S,l.bottom+=S,l}function vs(t,r,l){if(l=="div")return r;var s=r.left,o=r.top;if(l=="page")s-=pa(fe(t)),o-=xc(fe(t));else if(l=="local"||!l){var h=t.display.sizer.getBoundingClientRect();s+=h.left,o+=h.top}var S=t.display.lineSpace.getBoundingClientRect();return{left:s-S.left,top:o-S.top}}function ps(t,r,l,s,o){return s||(s=He(t.doc,r.line)),ds(t,s,Yo(t,s,r.ch,o),l)}function Qi(t,r,l,s,o,h){s=s||He(t.doc,r.line),o||(o=hs(t,s));function S(pe,Se){var Le=Sr(t,o,pe,Se?"right":"left",h);return Se?Le.left=Le.right:Le.right=Le.left,ds(t,s,Le,l)}var w=Pi(s,t.doc.direction),D=r.ch,R=r.sticky;if(D>=s.text.length?(D=s.text.length,R="before"):D<=0&&(D=0,R="after"),!w)return S(R=="before"?D-1:D,R=="before");function Y(pe,Se,Le){var Ae=w[Se],Me=Ae.level==1;return S(Le?pe-1:pe,Me!=Le)}var V=sr(w,D,R),ae=$r,re=Y(D,V,R=="before");return ae!=null&&(re.other=Y(D,ae,R!="before")),re}function hn(t,r){var l=0;r=Pe(t.doc,r),t.options.lineWrapping||(l=kn(t.display)*r.ch);var s=He(t.doc,r.line),o=Hr(s)+on(t.display);return{left:l,right:l,top:o,bottom:o+s.height}}function fn(t,r,l,s,o){var h=xe(t,r,l);return h.xRel=o,s&&(h.outside=s),h}function Ll(t,r,l){var s=t.doc;if(l+=t.display.viewOffset,l<0)return fn(s.first,0,null,-1,-1);var o=Rr(s,l),h=s.first+s.size-1;if(o>h)return fn(s.first+s.size-1,He(s,h).text.length,null,1,1);r<0&&(r=0);for(var S=He(s,o);;){var w=Ec(t,S,o,r,l),D=No(S,w.ch+(w.xRel>0||w.outside>0?1:0));if(!D)return w;var R=D.find(1);if(R.line==o)return R;S=He(s,o=R.line)}}function Vo(t,r,l,s){s-=cn(r);var o=r.text.length,h=gt(function(S){return Sr(t,l,S-1).bottom<=s},o,0);return o=gt(function(S){return Sr(t,l,S).top>s},h,o),{begin:h,end:o}}function dn(t,r,l,s){l||(l=hs(t,r));var o=ds(t,r,Sr(t,l,s),"line").top;return Vo(t,r,l,o)}function ga(t,r,l,s){return t.bottom<=l?!1:t.top>l?!0:(s?t.left:t.right)>r}function Ec(t,r,l,s,o){o-=Hr(r);var h=hs(t,r),S=cn(r),w=0,D=r.text.length,R=!0,Y=Pi(r,t.doc.direction);if(Y){var V=(t.options.lineWrapping?Jh:Tc)(t,r,l,h,Y,s,o);R=V.level!=1,w=R?V.from:V.to-1,D=R?V.to:V.from-1}var ae=null,re=null,pe=gt(function(Ie){var ze=Sr(t,h,Ie);return ze.top+=S,ze.bottom+=S,ga(ze,s,o,!1)?(ze.top<=o&&ze.left<=s&&(ae=Ie,re=ze),!0):!1},w,D),Se,Le,Ae=!1;if(re){var Me=s-re.left<re.right-s,Re=Me==R;pe=ae+(Re?0:1),Le=Re?"after":"before",Se=Me?re.left:re.right}else{!R&&(pe==D||pe==w)&&pe++,Le=pe==0?"after":pe==r.text.length?"before":Sr(t,h,pe-(R?1:0)).bottom+S<=o==R?"after":"before";var ke=Qi(t,xe(l,pe,Le),"line",r,h);Se=ke.left,Ae=o<ke.top?-1:o>=ke.bottom?1:0}return pe=Jr(r.text,pe,1),fn(l,pe,Le,Ae,s-Se)}function Tc(t,r,l,s,o,h,S){var w=gt(function(V){var ae=o[V],re=ae.level!=1;return ga(Qi(t,xe(l,re?ae.to:ae.from,re?"before":"after"),"line",r,s),h,S,!0)},0,o.length-1),D=o[w];if(w>0){var R=D.level!=1,Y=Qi(t,xe(l,R?D.from:D.to,R?"after":"before"),"line",r,s);ga(Y,h,S,!0)&&Y.top>S&&(D=o[w-1])}return D}function Jh(t,r,l,s,o,h,S){var w=Vo(t,r,s,S),D=w.begin,R=w.end;/\s/.test(r.text.charAt(R-1))&&R--;for(var Y=null,V=null,ae=0;ae<o.length;ae++){var re=o[ae];if(!(re.from>=R||re.to<=D)){var pe=re.level!=1,Se=Sr(t,s,pe?Math.min(R,re.to)-1:Math.max(D,re.from)).right,Le=Se<h?h-Se+1e9:Se-h;(!Y||V>Le)&&(Y=re,V=Le)}}return Y||(Y=o[o.length-1]),Y.from<D&&(Y={from:D,to:Y.to,level:Y.level}),Y.to>R&&(Y={from:Y.from,to:R,level:Y.level}),Y}var Rn;function gs(t){if(t.cachedTextHeight!=null)return t.cachedTextHeight;if(Rn==null){Rn=ue("pre",null,"CodeMirror-line-like");for(var r=0;r<49;++r)Rn.appendChild(document.createTextNode("x")),Rn.appendChild(ue("br"));Rn.appendChild(document.createTextNode("x"))}_e(t.measure,Rn);var l=Rn.offsetHeight/50;return l>3&&(t.cachedTextHeight=l),ie(t.measure),l||1}function kn(t){if(t.cachedCharWidth!=null)return t.cachedCharWidth;var r=ue("span","xxxxxxxxxx"),l=ue("pre",[r],"CodeMirror-line-like");_e(t.measure,l);var s=r.getBoundingClientRect(),o=(s.right-s.left)/10;return o>2&&(t.cachedCharWidth=o),o||10}function _a(t){for(var r=t.display,l={},s={},o=r.gutters.clientLeft,h=r.gutters.firstChild,S=0;h;h=h.nextSibling,++S){var w=t.display.gutterSpecs[S].className;l[w]=h.offsetLeft+h.clientLeft+o,s[w]=h.clientWidth}return{fixedPos:Al(r),gutterTotalWidth:r.gutters.offsetWidth,gutterLeft:l,gutterWidth:s,wrapperWidth:r.wrapper.clientWidth}}function Al(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function Vi(t){var r=gs(t.display),l=t.options.lineWrapping,s=l&&Math.max(5,t.display.scroller.clientWidth/kn(t.display)-3);return function(o){if(an(t.doc,o))return 0;var h=0;if(o.widgets)for(var S=0;S<o.widgets.length;S++)o.widgets[S].height&&(h+=o.widgets[S].height);return l?h+(Math.ceil(o.text.length/s)||1)*r:h+r}}function ma(t){var r=t.doc,l=Vi(t);r.iter(function(s){var o=l(s);o!=s.height&&bi(s,o)})}function ri(t,r,l,s){var o=t.display;if(!l&&ii(r).getAttribute("cm-not-content")=="true")return null;var h,S,w=o.lineSpace.getBoundingClientRect();try{h=r.clientX-w.left,S=r.clientY-w.top}catch{return null}var D=Ll(t,h,S),R;if(s&&D.xRel>0&&(R=He(t.doc,D.line).text).length==D.ch){var Y=me(R,R.length,t.options.tabSize)-R.length;D=xe(D.line,Math.max(0,Math.round((h-El(t.display).left)/kn(t.display))-Y))}return D}function ni(t,r){if(r>=t.display.viewTo||(r-=t.display.viewFrom,r<0))return null;for(var l=t.display.view,s=0;s<l.length;s++)if(r-=l[s].size,r<0)return s}function Wt(t,r,l,s){r==null&&(r=t.doc.first),l==null&&(l=t.doc.first+t.doc.size),s||(s=0);var o=t.display;if(s&&l<o.viewTo&&(o.updateLineNumbers==null||o.updateLineNumbers>r)&&(o.updateLineNumbers=r),t.curOp.viewChanged=!0,r>=o.viewTo)Ri&&zo(t.doc,r)<o.viewTo&&ar(t);else if(l<=o.viewFrom)Ri&&cc(t.doc,l+s)>o.viewFrom?ar(t):(o.viewFrom+=s,o.viewTo+=s);else if(r<=o.viewFrom&&l>=o.viewTo)ar(t);else if(r<=o.viewFrom){var h=On(t,l,l+s,1);h?(o.view=o.view.slice(h.index),o.viewFrom=h.lineN,o.viewTo+=s):ar(t)}else if(l>=o.viewTo){var S=On(t,r,r,-1);S?(o.view=o.view.slice(0,S.index),o.viewTo=S.lineN):ar(t)}else{var w=On(t,r,r,-1),D=On(t,l,l+s,1);w&&D?(o.view=o.view.slice(0,w.index).concat(da(t,w.lineN,D.lineN)).concat(o.view.slice(D.index)),o.viewTo+=s):ar(t)}var R=o.externalMeasured;R&&(l<R.lineN?R.lineN+=s:r<R.lineN+R.size&&(o.externalMeasured=null))}function br(t,r,l){t.curOp.viewChanged=!0;var s=t.display,o=t.display.externalMeasured;if(o&&r>=o.lineN&&r<o.lineN+o.size&&(s.externalMeasured=null),!(r<s.viewFrom||r>=s.viewTo)){var h=s.view[ni(t,r)];if(h.node!=null){var S=h.changes||(h.changes=[]);Ne(S,l)==-1&&S.push(l)}}}function ar(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function On(t,r,l,s){var o=ni(t,r),h,S=t.display.view;if(!Ri||l==t.doc.first+t.doc.size)return{index:o,lineN:l};for(var w=t.display.viewFrom,D=0;D<o;D++)w+=S[D].size;if(w!=r){if(s>0){if(o==S.length-1)return null;h=w+S[o].size-r,o++}else h=w-r;r+=h,l+=h}for(;zo(t.doc,l)!=l;){if(o==(s<0?0:S.length-1))return null;l+=s*S[o-(s<0?1:0)].size,o+=s}return{index:o,lineN:l}}function Jo(t,r,l){var s=t.display,o=s.view;o.length==0||r>=s.viewTo||l<=s.viewFrom?(s.view=da(t,r,l),s.viewFrom=r):(s.viewFrom>r?s.view=da(t,r,s.viewFrom).concat(s.view):s.viewFrom<r&&(s.view=s.view.slice(ni(t,r))),s.viewFrom=r,s.viewTo<l?s.view=s.view.concat(da(t,s.viewTo,l)):s.viewTo>l&&(s.view=s.view.slice(0,ni(t,l)))),s.viewTo=l}function Bn(t){for(var r=t.display.view,l=0,s=0;s<r.length;s++){var o=r[s];!o.hidden&&(!o.node||o.changes)&&++l}return l}function _s(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Ml(t,r){r===void 0&&(r=!0);var l=t.doc,s={},o=s.cursors=document.createDocumentFragment(),h=s.selection=document.createDocumentFragment(),S=t.options.$customCursor;S&&(r=!0);for(var w=0;w<l.sel.ranges.length;w++)if(!(!r&&w==l.sel.primIndex)){var D=l.sel.ranges[w];if(!(D.from().line>=t.display.viewTo||D.to().line<t.display.viewFrom)){var R=D.empty();if(S){var Y=S(t,D);Y&&vn(t,Y,o)}else(R||t.options.showCursorWhenSelecting)&&vn(t,D.head,o);R||Wi(t,D,h)}}return s}function vn(t,r,l){var s=Qi(t,r,"div",null,null,!t.options.singleCursorHeightPerLine),o=l.appendChild(ue("div"," ","CodeMirror-cursor"));if(o.style.left=s.left+"px",o.style.top=s.top+"px",o.style.height=Math.max(0,s.bottom-s.top)*t.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(t.getWrapperElement().className)){var h=ps(t,r,"div",null,null),S=h.right-h.left;o.style.width=(S>0?S:t.defaultCharWidth())+"px"}if(s.other){var w=l.appendChild(ue("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));w.style.display="",w.style.left=s.other.left+"px",w.style.top=s.other.top+"px",w.style.height=(s.other.bottom-s.other.top)*.85+"px"}}function ya(t,r){return t.top-r.top||t.left-r.left}function Wi(t,r,l){var s=t.display,o=t.doc,h=document.createDocumentFragment(),S=El(t.display),w=S.left,D=Math.max(s.sizerWidth,un(t)-s.sizer.offsetLeft)-S.right,R=o.direction=="ltr";function Y(Re,ke,Ie,ze){ke<0&&(ke=0),ke=Math.round(ke),ze=Math.round(ze),h.appendChild(ue("div",null,"CodeMirror-selected","position: absolute; left: "+Re+`px;
                             top: `+ke+"px; width: "+(Ie??D-Re)+`px;
                             height: `+(ze-ke)+"px"))}function V(Re,ke,Ie){var ze=He(o,Re),Ze=ze.text.length,dt,Gt;function ut(Bt,ct){return ps(t,xe(Re,Bt),"div",ze,ct)}function nt(Bt,ct,ai){var It=dn(t,ze,null,Bt),Ht=ct=="ltr"==(ai=="after")?"left":"right",Ye=ai=="after"?It.begin:It.end-(/\s/.test(ze.text.charAt(It.end-1))?2:1);return ut(Ye,Ht)[Ht]}var vi=Pi(ze,o.direction);return $n(vi,ke||0,Ie??Ze,function(Bt,ct,ai,It){var Ht=ai=="ltr",Ye=ut(Bt,Ht?"left":"right"),_t=ut(ct-1,Ht?"right":"left"),Ni=ke==null&&Bt==0,Kr=Ie==null&&ct==Ze,oi=It==0,Dr=!vi||It==vi.length-1;if(_t.top-Ye.top<=3){var Ft=(R?Ni:Kr)&&oi,Di=(R?Kr:Ni)&&Dr,Jt=Ft?w:(Ht?Ye:_t).left,En=Di?D:(Ht?_t:Ye).right;Y(Jt,Ye.top,En-Jt,Ye.bottom)}else{var $t,pi,Gi,Yr;Ht?($t=R&&Ni&&oi?w:Ye.left,pi=R?D:nt(Bt,ai,"before"),Gi=R?w:nt(ct,ai,"after"),Yr=R&&Kr&&Dr?D:_t.right):($t=R?nt(Bt,ai,"before"):w,pi=!R&&Ni&&oi?D:Ye.right,Gi=!R&&Kr&&Dr?w:_t.left,Yr=R?nt(ct,ai,"after"):D),Y($t,Ye.top,pi-$t,Ye.bottom),Ye.bottom<_t.top&&Y(w,Ye.bottom,null,_t.top),Y(Gi,_t.top,Yr-Gi,_t.bottom)}(!dt||ya(Ye,dt)<0)&&(dt=Ye),ya(_t,dt)<0&&(dt=_t),(!Gt||ya(Ye,Gt)<0)&&(Gt=Ye),ya(_t,Gt)<0&&(Gt=_t)}),{start:dt,end:Gt}}var ae=r.from(),re=r.to();if(ae.line==re.line)V(ae.line,ae.ch,re.ch);else{var pe=He(o,ae.line),Se=He(o,re.line),Le=wi(pe)==wi(Se),Ae=V(ae.line,ae.ch,Le?pe.text.length+1:null).end,Me=V(re.line,Le?0:null,re.ch).start;Le&&(Ae.top<Me.top-2?(Y(Ae.right,Ae.top,null,Ae.bottom),Y(w,Me.top,Me.left,Me.bottom)):Y(Ae.right,Ae.top,Me.left-Ae.right,Ae.bottom)),Ae.bottom<Me.top&&Y(w,Ae.bottom,null,Me.top)}l.appendChild(h)}function Rl(t){if(t.state.focused){var r=t.display;clearInterval(r.blinker);var l=!0;r.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?r.blinker=setInterval(function(){t.hasFocus()||Ji(t),r.cursorDiv.style.visibility=(l=!l)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(r.cursorDiv.style.visibility="hidden")}}function Cr(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||ms(t))}function Sa(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&Ji(t))},100)}function ms(t,r){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),t.options.readOnly!="nocursor"&&(t.state.focused||(xt(t,"focus",t,r),t.state.focused=!0,O(t.display.wrapper,"CodeMirror-focused"),!t.curOp&&t.display.selForContextMenu!=t.doc.sel&&(t.display.input.reset(),b&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),Rl(t))}function Ji(t,r){t.state.delayingBlurEvent||(t.state.focused&&(xt(t,"blur",t,r),t.state.focused=!1,X(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function ys(t){for(var r=t.display,l=r.lineDiv.offsetTop,s=Math.max(0,r.scroller.getBoundingClientRect().top),o=r.lineDiv.getBoundingClientRect().top,h=0,S=0;S<r.view.length;S++){var w=r.view[S],D=t.options.lineWrapping,R=void 0,Y=0;if(!w.hidden){if(o+=w.line.height,_&&m<8){var V=w.node.offsetTop+w.node.offsetHeight;R=V-l,l=V}else{var ae=w.node.getBoundingClientRect();R=ae.bottom-ae.top,!D&&w.text.firstChild&&(Y=w.text.firstChild.getBoundingClientRect().right-ae.left-1)}var re=w.line.height-R;if((re>.005||re<-.005)&&(o<s&&(h-=re),bi(w.line,R),ba(w.line),w.rest))for(var pe=0;pe<w.rest.length;pe++)ba(w.rest[pe]);if(Y>t.display.sizerWidth){var Se=Math.ceil(Y/kn(t.display));Se>t.display.maxLineLength&&(t.display.maxLineLength=Se,t.display.maxLine=w.line,t.display.maxLineChanged=!0)}}}Math.abs(h)>2&&(r.scroller.scrollTop+=h)}function ba(t){if(t.widgets)for(var r=0;r<t.widgets.length;++r){var l=t.widgets[r],s=l.node.parentNode;s&&(l.height=s.offsetHeight)}}function Nr(t,r,l){var s=l&&l.top!=null?Math.max(0,l.top):t.scroller.scrollTop;s=Math.floor(s-on(t));var o=l&&l.bottom!=null?l.bottom:s+t.wrapper.clientHeight,h=Rr(r,s),S=Rr(r,o);if(l&&l.ensure){var w=l.ensure.from.line,D=l.ensure.to.line;w<h?(h=w,S=Rr(r,Hr(He(r,w))+t.wrapper.clientHeight)):Math.min(D,r.lastLine())>=S&&(h=Rr(r,Hr(He(r,D))-t.wrapper.clientHeight),S=D)}return{from:h,to:Math.max(S,h+1)}}function Ss(t,r){if(!Yt(t,"scrollCursorIntoView")){var l=t.display,s=l.sizer.getBoundingClientRect(),o=null,h=l.wrapper.ownerDocument;if(r.top+s.top<0?o=!0:r.bottom+s.top>(h.defaultView.innerHeight||h.documentElement.clientHeight)&&(o=!1),o!=null&&!f){var S=ue("div","​",null,`position: absolute;
                         top: `+(r.top-l.viewOffset-on(t.display))+`px;
                         height: `+(r.bottom-r.top+lr(t)+l.barHeight)+`px;
                         left: `+r.left+"px; width: "+Math.max(2,r.right-r.left)+"px;");t.display.lineSpace.appendChild(S),S.scrollIntoView(o),t.display.lineSpace.removeChild(S)}}}function Ca(t,r,l,s){s==null&&(s=0);var o;!t.options.lineWrapping&&r==l&&(l=r.sticky=="before"?xe(r.line,r.ch+1,"before"):r,r=r.ch?xe(r.line,r.sticky=="before"?r.ch-1:r.ch,"after"):r);for(var h=0;h<5;h++){var S=!1,w=Qi(t,r),D=!l||l==r?w:Qi(t,l);o={left:Math.min(w.left,D.left),top:Math.min(w.top,D.top)-s,right:Math.max(w.left,D.left),bottom:Math.max(w.bottom,D.bottom)+s};var R=ki(t,o),Y=t.doc.scrollTop,V=t.doc.scrollLeft;if(R.scrollTop!=null&&(Hn(t,R.scrollTop),Math.abs(t.doc.scrollTop-Y)>1&&(S=!0)),R.scrollLeft!=null&&(Nt(t,R.scrollLeft),Math.abs(t.doc.scrollLeft-V)>1&&(S=!0)),!S)break}return o}function wa(t,r){var l=ki(t,r);l.scrollTop!=null&&Hn(t,l.scrollTop),l.scrollLeft!=null&&Nt(t,l.scrollLeft)}function ki(t,r){var l=t.display,s=gs(t.display);r.top<0&&(r.top=0);var o=t.curOp&&t.curOp.scrollTop!=null?t.curOp.scrollTop:l.scroller.scrollTop,h=Tl(t),S={};r.bottom-r.top>h&&(r.bottom=r.top+h);var w=t.doc.height+qo(l),D=r.top<s,R=r.bottom>w-s;if(r.top<o)S.scrollTop=D?0:r.top;else if(r.bottom>o+h){var Y=Math.min(r.top,(R?w:r.bottom)-h);Y!=o&&(S.scrollTop=Y)}var V=t.options.fixedGutter?0:l.gutters.offsetWidth,ae=t.curOp&&t.curOp.scrollLeft!=null?t.curOp.scrollLeft:l.scroller.scrollLeft-V,re=un(t)-l.gutters.offsetWidth,pe=r.right-r.left>re;return pe&&(r.right=r.left+re),r.left<10?S.scrollLeft=0:r.left<ae?S.scrollLeft=Math.max(0,r.left+V-(pe?0:10)):r.right>re+ae-3&&(S.scrollLeft=r.right+(pe?0:10)-re),S}function Oi(t,r){r!=null&&(wr(t),t.curOp.scrollTop=(t.curOp.scrollTop==null?t.doc.scrollTop:t.curOp.scrollTop)+r)}function $i(t){wr(t);var r=t.getCursor();t.curOp.scrollToPos={from:r,to:r,margin:t.options.cursorScrollMargin}}function qi(t,r,l){(r!=null||l!=null)&&wr(t),r!=null&&(t.curOp.scrollLeft=r),l!=null&&(t.curOp.scrollTop=l)}function zr(t,r){wr(t),t.curOp.scrollToPos=r}function wr(t){var r=t.curOp.scrollToPos;if(r){t.curOp.scrollToPos=null;var l=hn(t,r.from),s=hn(t,r.to);$o(t,l,s,r.margin)}}function $o(t,r,l,s){var o=ki(t,{left:Math.min(r.left,l.left),top:Math.min(r.top,l.top)-s,right:Math.max(r.right,l.right),bottom:Math.max(r.bottom,l.bottom)+s});qi(t,o.scrollLeft,o.scrollTop)}function Hn(t,r){Math.abs(t.doc.scrollTop-r)<2||(Z||Ut(t,{top:r}),xa(t,r,!0),Z&&Ut(t),_n(t,100))}function xa(t,r,l){r=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,r)),!(t.display.scroller.scrollTop==r&&!l)&&(t.doc.scrollTop=r,t.display.scrollbars.setScrollTop(r),t.display.scroller.scrollTop!=r&&(t.display.scroller.scrollTop=r))}function Nt(t,r,l,s){r=Math.max(0,Math.min(r,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),!((l?r==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-r)<2)&&!s)&&(t.doc.scrollLeft=r,Da(t),t.display.scroller.scrollLeft!=r&&(t.display.scroller.scrollLeft=r),t.display.scrollbars.setScrollLeft(r))}function St(t){var r=t.display,l=r.gutters.offsetWidth,s=Math.round(t.doc.height+qo(t.display));return{clientHeight:r.scroller.clientHeight,viewHeight:r.wrapper.clientHeight,scrollWidth:r.scroller.scrollWidth,clientWidth:r.scroller.clientWidth,viewWidth:r.wrapper.clientWidth,barLeft:t.options.fixedGutter?l:0,docHeight:s,scrollHeight:s+lr(t)+r.barHeight,nativeBarWidth:r.nativeBarWidth,gutterWidth:l}}var Je=function(t,r,l){this.cm=l;var s=this.vert=ue("div",[ue("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=ue("div",[ue("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");s.tabIndex=o.tabIndex=-1,t(s),t(o),je(s,"scroll",function(){s.clientHeight&&r(s.scrollTop,"vertical")}),je(o,"scroll",function(){o.clientWidth&&r(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,_&&m<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Je.prototype.update=function(t){var r=t.scrollWidth>t.clientWidth+1,l=t.scrollHeight>t.clientHeight+1,s=t.nativeBarWidth;if(l){this.vert.style.display="block",this.vert.style.bottom=r?s+"px":"0";var o=t.viewHeight-(r?s:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+o)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(r){this.horiz.style.display="block",this.horiz.style.right=l?s+"px":"0",this.horiz.style.left=t.barLeft+"px";var h=t.viewWidth-t.barLeft-(l?s:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+h)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(s==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:l?s:0,bottom:r?s:0}},Je.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Je.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Je.prototype.zeroWidthHack=function(){var t=x&&!c?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new ye,this.disableVert=new ye},Je.prototype.enableZeroWidthBar=function(t,r,l){t.style.visibility="";function s(){var o=t.getBoundingClientRect(),h=l=="vert"?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1);h!=t?t.style.visibility="hidden":r.set(1e3,s)}r.set(1e3,s)},Je.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var or=function(){};or.prototype.update=function(){return{bottom:0,right:0}},or.prototype.setScrollLeft=function(){},or.prototype.setScrollTop=function(){},or.prototype.clear=function(){};function xi(t,r){r||(r=St(t));var l=t.display.barWidth,s=t.display.barHeight;Ea(t,r);for(var o=0;o<4&&l!=t.display.barWidth||s!=t.display.barHeight;o++)l!=t.display.barWidth&&t.options.lineWrapping&&ys(t),Ea(t,St(t)),l=t.display.barWidth,s=t.display.barHeight}function Ea(t,r){var l=t.display,s=l.scrollbars.update(r);l.sizer.style.paddingRight=(l.barWidth=s.right)+"px",l.sizer.style.paddingBottom=(l.barHeight=s.bottom)+"px",l.heightForcer.style.borderBottom=s.bottom+"px solid transparent",s.right&&s.bottom?(l.scrollbarFiller.style.display="block",l.scrollbarFiller.style.height=s.bottom+"px",l.scrollbarFiller.style.width=s.right+"px"):l.scrollbarFiller.style.display="",s.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(l.gutterFiller.style.display="block",l.gutterFiller.style.height=s.bottom+"px",l.gutterFiller.style.width=r.gutterWidth+"px"):l.gutterFiller.style.display=""}var pn={native:Je,null:or};function eu(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&X(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new pn[t.options.scrollbarStyle](function(r){t.display.wrapper.insertBefore(r,t.display.scrollbarFiller),je(r,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),r.setAttribute("cm-not-content","true")},function(r,l){l=="horizontal"?Nt(t,r):Hn(t,r)},t),t.display.scrollbars.addClass&&O(t.display.wrapper,t.display.scrollbars.addClass)}var Dc=0;function ur(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Dc,markArrays:null},Xh(t.curOp)}function cr(t){var r=t.curOp;r&&Qh(r,function(l){for(var s=0;s<l.ops.length;s++)l.ops[s].cm.curOp=null;Lc(l)})}function Lc(t){for(var r=t.ops,l=0;l<r.length;l++)kl(r[l]);for(var s=0;s<r.length;s++)tu(r[s]);for(var o=0;o<r.length;o++)Nn(r[o]);for(var h=0;h<r.length;h++)Ur(r[h]);for(var S=0;S<r.length;S++)gn(r[S])}function kl(t){var r=t.cm,l=r.display;Ta(r),t.updateMaxLine&&Uo(r),t.mustUpdate=t.viewChanged||t.forceUpdate||t.scrollTop!=null||t.scrollToPos&&(t.scrollToPos.from.line<l.viewFrom||t.scrollToPos.to.line>=l.viewTo)||l.maxLineChanged&&r.options.lineWrapping,t.update=t.mustUpdate&&new Zt(r,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function tu(t){t.updatedDisplay=t.mustUpdate&&iu(t.cm,t.update)}function Nn(t){var r=t.cm,l=r.display;t.updatedDisplay&&ys(r),t.barMeasure=St(r),l.maxLineChanged&&!r.options.lineWrapping&&(t.adjustWidthTo=Yo(r,l.maxLine,l.maxLine.text.length).left+3,r.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(l.scroller.clientWidth,l.sizer.offsetLeft+t.adjustWidthTo+lr(r)+r.display.barWidth),t.maxScrollLeft=Math.max(0,l.sizer.offsetLeft+t.adjustWidthTo-un(r))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=l.input.prepareSelection())}function Ur(t){var r=t.cm;t.adjustWidthTo!=null&&(r.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<r.doc.scrollLeft&&Nt(r,Math.min(r.display.scroller.scrollLeft,t.maxScrollLeft),!0),r.display.maxLineChanged=!1);var l=t.focus&&t.focus==q(we(r));t.preparedSelection&&r.display.input.showSelection(t.preparedSelection,l),(t.updatedDisplay||t.startHeight!=r.doc.height)&&xi(r,t.barMeasure),t.updatedDisplay&&Pn(r,t.barMeasure),t.selectionChanged&&Rl(r),r.state.focused&&t.updateInput&&r.display.input.reset(t.typing),l&&Cr(t.cm)}function gn(t){var r=t.cm,l=r.display,s=r.doc;if(t.updatedDisplay&&Mc(r,t.update),l.wheelStartX!=null&&(t.scrollTop!=null||t.scrollLeft!=null||t.scrollToPos)&&(l.wheelStartX=l.wheelStartY=null),t.scrollTop!=null&&xa(r,t.scrollTop,t.forceScroll),t.scrollLeft!=null&&Nt(r,t.scrollLeft,!0,!0),t.scrollToPos){var o=Ca(r,Pe(s,t.scrollToPos.from),Pe(s,t.scrollToPos.to),t.scrollToPos.margin);Ss(r,o)}var h=t.maybeHiddenMarkers,S=t.maybeUnhiddenMarkers;if(h)for(var w=0;w<h.length;++w)h[w].lines.length||xt(h[w],"hide");if(S)for(var D=0;D<S.length;++D)S[D].lines.length&&xt(S[D],"unhide");l.wrapper.offsetHeight&&(s.scrollTop=r.display.scroller.scrollTop),t.changeObjs&&xt(r,"changes",r,t.changeObjs),t.update&&t.update.finish()}function kt(t,r){if(t.curOp)return r();ur(t);try{return r()}finally{cr(t)}}function zt(t,r){return function(){if(t.curOp)return r.apply(t,arguments);ur(t);try{return r.apply(t,arguments)}finally{cr(t)}}}function si(t){return function(){if(this.curOp)return t.apply(this,arguments);ur(this);try{return t.apply(this,arguments)}finally{cr(this)}}}function Rt(t){return function(){var r=this.cm;if(!r||r.curOp)return t.apply(this,arguments);ur(r);try{return t.apply(this,arguments)}finally{cr(r)}}}function _n(t,r){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(r,j(zn,t))}function zn(t){var r=t.doc;if(!(r.highlightFrontier>=t.display.viewTo)){var l=+new Date+t.options.workTime,s=yr(t,r.highlightFrontier),o=[];r.iter(s.line,Math.min(r.first+r.size,t.display.viewTo+500),function(h){if(s.line>=t.display.viewFrom){var S=h.styles,w=h.text.length>t.options.maxHighlightLength?sn(r.mode,s.state):null,D=Lo(t,h,s,!0);w&&(s.state=w),h.styles=D.styles;var R=h.styleClasses,Y=D.classes;Y?h.styleClasses=Y:R&&(h.styleClasses=null);for(var V=!S||S.length!=h.styles.length||R!=Y&&(!R||!Y||R.bgClass!=Y.bgClass||R.textClass!=Y.textClass),ae=0;!V&&ae<S.length;++ae)V=S[ae]!=h.styles[ae];V&&o.push(s.line),h.stateAfter=s.save(),s.nextLine()}else h.text.length<=t.options.maxHighlightLength&&Mo(t,h.text,s),h.stateAfter=s.line%5==0?s.save():null,s.nextLine();if(+new Date>l)return _n(t,t.options.workDelay),!0}),r.highlightFrontier=s.line,r.modeFrontier=Math.max(r.modeFrontier,s.line),o.length&&kt(t,function(){for(var h=0;h<o.length;h++)br(t,o[h],"text")})}}var Zt=function(t,r,l){var s=t.display;this.viewport=r,this.visible=Nr(s,t.doc,r),this.editorIsHidden=!s.wrapper.offsetWidth,this.wrapperHeight=s.wrapper.clientHeight,this.wrapperWidth=s.wrapper.clientWidth,this.oldDisplayWidth=un(t),this.force=l,this.dims=_a(t),this.events=[]};Zt.prototype.signal=function(t,r){Ii(t,r)&&this.events.push(arguments)},Zt.prototype.finish=function(){for(var t=0;t<this.events.length;t++)xt.apply(null,this.events[t])};function Ta(t){var r=t.display;!r.scrollbarsClipped&&r.scroller.offsetWidth&&(r.nativeBarWidth=r.scroller.offsetWidth-r.scroller.clientWidth,r.heightForcer.style.height=lr(t)+"px",r.sizer.style.marginBottom=-r.nativeBarWidth+"px",r.sizer.style.borderRightWidth=lr(t)+"px",r.scrollbarsClipped=!0)}function Ac(t){if(t.hasFocus())return null;var r=q(we(t));if(!r||!z(t.display.lineDiv,r))return null;var l={activeElt:r};if(window.getSelection){var s=Be(t).getSelection();s.anchorNode&&s.extend&&z(t.display.lineDiv,s.anchorNode)&&(l.anchorNode=s.anchorNode,l.anchorOffset=s.anchorOffset,l.focusNode=s.focusNode,l.focusOffset=s.focusOffset)}return l}function $h(t){if(!(!t||!t.activeElt||t.activeElt==q(De(t.activeElt)))&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(t.activeElt.nodeName)&&t.anchorNode&&z(document.body,t.anchorNode)&&z(document.body,t.focusNode))){var r=t.activeElt.ownerDocument,l=r.defaultView.getSelection(),s=r.createRange();s.setEnd(t.anchorNode,t.anchorOffset),s.collapse(!1),l.removeAllRanges(),l.addRange(s),l.extend(t.focusNode,t.focusOffset)}}function iu(t,r){var l=t.display,s=t.doc;if(r.editorIsHidden)return ar(t),!1;if(!r.force&&r.visible.from>=l.viewFrom&&r.visible.to<=l.viewTo&&(l.updateLineNumbers==null||l.updateLineNumbers>=l.viewTo)&&l.renderedView==l.view&&Bn(t)==0)return!1;In(t)&&(ar(t),r.dims=_a(t));var o=s.first+s.size,h=Math.max(r.visible.from-t.options.viewportMargin,s.first),S=Math.min(o,r.visible.to+t.options.viewportMargin);l.viewFrom<h&&h-l.viewFrom<20&&(h=Math.max(s.first,l.viewFrom)),l.viewTo>S&&l.viewTo-S<20&&(S=Math.min(o,l.viewTo)),Ri&&(h=zo(t.doc,h),S=cc(t.doc,S));var w=h!=l.viewFrom||S!=l.viewTo||l.lastWrapHeight!=r.wrapperHeight||l.lastWrapWidth!=r.wrapperWidth;Jo(t,h,S),l.viewOffset=Hr(He(t.doc,l.viewFrom)),t.display.mover.style.top=l.viewOffset+"px";var D=Bn(t);if(!w&&D==0&&!r.force&&l.renderedView==l.view&&(l.updateLineNumbers==null||l.updateLineNumbers>=l.viewTo))return!1;var R=Ac(t);return D>4&&(l.lineDiv.style.display="none"),ru(t,l.updateLineNumbers,r.dims),D>4&&(l.lineDiv.style.display=""),l.renderedView=l.view,$h(R),ie(l.cursorDiv),ie(l.selectionDiv),l.gutters.style.height=l.sizer.style.minHeight=0,w&&(l.lastWrapHeight=r.wrapperHeight,l.lastWrapWidth=r.wrapperWidth,_n(t,400)),l.updateLineNumbers=null,!0}function Mc(t,r){for(var l=r.viewport,s=!0;;s=!1){if(!s||!t.options.lineWrapping||r.oldDisplayWidth==un(t)){if(l&&l.top!=null&&(l={top:Math.min(t.doc.height+qo(t.display)-Tl(t),l.top)}),r.visible=Nr(t.display,t.doc,l),r.visible.from>=t.display.viewFrom&&r.visible.to<=t.display.viewTo)break}else s&&(r.visible=Nr(t.display,t.doc,l));if(!iu(t,r))break;ys(t);var o=St(t);_s(t),xi(t,o),Pn(t,o),r.force=!1}r.signal(t,"update",t),(t.display.viewFrom!=t.display.reportedViewFrom||t.display.viewTo!=t.display.reportedViewTo)&&(r.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function Ut(t,r){var l=new Zt(t,r);if(iu(t,l)){ys(t),Mc(t,l);var s=St(t);_s(t),xi(t,s),Pn(t,s),l.finish()}}function ru(t,r,l){var s=t.display,o=t.options.lineNumbers,h=s.lineDiv,S=h.firstChild;function w(pe){var Se=pe.nextSibling;return b&&x&&t.display.currentWheelTarget==pe?pe.style.display="none":pe.parentNode.removeChild(pe),Se}for(var D=s.view,R=s.viewFrom,Y=0;Y<D.length;Y++){var V=D[Y];if(!V.hidden)if(!V.node||V.node.parentNode!=h){var ae=Vh(t,V,R,l);h.insertBefore(ae,S)}else{for(;S!=V.node;)S=w(S);var re=o&&r!=null&&r<=R&&V.lineNumber;V.changes&&(Ne(V.changes,"gutter")>-1&&(re=!1),os(t,V,R,l)),re&&(ie(V.lineNumber),V.lineNumber.appendChild(document.createTextNode(la(t.options,R)))),S=V.node.nextSibling}R+=V.size}for(;S;)S=w(S)}function Un(t){var r=t.gutters.offsetWidth;t.sizer.style.marginLeft=r+"px",Xt(t,"gutterChanged",t)}function Pn(t,r){t.display.sizer.style.minHeight=r.docHeight+"px",t.display.heightForcer.style.top=r.docHeight+"px",t.display.gutters.style.height=r.docHeight+t.display.barHeight+lr(t)+"px"}function Da(t){var r=t.display,l=r.view;if(!(!r.alignWidgets&&(!r.gutters.firstChild||!t.options.fixedGutter))){for(var s=Al(r)-r.scroller.scrollLeft+t.doc.scrollLeft,o=r.gutters.offsetWidth,h=s+"px",S=0;S<l.length;S++)if(!l[S].hidden){t.options.fixedGutter&&(l[S].gutter&&(l[S].gutter.style.left=h),l[S].gutterBackground&&(l[S].gutterBackground.style.left=h));var w=l[S].alignable;if(w)for(var D=0;D<w.length;D++)w[D].style.left=h}t.options.fixedGutter&&(r.gutters.style.left=s+o+"px")}}function In(t){if(!t.options.lineNumbers)return!1;var r=t.doc,l=la(t.options,r.first+r.size-1),s=t.display;if(l.length!=s.lineNumChars){var o=s.measure.appendChild(ue("div",[ue("div",l)],"CodeMirror-linenumber CodeMirror-gutter-elt")),h=o.firstChild.offsetWidth,S=o.offsetWidth-h;return s.lineGutter.style.width="",s.lineNumInnerWidth=Math.max(h,s.lineGutter.offsetWidth-S)+1,s.lineNumWidth=s.lineNumInnerWidth+S,s.lineNumChars=s.lineNumInnerWidth?l.length:-1,s.lineGutter.style.width=s.lineNumWidth+"px",Un(t.display),!0}return!1}function mn(t,r){for(var l=[],s=!1,o=0;o<t.length;o++){var h=t[o],S=null;if(typeof h!="string"&&(S=h.style,h=h.className),h=="CodeMirror-linenumbers")if(r)s=!0;else continue;l.push({className:h,style:S})}return r&&!s&&l.push({className:"CodeMirror-linenumbers",style:null}),l}function Rc(t){var r=t.gutters,l=t.gutterSpecs;ie(r),t.lineGutter=null;for(var s=0;s<l.length;++s){var o=l[s],h=o.className,S=o.style,w=r.appendChild(ue("div",null,"CodeMirror-gutter "+h));S&&(w.style.cssText=S),h=="CodeMirror-linenumbers"&&(t.lineGutter=w,w.style.width=(t.lineNumWidth||1)+"px")}r.style.display=l.length?"":"none",Un(t)}function bs(t){Rc(t.display),Wt(t),Da(t)}function ef(t,r,l,s){var o=this;this.input=l,o.scrollbarFiller=ue("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=ue("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=K("div",null,"CodeMirror-code"),o.selectionDiv=ue("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=ue("div",null,"CodeMirror-cursors"),o.measure=ue("div",null,"CodeMirror-measure"),o.lineMeasure=ue("div",null,"CodeMirror-measure"),o.lineSpace=K("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var h=K("div",[o.lineSpace],"CodeMirror-lines");o.mover=ue("div",[h],null,"position: relative"),o.sizer=ue("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=ue("div",null,null,"position: absolute; height: "+Oe+"px; width: 1px;"),o.gutters=ue("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=ue("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=ue("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),T&&M>=105&&(o.wrapper.style.clipPath="inset(0px)"),o.wrapper.setAttribute("translate","no"),_&&m<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),!b&&!(Z&&C)&&(o.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(o.wrapper):t(o.wrapper)),o.viewFrom=o.viewTo=r.first,o.reportedViewFrom=o.reportedViewTo=r.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=mn(s.gutters,s.lineNumbers),Rc(o),l.init(o)}var Ol=0,Ei=null;_?Ei=-.53:Z?Ei=15:T?Ei=-.7:A&&(Ei=-1/3);function La(t){var r=t.wheelDeltaX,l=t.wheelDeltaY;return r==null&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(r=t.detail),l==null&&t.detail&&t.axis==t.VERTICAL_AXIS?l=t.detail:l==null&&(l=t.wheelDelta),{x:r,y:l}}function Aa(t){var r=La(t);return r.x*=Ei,r.y*=Ei,r}function nu(t,r){T&&M==102&&(t.display.chromeScrollHack==null?t.display.sizer.style.pointerEvents="none":clearTimeout(t.display.chromeScrollHack),t.display.chromeScrollHack=setTimeout(function(){t.display.chromeScrollHack=null,t.display.sizer.style.pointerEvents=""},100));var l=La(r),s=l.x,o=l.y,h=Ei;r.deltaMode===0&&(s=r.deltaX,o=r.deltaY,h=1);var S=t.display,w=S.scroller,D=w.scrollWidth>w.clientWidth,R=w.scrollHeight>w.clientHeight;if(s&&D||o&&R){if(o&&x&&b){e:for(var Y=r.target,V=S.view;Y!=w;Y=Y.parentNode)for(var ae=0;ae<V.length;ae++)if(V[ae].node==Y){t.display.currentWheelTarget=Y;break e}}if(s&&!Z&&!k&&h!=null){o&&R&&Hn(t,Math.max(0,w.scrollTop+o*h)),Nt(t,Math.max(0,w.scrollLeft+s*h)),(!o||o&&R)&&ci(r),S.wheelStartX=null;return}if(o&&h!=null){var re=o*h,pe=t.doc.scrollTop,Se=pe+S.wrapper.clientHeight;re<0?pe=Math.max(0,pe+re-50):Se=Math.min(t.doc.height,Se+re+50),Ut(t,{top:pe,bottom:Se})}Ol<20&&r.deltaMode!==0&&(S.wheelStartX==null?(S.wheelStartX=w.scrollLeft,S.wheelStartY=w.scrollTop,S.wheelDX=s,S.wheelDY=o,setTimeout(function(){if(S.wheelStartX!=null){var Le=w.scrollLeft-S.wheelStartX,Ae=w.scrollTop-S.wheelStartY,Me=Ae&&S.wheelDY&&Ae/S.wheelDY||Le&&S.wheelDX&&Le/S.wheelDX;S.wheelStartX=S.wheelStartY=null,Me&&(Ei=(Ei*Ol+Me)/(Ol+1),++Ol)}},200)):(S.wheelDX+=s,S.wheelDY+=o))}}var fi=function(t,r){this.ranges=t,this.primIndex=r};fi.prototype.primary=function(){return this.ranges[this.primIndex]},fi.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var r=0;r<this.ranges.length;r++){var l=this.ranges[r],s=t.ranges[r];if(!Eo(l.anchor,s.anchor)||!Eo(l.head,s.head))return!1}return!0},fi.prototype.deepCopy=function(){for(var t=[],r=0;r<this.ranges.length;r++)t[r]=new lt(rs(this.ranges[r].anchor),rs(this.ranges[r].head));return new fi(t,this.primIndex)},fi.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},fi.prototype.contains=function(t,r){r||(r=t);for(var l=0;l<this.ranges.length;l++){var s=this.ranges[l];if(Ge(r,s.from())>=0&&Ge(t,s.to())<=0)return l}return-1};var lt=function(t,r){this.anchor=t,this.head=r};lt.prototype.from=function(){return An(this.anchor,this.head)},lt.prototype.to=function(){return fl(this.anchor,this.head)},lt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Bi(t,r,l){var s=t&&t.options.selectionsMayTouch,o=r[l];r.sort(function(ae,re){return Ge(ae.from(),re.from())}),l=Ne(r,o);for(var h=1;h<r.length;h++){var S=r[h],w=r[h-1],D=Ge(w.to(),S.from());if(s&&!S.empty()?D>0:D>=0){var R=An(w.from(),S.from()),Y=fl(w.to(),S.to()),V=w.empty()?S.from()==S.head:w.from()==w.head;h<=l&&--l,r.splice(--h,2,new lt(V?Y:R,V?R:Y))}}return new fi(r,l)}function xr(t,r){return new fi([new lt(t,r||t)],0)}function Pr(t){return t.text?xe(t.from.line+t.text.length-1,et(t.text).length+(t.text.length==1?t.from.ch:0)):t.to}function Bl(t,r){if(Ge(t,r.from)<0)return t;if(Ge(t,r.to)<=0)return Pr(r);var l=t.line+r.text.length-(r.to.line-r.from.line)-1,s=t.ch;return t.line==r.to.line&&(s+=Pr(r).ch-r.to.ch),xe(l,s)}function Ma(t,r){for(var l=[],s=0;s<t.sel.ranges.length;s++){var o=t.sel.ranges[s];l.push(new lt(Bl(o.anchor,r),Bl(o.head,r)))}return Bi(t.cm,l,t.sel.primIndex)}function Cs(t,r,l){return t.line==r.line?xe(l.line,t.ch-r.ch+l.ch):xe(l.line+(t.line-r.line),t.ch)}function kc(t,r,l){for(var s=[],o=xe(t.first,0),h=o,S=0;S<r.length;S++){var w=r[S],D=Cs(w.from,o,h),R=Cs(Pr(w),o,h);if(o=w.to,h=R,l=="around"){var Y=t.sel.ranges[S],V=Ge(Y.head,Y.anchor)<0;s[S]=new lt(V?R:D,V?D:R)}else s[S]=new lt(D,D)}return new fi(s,t.sel.primIndex)}function Ra(t){t.doc.mode=nn(t.options,t.doc.modeOption),er(t)}function er(t){t.doc.iter(function(r){r.stateAfter&&(r.stateAfter=null),r.styles&&(r.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,_n(t,100),t.state.modeGen++,t.curOp&&Wt(t)}function ka(t,r){return r.from.ch==0&&r.to.ch==0&&et(r.text)==""&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Hl(t,r,l,s){function o(Me){return l?l[Me]:null}function h(Me,Re,ke){Fh(Me,Re,ke,s),Xt(Me,"change",Me,r)}function S(Me,Re){for(var ke=[],Ie=Me;Ie<Re;++Ie)ke.push(new ls(R[Ie],o(Ie),s));return ke}var w=r.from,D=r.to,R=r.text,Y=He(t,w.line),V=He(t,D.line),ae=et(R),re=o(R.length-1),pe=D.line-w.line;if(r.full)t.insert(0,S(0,R.length)),t.remove(R.length,t.size-R.length);else if(ka(t,r)){var Se=S(0,R.length-1);h(V,V.text,re),pe&&t.remove(w.line,pe),Se.length&&t.insert(w.line,Se)}else if(Y==V)if(R.length==1)h(Y,Y.text.slice(0,w.ch)+ae+Y.text.slice(D.ch),re);else{var Le=S(1,R.length-1);Le.push(new ls(ae+Y.text.slice(D.ch),re,s)),h(Y,Y.text.slice(0,w.ch)+R[0],o(0)),t.insert(w.line+1,Le)}else if(R.length==1)h(Y,Y.text.slice(0,w.ch)+R[0]+V.text.slice(D.ch),o(0)),t.remove(w.line+1,pe);else{h(Y,Y.text.slice(0,w.ch)+R[0],o(0)),h(V,ae+V.text.slice(D.ch),re);var Ae=S(1,R.length-1);pe>1&&t.remove(w.line+1,pe-1),t.insert(w.line+1,Ae)}Xt(t,"change",t,r)}function Ti(t,r,l){function s(o,h,S){if(o.linked)for(var w=0;w<o.linked.length;++w){var D=o.linked[w];if(D.doc!=h){var R=S&&D.sharedHist;l&&!R||(r(D.doc,R),s(D.doc,o,R))}}}s(t,null,!0)}function Ir(t,r){if(r.cm)throw new Error("This document is already in use.");t.doc=r,r.cm=t,ma(t),Ra(t),ws(t),t.options.direction=r.direction,t.options.lineWrapping||Uo(t),t.options.mode=r.modeOption,Wt(t)}function ws(t){(t.doc.direction=="rtl"?O:X)(t.display.lineDiv,"CodeMirror-rtl")}function su(t){kt(t,function(){ws(t),Wt(t)})}function xs(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function Fn(t,r){var l={from:rs(r.from),to:Pr(r),text:Mr(t,r.from,r.to)};return Ba(t,l,r.from.line,r.to.line+1),Ti(t,function(s){return Ba(s,l,r.from.line,r.to.line+1)},!0),l}function Es(t){for(;t.length;){var r=et(t);if(r.ranges)t.pop();else break}}function Oc(t,r){if(r)return Es(t.done),et(t.done);if(t.done.length&&!et(t.done).ranges)return et(t.done);if(t.done.length>1&&!t.done[t.done.length-2].ranges)return t.done.pop(),et(t.done)}function lu(t,r,l,s){var o=t.history;o.undone.length=0;var h=+new Date,S,w;if((o.lastOp==s||o.lastOrigin==r.origin&&r.origin&&(r.origin.charAt(0)=="+"&&o.lastModTime>h-(t.cm?t.cm.options.historyEventDelay:500)||r.origin.charAt(0)=="*"))&&(S=Oc(o,o.lastOp==s)))w=et(S.changes),Ge(r.from,r.to)==0&&Ge(r.from,w.to)==0?w.to=Pr(r):S.changes.push(Fn(t,r));else{var D=et(o.done);for((!D||!D.ranges)&&Nl(t.sel,o.done),S={changes:[Fn(t,r)],generation:o.generation},o.done.push(S);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(l),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=h,o.lastOp=o.lastSelOp=s,o.lastOrigin=o.lastSelOrigin=r.origin,w||xt(t,"historyAdded")}function Ts(t,r,l,s){var o=r.charAt(0);return o=="*"||o=="+"&&l.ranges.length==s.ranges.length&&l.somethingSelected()==s.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function Oa(t,r,l,s){var o=t.history,h=s&&s.origin;l==o.lastSelOp||h&&o.lastSelOrigin==h&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==h||Ts(t,h,et(o.done),r))?o.done[o.done.length-1]=r:Nl(r,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=h,o.lastSelOp=l,s&&s.clearRedo!==!1&&Es(o.undone)}function Nl(t,r){var l=et(r);l&&l.ranges&&l.equals(t)||r.push(t)}function Ba(t,r,l,s){var o=r["spans_"+t.id],h=0;t.iter(Math.max(t.first,l),Math.min(t.first+t.size,s),function(S){S.markedSpans&&((o||(o=r["spans_"+t.id]={}))[h]=S.markedSpans),++h})}function au(t){if(!t)return null;for(var r,l=0;l<t.length;++l)t[l].marker.explicitlyCleared?r||(r=t.slice(0,l)):r&&r.push(t[l]);return r?r.length?r:null:t}function yn(t,r){var l=r["spans_"+t.id];if(!l)return null;for(var s=[],o=0;o<r.text.length;++o)s.push(au(l[o]));return s}function Qe(t,r){var l=yn(t,r),s=gl(t,r);if(!l)return s;if(!s)return l;for(var o=0;o<l.length;++o){var h=l[o],S=s[o];if(h&&S)e:for(var w=0;w<S.length;++w){for(var D=S[w],R=0;R<h.length;++R)if(h[R].marker==D.marker)continue e;h.push(D)}else S&&(l[o]=S)}return l}function at(t,r,l){for(var s=[],o=0;o<t.length;++o){var h=t[o];if(h.ranges){s.push(l?fi.prototype.deepCopy.call(h):h);continue}var S=h.changes,w=[];s.push({changes:w});for(var D=0;D<S.length;++D){var R=S[D],Y=void 0;if(w.push({from:R.from,to:R.to,text:R.text}),r)for(var V in R)(Y=V.match(/^spans_(\d+)$/))&&Ne(r,Number(Y[1]))>-1&&(et(w)[V]=R[V],delete R[V])}}return s}function Ot(t,r,l,s){if(s){var o=t.anchor;if(l){var h=Ge(r,o)<0;h!=Ge(l,o)<0?(o=r,r=l):h!=Ge(r,l)<0&&(r=l)}return new lt(o,r)}else return new lt(l||r,r)}function jn(t,r,l,s,o){o==null&&(o=t.cm&&(t.cm.display.shift||t.extend)),di(t,new fi([Ot(t.sel.primary(),r,l,o)],0),s)}function Wn(t,r,l){for(var s=[],o=t.cm&&(t.cm.display.shift||t.extend),h=0;h<t.sel.ranges.length;h++)s[h]=Ot(t.sel.ranges[h],r[h],null,o);var S=Bi(t.cm,s,t.sel.primIndex);di(t,S,l)}function Fr(t,r,l,s){var o=t.sel.ranges.slice(0);o[r]=l,di(t,Bi(t.cm,o,t.sel.primIndex),s)}function zl(t,r,l,s){di(t,xr(r,l),s)}function Ul(t,r,l){var s={ranges:r.ranges,update:function(o){this.ranges=[];for(var h=0;h<o.length;h++)this.ranges[h]=new lt(Pe(t,o[h].anchor),Pe(t,o[h].head))},origin:l&&l.origin};return xt(t,"beforeSelectionChange",t,s),t.cm&&xt(t.cm,"beforeSelectionChange",t.cm,s),s.ranges!=r.ranges?Bi(t.cm,s.ranges,s.ranges.length-1):r}function qn(t,r,l){var s=t.history.done,o=et(s);o&&o.ranges?(s[s.length-1]=r,Dt(t,r,l)):di(t,r,l)}function di(t,r,l){Dt(t,r,l),Oa(t,t.sel,t.cm?t.cm.curOp.id:NaN,l)}function Dt(t,r,l){(Ii(t,"beforeSelectionChange")||t.cm&&Ii(t.cm,"beforeSelectionChange"))&&(r=Ul(t,r,l));var s=l&&l.bias||(Ge(r.primary().head,t.sel.primary().head)<0?-1:1);Ha(t,ou(t,r,s,!0)),!(l&&l.scroll===!1)&&t.cm&&t.cm.getOption("readOnly")!="nocursor"&&$i(t.cm)}function Ha(t,r){r.equals(t.sel)||(t.sel=r,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,yo(t.cm)),Xt(t,"cursorActivity",t))}function Na(t){Ha(t,ou(t,t.sel,null,!1))}function ou(t,r,l,s){for(var o,h=0;h<r.ranges.length;h++){var S=r.ranges[h],w=r.ranges.length==t.sel.ranges.length&&t.sel.ranges[h],D=za(t,S.anchor,w&&w.anchor,l,s),R=S.head==S.anchor?D:za(t,S.head,w&&w.head,l,s);(o||D!=S.anchor||R!=S.head)&&(o||(o=r.ranges.slice(0,h)),o[h]=new lt(D,R))}return o?Bi(t.cm,o,r.primIndex):r}function Gn(t,r,l,s,o){var h=He(t,r.line);if(h.markedSpans)for(var S=0;S<h.markedSpans.length;++S){var w=h.markedSpans[S],D=w.marker,R="selectLeft"in D?!D.selectLeft:D.inclusiveLeft,Y="selectRight"in D?!D.selectRight:D.inclusiveRight;if((w.from==null||(R?w.from<=r.ch:w.from<r.ch))&&(w.to==null||(Y?w.to>=r.ch:w.to>r.ch))){if(o&&(xt(D,"beforeCursorEnter"),D.explicitlyCleared))if(h.markedSpans){--S;continue}else break;if(!D.atomic)continue;if(l){var V=D.find(s<0?1:-1),ae=void 0;if((s<0?Y:R)&&(V=Ua(t,V,-s,V&&V.line==r.line?h:null)),V&&V.line==r.line&&(ae=Ge(V,l))&&(s<0?ae<0:ae>0))return Gn(t,V,r,s,o)}var re=D.find(s<0?-1:1);return(s<0?R:Y)&&(re=Ua(t,re,s,re.line==r.line?h:null)),re?Gn(t,re,r,s,o):null}}return r}function za(t,r,l,s,o){var h=s||1,S=Gn(t,r,l,h,o)||!o&&Gn(t,r,l,h,!0)||Gn(t,r,l,-h,o)||!o&&Gn(t,r,l,-h,!0);return S||(t.cantEdit=!0,xe(t.first,0))}function Ua(t,r,l,s){return l<0&&r.ch==0?r.line>t.first?Pe(t,xe(r.line-1)):null:l>0&&r.ch==(s||He(t,r.line)).text.length?r.line<t.first+t.size-1?xe(r.line+1,0):null:new xe(r.line,r.ch+l)}function Pa(t){t.setSelection(xe(t.firstLine(),0),xe(t.lastLine()),vt)}function Ia(t,r,l){var s={canceled:!1,from:r.from,to:r.to,text:r.text,origin:r.origin,cancel:function(){return s.canceled=!0}};return l&&(s.update=function(o,h,S,w){o&&(s.from=Pe(t,o)),h&&(s.to=Pe(t,h)),S&&(s.text=S),w!==void 0&&(s.origin=w)}),xt(t,"beforeChange",t,s),t.cm&&xt(t.cm,"beforeChange",t.cm,s),s.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:s.from,to:s.to,text:s.text,origin:s.origin}}function Qt(t,r,l){if(t.cm){if(!t.cm.curOp)return zt(t.cm,Qt)(t,r,l);if(t.cm.state.suppressEdits)return}if(!((Ii(t,"beforeChange")||t.cm&&Ii(t.cm,"beforeChange"))&&(r=Ia(t,r,!0),!r))){var s=Mn&&!l&&oc(t,r.from,r.to);if(s)for(var o=s.length-1;o>=0;--o)Pt(t,{from:s[o].from,to:s[o].to,text:o?[""]:r.text,origin:r.origin});else Pt(t,r)}}function Pt(t,r){if(!(r.text.length==1&&r.text[0]==""&&Ge(r.from,r.to)==0)){var l=Ma(t,r);lu(t,r,l,t.cm?t.cm.curOp.id:NaN),Sn(t,r,l,gl(t,r));var s=[];Ti(t,function(o,h){!h&&Ne(s,o.history)==-1&&(ja(o.history,r),s.push(o.history)),Sn(o,r,null,gl(o,r))})}}function Ds(t,r,l){var s=t.cm&&t.cm.state.suppressEdits;if(!(s&&!l)){for(var o=t.history,h,S=t.sel,w=r=="undo"?o.done:o.undone,D=r=="undo"?o.undone:o.done,R=0;R<w.length&&(h=w[R],!(l?h.ranges&&!h.equals(t.sel):!h.ranges));R++);if(R!=w.length){for(o.lastOrigin=o.lastSelOrigin=null;;)if(h=w.pop(),h.ranges){if(Nl(h,D),l&&!h.equals(t.sel)){di(t,h,{clearRedo:!1});return}S=h}else if(s){w.push(h);return}else break;var Y=[];Nl(S,D),D.push({changes:Y,generation:o.generation}),o.generation=h.generation||++o.maxGeneration;for(var V=Ii(t,"beforeChange")||t.cm&&Ii(t.cm,"beforeChange"),ae=function(Se){var Le=h.changes[Se];if(Le.origin=r,V&&!Ia(t,Le,!1))return w.length=0,{};Y.push(Fn(t,Le));var Ae=Se?Ma(t,Le):et(w);Sn(t,Le,Ae,Qe(t,Le)),!Se&&t.cm&&t.cm.scrollIntoView({from:Le.from,to:Pr(Le)});var Me=[];Ti(t,function(Re,ke){!ke&&Ne(Me,Re.history)==-1&&(ja(Re.history,Le),Me.push(Re.history)),Sn(Re,Le,null,Qe(Re,Le))})},re=h.changes.length-1;re>=0;--re){var pe=ae(re);if(pe)return pe.v}}}}function Ls(t,r){if(r!=0&&(t.first+=r,t.sel=new fi(nr(t.sel.ranges,function(o){return new lt(xe(o.anchor.line+r,o.anchor.ch),xe(o.head.line+r,o.head.ch))}),t.sel.primIndex),t.cm)){Wt(t.cm,t.first,t.first-r,r);for(var l=t.cm.display,s=l.viewFrom;s<l.viewTo;s++)br(t.cm,s,"gutter")}}function Sn(t,r,l,s){if(t.cm&&!t.cm.curOp)return zt(t.cm,Sn)(t,r,l,s);if(r.to.line<t.first){Ls(t,r.text.length-1-(r.to.line-r.from.line));return}if(!(r.from.line>t.lastLine())){if(r.from.line<t.first){var o=r.text.length-1-(t.first-r.from.line);Ls(t,o),r={from:xe(t.first,0),to:xe(r.to.line+o,r.to.ch),text:[et(r.text)],origin:r.origin}}var h=t.lastLine();r.to.line>h&&(r={from:r.from,to:xe(h,He(t,h).text.length),text:[r.text[0]],origin:r.origin}),r.removed=Mr(t,r.from,r.to),l||(l=Ma(t,r)),t.cm?uu(t.cm,r,s):Hl(t,r,s),Dt(t,l,vt),t.cantEdit&&za(t,xe(t.firstLine(),0))&&(t.cantEdit=!1)}}function uu(t,r,l){var s=t.doc,o=t.display,h=r.from,S=r.to,w=!1,D=h.line;t.options.lineWrapping||(D=ot(wi(He(s,h.line))),s.iter(D,S.line+1,function(re){if(re==o.maxLine)return w=!0,!0})),s.sel.contains(r.from,r.to)>-1&&yo(t),Hl(s,r,l,Vi(t)),t.options.lineWrapping||(s.iter(D,h.line+r.text.length,function(re){var pe=fa(re);pe>o.maxLineLength&&(o.maxLine=re,o.maxLineLength=pe,o.maxLineChanged=!0,w=!1)}),w&&(t.curOp.updateMaxLine=!0)),Oo(s,h.line),_n(t,400);var R=r.text.length-(S.line-h.line)-1;r.full?Wt(t):h.line==S.line&&r.text.length==1&&!ka(t.doc,r)?br(t,h.line,"text"):Wt(t,h.line,S.line+1,R);var Y=Ii(t,"changes"),V=Ii(t,"change");if(V||Y){var ae={from:h,to:S,text:r.text,removed:r.removed,origin:r.origin};V&&Xt(t,"change",t,ae),Y&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(ae)}t.display.selForContextMenu=null}function Hi(t,r,l,s,o){var h;s||(s=l),Ge(s,l)<0&&(h=[s,l],l=h[0],s=h[1]),typeof r=="string"&&(r=t.splitLines(r)),Qt(t,{from:l,to:s,text:r,origin:o})}function Pl(t,r,l,s){l<t.line?t.line+=s:r<t.line&&(t.line=r,t.ch=0)}function Fa(t,r,l,s){for(var o=0;o<t.length;++o){var h=t[o],S=!0;if(h.ranges){h.copied||(h=t[o]=h.deepCopy(),h.copied=!0);for(var w=0;w<h.ranges.length;w++)Pl(h.ranges[w].anchor,r,l,s),Pl(h.ranges[w].head,r,l,s);continue}for(var D=0;D<h.changes.length;++D){var R=h.changes[D];if(l<R.from.line)R.from=xe(R.from.line+s,R.from.ch),R.to=xe(R.to.line+s,R.to.ch);else if(r<=R.to.line){S=!1;break}}S||(t.splice(0,o+1),o=0)}}function ja(t,r){var l=r.from.line,s=r.to.line,o=r.text.length-(s-l)-1;Fa(t.done,l,s,o),Fa(t.undone,l,s,o)}function As(t,r,l,s){var o=r,h=r;return typeof r=="number"?h=He(t,nc(t,r)):o=ot(r),o==null?null:(s(h,o)&&t.cm&&br(t.cm,o,l),h)}function Ms(t){this.lines=t,this.parent=null;for(var r=0,l=0;l<t.length;++l)t[l].parent=this,r+=t[l].height;this.height=r}Ms.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,r){for(var l=t,s=t+r;l<s;++l){var o=this.lines[l];this.height-=o.height,hc(o),Xt(o,"delete")}this.lines.splice(t,r)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,r,l){this.height+=l,this.lines=this.lines.slice(0,t).concat(r).concat(this.lines.slice(t));for(var s=0;s<r.length;++s)r[s].parent=this},iterN:function(t,r,l){for(var s=t+r;t<s;++t)if(l(this.lines[t]))return!0}};function Rs(t){this.children=t;for(var r=0,l=0,s=0;s<t.length;++s){var o=t[s];r+=o.chunkSize(),l+=o.height,o.parent=this}this.size=r,this.height=l,this.parent=null}Rs.prototype={chunkSize:function(){return this.size},removeInner:function(t,r){this.size-=r;for(var l=0;l<this.children.length;++l){var s=this.children[l],o=s.chunkSize();if(t<o){var h=Math.min(r,o-t),S=s.height;if(s.removeInner(t,h),this.height-=S-s.height,o==h&&(this.children.splice(l--,1),s.parent=null),(r-=h)==0)break;t=0}else t-=o}if(this.size-r<25&&(this.children.length>1||!(this.children[0]instanceof Ms))){var w=[];this.collapse(w),this.children=[new Ms(w)],this.children[0].parent=this}},collapse:function(t){for(var r=0;r<this.children.length;++r)this.children[r].collapse(t)},insertInner:function(t,r,l){this.size+=r.length,this.height+=l;for(var s=0;s<this.children.length;++s){var o=this.children[s],h=o.chunkSize();if(t<=h){if(o.insertInner(t,r,l),o.lines&&o.lines.length>50){for(var S=o.lines.length%25+25,w=S;w<o.lines.length;){var D=new Ms(o.lines.slice(w,w+=25));o.height-=D.height,this.children.splice(++s,0,D),D.parent=this}o.lines=o.lines.slice(0,S),this.maybeSpill()}break}t-=h}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var r=t.children.splice(t.children.length-5,5),l=new Rs(r);if(t.parent){t.size-=l.size,t.height-=l.height;var o=Ne(t.parent.children,t);t.parent.children.splice(o+1,0,l)}else{var s=new Rs(t.children);s.parent=t,t.children=[s,l],t=s}l.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,r,l){for(var s=0;s<this.children.length;++s){var o=this.children[s],h=o.chunkSize();if(t<h){var S=Math.min(r,h-t);if(o.iterN(t,S,l))return!0;if((r-=S)==0)break;t=0}else t-=h}}};var ks=function(t,r,l){if(l)for(var s in l)l.hasOwnProperty(s)&&(this[s]=l[s]);this.doc=t,this.node=r};ks.prototype.clear=function(){var t=this.doc.cm,r=this.line.widgets,l=this.line,s=ot(l);if(!(s==null||!r)){for(var o=0;o<r.length;++o)r[o]==this&&r.splice(o--,1);r.length||(l.widgets=null);var h=cs(this);bi(l,Math.max(0,l.height-h)),t&&(kt(t,function(){cu(t,l,-h),br(t,s,"widget")}),Xt(t,"lineWidgetCleared",t,this,s))}},ks.prototype.changed=function(){var t=this,r=this.height,l=this.doc.cm,s=this.line;this.height=null;var o=cs(this)-r;o&&(an(this.doc,s)||bi(s,s.height+o),l&&kt(l,function(){l.curOp.forceUpdate=!0,cu(l,s,o),Xt(l,"lineWidgetChanged",l,t,ot(s))}))},en(ks);function cu(t,r,l){Hr(r)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Oi(t,l)}function Bc(t,r,l,s){var o=new ks(t,l,s),h=t.cm;return h&&o.noHScroll&&(h.display.alignWidgets=!0),As(t,r,"widget",function(S){var w=S.widgets||(S.widgets=[]);if(o.insertAt==null?w.push(o):w.splice(Math.min(w.length,Math.max(0,o.insertAt)),0,o),o.line=S,h&&!an(t,S)){var D=Hr(S)<t.scrollTop;bi(S,S.height+cs(o)),D&&Oi(h,o.height),h.curOp.forceUpdate=!0}return!0}),h&&Xt(h,"lineWidgetAdded",h,o,typeof r=="number"?r:ot(r)),o}var Wa=0,jr=function(t,r){this.lines=[],this.type=r,this.doc=t,this.id=++Wa};jr.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,r=t&&!t.curOp;if(r&&ur(t),Ii(this,"clear")){var l=this.find();l&&Xt(this,"clear",l.from,l.to)}for(var s=null,o=null,h=0;h<this.lines.length;++h){var S=this.lines[h],w=kr(S.markedSpans,this);t&&!this.collapsed?br(t,ot(S),"text"):t&&(w.to!=null&&(o=ot(S)),w.from!=null&&(s=ot(S))),S.markedSpans=Or(S.markedSpans,w),w.from==null&&this.collapsed&&!an(this.doc,S)&&t&&bi(S,gs(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var D=0;D<this.lines.length;++D){var R=wi(this.lines[D]),Y=fa(R);Y>t.display.maxLineLength&&(t.display.maxLine=R,t.display.maxLineLength=Y,t.display.maxLineChanged=!0)}s!=null&&t&&this.collapsed&&Wt(t,s,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Na(t.doc)),t&&Xt(t,"markerCleared",t,this,s,o),r&&cr(t),this.parent&&this.parent.clear()}},jr.prototype.find=function(t,r){t==null&&this.type=="bookmark"&&(t=1);for(var l,s,o=0;o<this.lines.length;++o){var h=this.lines[o],S=kr(h.markedSpans,this);if(S.from!=null&&(l=xe(r?h:ot(h),S.from),t==-1))return l;if(S.to!=null&&(s=xe(r?h:ot(h),S.to),t==1))return s}return l&&{from:l,to:s}},jr.prototype.changed=function(){var t=this,r=this.find(-1,!0),l=this,s=this.doc.cm;!r||!s||kt(s,function(){var o=r.line,h=ot(r.line),S=Xo(s,h);if(S&&(Zo(S),s.curOp.selectionChanged=s.curOp.forceUpdate=!0),s.curOp.updateMaxLine=!0,!an(l.doc,o)&&l.height!=null){var w=l.height;l.height=null;var D=cs(l)-w;D&&bi(o,o.height+D)}Xt(s,"markerChanged",s,t)})},jr.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var r=this.doc.cm.curOp;(!r.maybeHiddenMarkers||Ne(r.maybeHiddenMarkers,this)==-1)&&(r.maybeUnhiddenMarkers||(r.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},jr.prototype.detachLine=function(t){if(this.lines.splice(Ne(this.lines,t),1),!this.lines.length&&this.doc.cm){var r=this.doc.cm.curOp;(r.maybeHiddenMarkers||(r.maybeHiddenMarkers=[])).push(this)}},en(jr);function Os(t,r,l,s,o){if(s&&s.shared)return Hc(t,r,l,s,o);if(t.cm&&!t.cm.curOp)return zt(t.cm,Os)(t,r,l,s,o);var h=new jr(t,o),S=Ge(r,l);if(s&&oe(s,h,!1),S>0||S==0&&h.clearWhenEmpty!==!1)return h;if(h.replacedWith&&(h.collapsed=!0,h.widgetNode=K("span",[h.replacedWith],"CodeMirror-widget"),s.handleMouseEvents||h.widgetNode.setAttribute("cm-ignore-events","true"),s.insertLeft&&(h.widgetNode.insertLeft=!0)),h.collapsed){if(ca(t,r.line,r,l,h)||r.line!=l.line&&ca(t,l.line,r,l,h))throw new Error("Inserting collapsed marker partially overlapping an existing one");Bo()}h.addToHistory&&lu(t,{from:r,to:l,origin:"markText"},t.sel,NaN);var w=r.line,D=t.cm,R;if(t.iter(w,l.line+1,function(V){D&&h.collapsed&&!D.options.lineWrapping&&wi(V)==D.display.maxLine&&(R=!0),h.collapsed&&w!=r.line&&bi(V,0),Ho(V,new vl(h,w==r.line?r.ch:null,w==l.line?l.ch:null),t.cm&&t.cm.curOp),++w}),h.collapsed&&t.iter(r.line,l.line+1,function(V){an(t,V)&&bi(V,0)}),h.clearOnEnter&&je(h,"beforeCursorEnter",function(){return h.clear()}),h.readOnly&&(ac(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),h.collapsed&&(h.id=++Wa,h.atomic=!0),D){if(R&&(D.curOp.updateMaxLine=!0),h.collapsed)Wt(D,r.line,l.line+1);else if(h.className||h.startStyle||h.endStyle||h.css||h.attributes||h.title)for(var Y=r.line;Y<=l.line;Y++)br(D,Y,"text");h.atomic&&Na(D.doc),Xt(D,"markerAdded",D,h)}return h}var Bs=function(t,r){this.markers=t,this.primary=r;for(var l=0;l<t.length;++l)t[l].parent=this};Bs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Xt(this,"clear")}},Bs.prototype.find=function(t,r){return this.primary.find(t,r)},en(Bs);function Hc(t,r,l,s,o){s=oe(s),s.shared=!1;var h=[Os(t,r,l,s,o)],S=h[0],w=s.widgetNode;return Ti(t,function(D){w&&(s.widgetNode=w.cloneNode(!0)),h.push(Os(D,Pe(D,r),Pe(D,l),s,o));for(var R=0;R<D.linked.length;++R)if(D.linked[R].isParent)return;S=et(h)}),new Bs(h,S)}function hu(t){return t.findMarks(xe(t.first,0),t.clipPos(xe(t.lastLine())),function(r){return r.parent})}function fu(t,r){for(var l=0;l<r.length;l++){var s=r[l],o=s.find(),h=t.clipPos(o.from),S=t.clipPos(o.to);if(Ge(h,S)){var w=Os(t,h,S,s.primary,s.primary.type);s.markers.push(w),w.parent=s}}}function Nc(t){for(var r=function(s){var o=t[s],h=[o.primary.doc];Ti(o.primary.doc,function(D){return h.push(D)});for(var S=0;S<o.markers.length;S++){var w=o.markers[S];Ne(h,w.doc)==-1&&(w.parent=null,o.markers.splice(S--,1))}},l=0;l<t.length;l++)r(l)}var zc=0,_i=function(t,r,l,s,o){if(!(this instanceof _i))return new _i(t,r,l,s,o);l==null&&(l=0),Rs.call(this,[new Ms([new ls("",null)])]),this.first=l,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=l;var h=xe(l,0);this.sel=xr(h),this.history=new xs(null),this.id=++zc,this.modeOption=r,this.lineSep=s,this.direction=o=="rtl"?"rtl":"ltr",this.extend=!1,typeof t=="string"&&(t=this.splitLines(t)),Hl(this,{from:h,to:h,text:t}),di(this,xr(h),vt)};_i.prototype=Vr(Rs.prototype,{constructor:_i,iter:function(t,r,l){l?this.iterN(t-this.first,r-t,l):this.iterN(this.first,this.first+this.size,t)},insert:function(t,r){for(var l=0,s=0;s<r.length;++s)l+=r[s].height;this.insertInner(t-this.first,r,l)},remove:function(t,r){this.removeInner(t-this.first,r)},getValue:function(t){var r=sa(this,this.first,this.first+this.size);return t===!1?r:r.join(t||this.lineSeparator())},setValue:Rt(function(t){var r=xe(this.first,0),l=this.first+this.size-1;Qt(this,{from:r,to:xe(l,He(this,l).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&qi(this.cm,0,0),di(this,xr(r),vt)}),replaceRange:function(t,r,l,s){r=Pe(this,r),l=l?Pe(this,l):r,Hi(this,t,r,l,s)},getRange:function(t,r,l){var s=Mr(this,Pe(this,t),Pe(this,r));return l===!1?s:l===""?s.join(""):s.join(l||this.lineSeparator())},getLine:function(t){var r=this.getLineHandle(t);return r&&r.text},getLineHandle:function(t){if(hl(this,t))return He(this,t)},getLineNumber:function(t){return ot(t)},getLineHandleVisualStart:function(t){return typeof t=="number"&&(t=He(this,t)),wi(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return Pe(this,t)},getCursor:function(t){var r=this.sel.primary(),l;return t==null||t=="head"?l=r.head:t=="anchor"?l=r.anchor:t=="end"||t=="to"||t===!1?l=r.to():l=r.from(),l},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Rt(function(t,r,l){zl(this,Pe(this,typeof t=="number"?xe(t,r||0):t),null,l)}),setSelection:Rt(function(t,r,l){zl(this,Pe(this,t),Pe(this,r||t),l)}),extendSelection:Rt(function(t,r,l){jn(this,Pe(this,t),r&&Pe(this,r),l)}),extendSelections:Rt(function(t,r){Wn(this,Do(this,t),r)}),extendSelectionsBy:Rt(function(t,r){var l=nr(this.sel.ranges,t);Wn(this,Do(this,l),r)}),setSelections:Rt(function(t,r,l){if(t.length){for(var s=[],o=0;o<t.length;o++)s[o]=new lt(Pe(this,t[o].anchor),Pe(this,t[o].head||t[o].anchor));r==null&&(r=Math.min(t.length-1,this.sel.primIndex)),di(this,Bi(this.cm,s,r),l)}}),addSelection:Rt(function(t,r,l){var s=this.sel.ranges.slice(0);s.push(new lt(Pe(this,t),Pe(this,r||t))),di(this,Bi(this.cm,s,s.length-1),l)}),getSelection:function(t){for(var r=this.sel.ranges,l,s=0;s<r.length;s++){var o=Mr(this,r[s].from(),r[s].to());l=l?l.concat(o):o}return t===!1?l:l.join(t||this.lineSeparator())},getSelections:function(t){for(var r=[],l=this.sel.ranges,s=0;s<l.length;s++){var o=Mr(this,l[s].from(),l[s].to());t!==!1&&(o=o.join(t||this.lineSeparator())),r[s]=o}return r},replaceSelection:function(t,r,l){for(var s=[],o=0;o<this.sel.ranges.length;o++)s[o]=t;this.replaceSelections(s,r,l||"+input")},replaceSelections:Rt(function(t,r,l){for(var s=[],o=this.sel,h=0;h<o.ranges.length;h++){var S=o.ranges[h];s[h]={from:S.from(),to:S.to(),text:this.splitLines(t[h]),origin:l}}for(var w=r&&r!="end"&&kc(this,s,r),D=s.length-1;D>=0;D--)Qt(this,s[D]);w?qn(this,w):this.cm&&$i(this.cm)}),undo:Rt(function(){Ds(this,"undo")}),redo:Rt(function(){Ds(this,"redo")}),undoSelection:Rt(function(){Ds(this,"undo",!0)}),redoSelection:Rt(function(){Ds(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,r=0,l=0,s=0;s<t.done.length;s++)t.done[s].ranges||++r;for(var o=0;o<t.undone.length;o++)t.undone[o].ranges||++l;return{undo:r,redo:l}},clearHistory:function(){var t=this;this.history=new xs(this.history),Ti(this,function(r){return r.history=t.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:at(this.history.done),undone:at(this.history.undone)}},setHistory:function(t){var r=this.history=new xs(this.history);r.done=at(t.done.slice(0),null,!0),r.undone=at(t.undone.slice(0),null,!0)},setGutterMarker:Rt(function(t,r,l){return As(this,t,"gutter",function(s){var o=s.gutterMarkers||(s.gutterMarkers={});return o[r]=l,!l&&ti(o)&&(s.gutterMarkers=null),!0})}),clearGutter:Rt(function(t){var r=this;this.iter(function(l){l.gutterMarkers&&l.gutterMarkers[t]&&As(r,l,"gutter",function(){return l.gutterMarkers[t]=null,ti(l.gutterMarkers)&&(l.gutterMarkers=null),!0})})}),lineInfo:function(t){var r;if(typeof t=="number"){if(!hl(this,t)||(r=t,t=He(this,t),!t))return null}else if(r=ot(t),r==null)return null;return{line:r,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:Rt(function(t,r,l){return As(this,t,r=="gutter"?"gutter":"class",function(s){var o=r=="text"?"textClass":r=="background"?"bgClass":r=="gutter"?"gutterClass":"wrapClass";if(!s[o])s[o]=l;else{if(te(l).test(s[o]))return!1;s[o]+=" "+l}return!0})}),removeLineClass:Rt(function(t,r,l){return As(this,t,r=="gutter"?"gutter":"class",function(s){var o=r=="text"?"textClass":r=="background"?"bgClass":r=="gutter"?"gutterClass":"wrapClass",h=s[o];if(h)if(l==null)s[o]=null;else{var S=h.match(te(l));if(!S)return!1;var w=S.index+S[0].length;s[o]=h.slice(0,S.index)+(!S.index||w==h.length?"":" ")+h.slice(w)||null}else return!1;return!0})}),addLineWidget:Rt(function(t,r,l){return Bc(this,t,r,l)}),removeLineWidget:function(t){t.clear()},markText:function(t,r,l){return Os(this,Pe(this,t),Pe(this,r),l,l&&l.type||"range")},setBookmark:function(t,r){var l={replacedWith:r&&(r.nodeType==null?r.widget:r),insertLeft:r&&r.insertLeft,clearWhenEmpty:!1,shared:r&&r.shared,handleMouseEvents:r&&r.handleMouseEvents};return t=Pe(this,t),Os(this,t,t,l,"bookmark")},findMarksAt:function(t){t=Pe(this,t);var r=[],l=He(this,t.line).markedSpans;if(l)for(var s=0;s<l.length;++s){var o=l[s];(o.from==null||o.from<=t.ch)&&(o.to==null||o.to>=t.ch)&&r.push(o.marker.parent||o.marker)}return r},findMarks:function(t,r,l){t=Pe(this,t),r=Pe(this,r);var s=[],o=t.line;return this.iter(t.line,r.line+1,function(h){var S=h.markedSpans;if(S)for(var w=0;w<S.length;w++){var D=S[w];!(D.to!=null&&o==t.line&&t.ch>=D.to||D.from==null&&o!=t.line||D.from!=null&&o==r.line&&D.from>=r.ch)&&(!l||l(D.marker))&&s.push(D.marker.parent||D.marker)}++o}),s},getAllMarks:function(){var t=[];return this.iter(function(r){var l=r.markedSpans;if(l)for(var s=0;s<l.length;++s)l[s].from!=null&&t.push(l[s].marker)}),t},posFromIndex:function(t){var r,l=this.first,s=this.lineSeparator().length;return this.iter(function(o){var h=o.text.length+s;if(h>t)return r=t,!0;t-=h,++l}),Pe(this,xe(l,r))},indexFromPos:function(t){t=Pe(this,t);var r=t.ch;if(t.line<this.first||t.ch<0)return 0;var l=this.lineSeparator().length;return this.iter(this.first,t.line,function(s){r+=s.text.length+l}),r},copy:function(t){var r=new _i(sa(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return r.scrollTop=this.scrollTop,r.scrollLeft=this.scrollLeft,r.sel=this.sel,r.extend=!1,t&&(r.history.undoDepth=this.history.undoDepth,r.setHistory(this.getHistory())),r},linkedDoc:function(t){t||(t={});var r=this.first,l=this.first+this.size;t.from!=null&&t.from>r&&(r=t.from),t.to!=null&&t.to<l&&(l=t.to);var s=new _i(sa(this,r,l),t.mode||this.modeOption,r,this.lineSep,this.direction);return t.sharedHist&&(s.history=this.history),(this.linked||(this.linked=[])).push({doc:s,sharedHist:t.sharedHist}),s.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],fu(s,hu(this)),s},unlinkDoc:function(t){if(t instanceof bt&&(t=t.doc),this.linked)for(var r=0;r<this.linked.length;++r){var l=this.linked[r];if(l.doc==t){this.linked.splice(r,1),t.unlinkDoc(this),Nc(hu(this));break}}if(t.history==this.history){var s=[t.id];Ti(t,function(o){return s.push(o.id)},!0),t.history=new xs(null),t.history.done=at(this.history.done,s),t.history.undone=at(this.history.undone,s)}},iterLinkedDocs:function(t){Ti(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Ln(t)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Rt(function(t){t!="rtl"&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(r){return r.order=null}),this.cm&&su(this.cm))})}),_i.prototype.eachLine=_i.prototype.iter;var du=0;function Uc(t){var r=this;if(Kn(r),!(Yt(r,t)||Fi(r.display,t))){ci(t),_&&(du=+new Date);var l=ri(r,t,!0),s=t.dataTransfer.files;if(!(!l||r.isReadOnly()))if(s&&s.length&&window.FileReader&&window.File)for(var o=s.length,h=Array(o),S=0,w=function(){++S==o&&zt(r,function(){l=Pe(r.doc,l);var re={from:l,to:l,text:r.doc.splitLines(h.filter(function(pe){return pe!=null}).join(r.doc.lineSeparator())),origin:"paste"};Qt(r.doc,re),qn(r.doc,xr(Pe(r.doc,l),Pe(r.doc,Pr(re))))})()},D=function(re,pe){if(r.options.allowDropFileTypes&&Ne(r.options.allowDropFileTypes,re.type)==-1){w();return}var Se=new FileReader;Se.onerror=function(){return w()},Se.onload=function(){var Le=Se.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Le)){w();return}h[pe]=Le,w()},Se.readAsText(re)},R=0;R<s.length;R++)D(s[R],R);else{if(r.state.draggingText&&r.doc.sel.contains(l)>-1){r.state.draggingText(t),setTimeout(function(){return r.display.input.focus()},20);return}try{var Y=t.dataTransfer.getData("Text");if(Y){var V;if(r.state.draggingText&&!r.state.draggingText.copy&&(V=r.listSelections()),Dt(r.doc,xr(l,l)),V)for(var ae=0;ae<V.length;++ae)Hi(r.doc,"",V[ae].anchor,V[ae].head,"drag");r.replaceSelection(Y,"around","paste"),r.display.input.focus()}}catch{}}}}function tf(t,r){if(_&&(!t.state.draggingText||+new Date-du<100)){Zi(r);return}if(!(Yt(t,r)||Fi(t.display,r))&&(r.dataTransfer.setData("Text",t.getSelection()),r.dataTransfer.effectAllowed="copyMove",r.dataTransfer.setDragImage&&!A)){var l=ue("img",null,null,"position: fixed; left: 0; top: 0;");l.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",k&&(l.width=l.height=1,t.display.wrapper.appendChild(l),l._top=l.offsetTop),r.dataTransfer.setDragImage(l,0,0),k&&l.parentNode.removeChild(l)}}function Pc(t,r){var l=ri(t,r);if(l){var s=document.createDocumentFragment();vn(t,l,s),t.display.dragCursor||(t.display.dragCursor=ue("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),_e(t.display.dragCursor,s)}}function Kn(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Il(t){if(document.getElementsByClassName){for(var r=document.getElementsByClassName("CodeMirror"),l=[],s=0;s<r.length;s++){var o=r[s].CodeMirror;o&&l.push(o)}l.length&&l[0].operation(function(){for(var h=0;h<l.length;h++)t(l[h])})}}var vu=!1;function qa(){vu||(Fl(),vu=!0)}function Fl(){var t;je(window,"resize",function(){t==null&&(t=setTimeout(function(){t=null,Il(Ic)},100))}),je(window,"blur",function(){return Il(Ji)})}function Ic(t){var r=t.display;r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.scrollbarsClipped=!1,t.setSize()}for(var Wr={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Hs=0;Hs<10;Hs++)Wr[Hs+48]=Wr[Hs+96]=String(Hs);for(var jl=65;jl<=90;jl++)Wr[jl]=String.fromCharCode(jl);for(var Ns=1;Ns<=12;Ns++)Wr[Ns+111]=Wr[Ns+63235]="F"+Ns;var Er={};Er.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Er.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Er.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Er.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Er.default=x?Er.macDefault:Er.pcDefault;function pu(t){var r=t.split(/-(?!$)/);t=r[r.length-1];for(var l,s,o,h,S=0;S<r.length-1;S++){var w=r[S];if(/^(cmd|meta|m)$/i.test(w))h=!0;else if(/^a(lt)?$/i.test(w))l=!0;else if(/^(c|ctrl|control)$/i.test(w))s=!0;else if(/^s(hift)?$/i.test(w))o=!0;else throw new Error("Unrecognized modifier name: "+w)}return l&&(t="Alt-"+t),s&&(t="Ctrl-"+t),h&&(t="Cmd-"+t),o&&(t="Shift-"+t),t}function Fc(t){var r={};for(var l in t)if(t.hasOwnProperty(l)){var s=t[l];if(/^(name|fallthrough|(de|at)tach)$/.test(l))continue;if(s=="..."){delete t[l];continue}for(var o=nr(l.split(" "),pu),h=0;h<o.length;h++){var S=void 0,w=void 0;h==o.length-1?(w=o.join(" "),S=s):(w=o.slice(0,h+1).join(" "),S="...");var D=r[w];if(!D)r[w]=S;else if(D!=S)throw new Error("Inconsistent bindings for "+w)}delete t[l]}for(var R in r)t[R]=r[R];return t}function Yn(t,r,l,s){r=Ka(r);var o=r.call?r.call(t,s):r[t];if(o===!1)return"nothing";if(o==="...")return"multi";if(o!=null&&l(o))return"handled";if(r.fallthrough){if(Object.prototype.toString.call(r.fallthrough)!="[object Array]")return Yn(t,r.fallthrough,l,s);for(var h=0;h<r.fallthrough.length;h++){var S=Yn(t,r.fallthrough[h],l,s);if(S)return S}}}function Ga(t){var r=typeof t=="string"?t:Wr[t.keyCode];return r=="Ctrl"||r=="Alt"||r=="Shift"||r=="Mod"}function gu(t,r,l){var s=t;return r.altKey&&s!="Alt"&&(t="Alt-"+t),(N?r.metaKey:r.ctrlKey)&&s!="Ctrl"&&(t="Ctrl-"+t),(N?r.ctrlKey:r.metaKey)&&s!="Mod"&&(t="Cmd-"+t),!l&&r.shiftKey&&s!="Shift"&&(t="Shift-"+t),t}function _u(t,r){if(k&&t.keyCode==34&&t.char)return!1;var l=Wr[t.keyCode];return l==null||t.altGraphKey?!1:(t.keyCode==3&&t.code&&(l=t.code),gu(l,t,r))}function Ka(t){return typeof t=="string"?Er[t]:t}function bn(t,r){for(var l=t.doc.sel.ranges,s=[],o=0;o<l.length;o++){for(var h=r(l[o]);s.length&&Ge(h.from,et(s).to)<=0;){var S=s.pop();if(Ge(S.from,h.from)<0){h.from=S.from;break}}s.push(h)}kt(t,function(){for(var w=s.length-1;w>=0;w--)Hi(t.doc,"",s[w].from,s[w].to,"+delete");$i(t)})}function Ya(t,r,l){var s=Jr(t.text,r+l,l);return s<0||s>t.text.length?null:s}function Xa(t,r,l){var s=Ya(t,r.ch,l);return s==null?null:new xe(r.line,s,l<0?"after":"before")}function Wl(t,r,l,s,o){if(t){r.doc.direction=="rtl"&&(o=-o);var h=Pi(l,r.doc.direction);if(h){var S=o<0?et(h):h[0],w=o<0==(S.level==1),D=w?"after":"before",R;if(S.level>0||r.doc.direction=="rtl"){var Y=hs(r,l);R=o<0?l.text.length-1:0;var V=Sr(r,Y,R).top;R=gt(function(ae){return Sr(r,Y,ae).top==V},o<0==(S.level==1)?S.from:S.to-1,R),D=="before"&&(R=Ya(l,R,1))}else R=o<0?S.to:S.from;return new xe(s,R,D)}}return new xe(s,o<0?l.text.length:0,o<0?"before":"after")}function jc(t,r,l,s){var o=Pi(r,t.doc.direction);if(!o)return Xa(r,l,s);l.ch>=r.text.length?(l.ch=r.text.length,l.sticky="before"):l.ch<=0&&(l.ch=0,l.sticky="after");var h=sr(o,l.ch,l.sticky),S=o[h];if(t.doc.direction=="ltr"&&S.level%2==0&&(s>0?S.to>l.ch:S.from<l.ch))return Xa(r,l,s);var w=function(Ae,Me){return Ya(r,Ae instanceof xe?Ae.ch:Ae,Me)},D,R=function(Ae){return t.options.lineWrapping?(D=D||hs(t,r),dn(t,r,D,Ae)):{begin:0,end:r.text.length}},Y=R(l.sticky=="before"?w(l,-1):l.ch);if(t.doc.direction=="rtl"||S.level==1){var V=S.level==1==s<0,ae=w(l,V?1:-1);if(ae!=null&&(V?ae<=S.to&&ae<=Y.end:ae>=S.from&&ae>=Y.begin)){var re=V?"before":"after";return new xe(l.line,ae,re)}}var pe=function(Ae,Me,Re){for(var ke=function(dt,Gt){return Gt?new xe(l.line,w(dt,1),"before"):new xe(l.line,dt,"after")};Ae>=0&&Ae<o.length;Ae+=Me){var Ie=o[Ae],ze=Me>0==(Ie.level!=1),Ze=ze?Re.begin:w(Re.end,-1);if(Ie.from<=Ze&&Ze<Ie.to||(Ze=ze?Ie.from:w(Ie.to,-1),Re.begin<=Ze&&Ze<Re.end))return ke(Ze,ze)}},Se=pe(h+s,s,Y);if(Se)return Se;var Le=s>0?Y.end:w(Y.begin,-1);return Le!=null&&!(s>0&&Le==r.text.length)&&(Se=pe(s>0?0:o.length-1,s,R(Le)),Se)?Se:null}var zs={selectAll:Pa,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),vt)},killLine:function(t){return bn(t,function(r){if(r.empty()){var l=He(t.doc,r.head.line).text.length;return r.head.ch==l&&r.head.line<t.lastLine()?{from:r.head,to:xe(r.head.line+1,0)}:{from:r.head,to:xe(r.head.line,l)}}else return{from:r.from(),to:r.to()}})},deleteLine:function(t){return bn(t,function(r){return{from:xe(r.from().line,0),to:Pe(t.doc,xe(r.to().line+1,0))}})},delLineLeft:function(t){return bn(t,function(r){return{from:xe(r.from().line,0),to:r.from()}})},delWrappedLineLeft:function(t){return bn(t,function(r){var l=t.charCoords(r.head,"div").top+5,s=t.coordsChar({left:0,top:l},"div");return{from:s,to:r.from()}})},delWrappedLineRight:function(t){return bn(t,function(r){var l=t.charCoords(r.head,"div").top+5,s=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:l},"div");return{from:r.from(),to:s}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(xe(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(xe(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(r){return Wc(t,r.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(r){return mu(t,r.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(r){return rf(t,r.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(r){var l=t.cursorCoords(r.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:l},"div")},Ki)},goLineLeft:function(t){return t.extendSelectionsBy(function(r){var l=t.cursorCoords(r.head,"div").top+5;return t.coordsChar({left:0,top:l},"div")},Ki)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(r){var l=t.cursorCoords(r.head,"div").top+5,s=t.coordsChar({left:0,top:l},"div");return s.ch<t.getLine(s.line).search(/\S/)?mu(t,r.head):s},Ki)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("	")},insertSoftTab:function(t){for(var r=[],l=t.listSelections(),s=t.options.tabSize,o=0;o<l.length;o++){var h=l[o].from(),S=me(t.getLine(h.line),h.ch,s);r.push(Qr(s-S%s))}t.replaceSelections(r)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return kt(t,function(){for(var r=t.listSelections(),l=[],s=0;s<r.length;s++)if(r[s].empty()){var o=r[s].head,h=He(t.doc,o.line).text;if(h){if(o.ch==h.length&&(o=new xe(o.line,o.ch-1)),o.ch>0)o=new xe(o.line,o.ch+1),t.replaceRange(h.charAt(o.ch-1)+h.charAt(o.ch-2),xe(o.line,o.ch-2),o,"+transpose");else if(o.line>t.doc.first){var S=He(t.doc,o.line-1).text;S&&(o=new xe(o.line,1),t.replaceRange(h.charAt(0)+t.doc.lineSeparator()+S.charAt(S.length-1),xe(o.line-1,S.length-1),o,"+transpose"))}}l.push(new lt(o,o))}t.setSelections(l)})},newlineAndIndent:function(t){return kt(t,function(){for(var r=t.listSelections(),l=r.length-1;l>=0;l--)t.replaceRange(t.doc.lineSeparator(),r[l].anchor,r[l].head,"+input");r=t.listSelections();for(var s=0;s<r.length;s++)t.indentLine(r[s].from().line,null,!0);$i(t)})},openLine:function(t){return t.replaceSelection(`
`,"start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function Wc(t,r){var l=He(t.doc,r),s=wi(l);return s!=l&&(r=ot(s)),Wl(!0,t,s,r,1)}function rf(t,r){var l=He(t.doc,r),s=ha(l);return s!=l&&(r=ot(s)),Wl(!0,t,l,r,-1)}function mu(t,r){var l=Wc(t,r.line),s=He(t.doc,l.line),o=Pi(s,t.doc.direction);if(!o||o[0].level==0){var h=Math.max(l.ch,s.text.search(/\S/)),S=r.line==l.line&&r.ch<=h&&r.ch;return xe(l.line,S?0:h,l.sticky)}return l}function Cn(t,r,l){if(typeof r=="string"&&(r=zs[r],!r))return!1;t.display.input.ensurePolled();var s=t.display.shift,o=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),l&&(t.display.shift=!1),o=r(t)!=$e}finally{t.display.shift=s,t.state.suppressEdits=!1}return o}function yu(t,r,l){for(var s=0;s<t.state.keyMaps.length;s++){var o=Yn(r,t.state.keyMaps[s],l,t);if(o)return o}return t.options.extraKeys&&Yn(r,t.options.extraKeys,l,t)||Yn(r,t.options.keyMap,l,t)}var Za=new ye;function Us(t,r,l,s){var o=t.state.keySeq;if(o){if(Ga(r))return"handled";if(/\'$/.test(r)?t.state.keySeq=null:Za.set(50,function(){t.state.keySeq==o&&(t.state.keySeq=null,t.display.input.reset())}),Su(t,o+" "+r,l,s))return!0}return Su(t,r,l,s)}function Su(t,r,l,s){var o=yu(t,r,s);return o=="multi"&&(t.state.keySeq=r),o=="handled"&&Xt(t,"keyHandled",t,r,l),(o=="handled"||o=="multi")&&(ci(l),Rl(t)),!!o}function ql(t,r){var l=_u(r,!0);return l?r.shiftKey&&!t.state.keySeq?Us(t,"Shift-"+l,r,function(s){return Cn(t,s,!0)})||Us(t,l,r,function(s){if(typeof s=="string"?/^go[A-Z]/.test(s):s.motion)return Cn(t,s)}):Us(t,l,r,function(s){return Cn(t,s)}):!1}function qc(t,r,l){return Us(t,"'"+l+"'",r,function(s){return Cn(t,s,!0)})}var Qa=null;function Gc(t){var r=this;if(!(t.target&&t.target!=r.display.input.getField())&&(r.curOp.focus=q(we(r)),!Yt(r,t))){_&&m<11&&t.keyCode==27&&(t.returnValue=!1);var l=t.keyCode;r.display.shift=l==16||t.shiftKey;var s=ql(r,t);k&&(Qa=s?l:null,!s&&l==88&&!ts&&(x?t.metaKey:t.ctrlKey)&&r.replaceSelection("",null,"cut")),Z&&!x&&!s&&l==46&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),l==18&&!/\bCodeMirror-crosshair\b/.test(r.display.lineDiv.className)&&Ps(r)}}function Ps(t){var r=t.display.lineDiv;O(r,"CodeMirror-crosshair");function l(s){(s.keyCode==18||!s.altKey)&&(X(r,"CodeMirror-crosshair"),yi(document,"keyup",l),yi(document,"mouseover",l))}je(document,"keyup",l),je(document,"mouseover",l)}function Is(t){t.keyCode==16&&(this.doc.sel.shift=!1),Yt(this,t)}function Gl(t){var r=this;if(!(t.target&&t.target!=r.display.input.getField())&&!(Fi(r.display,t)||Yt(r,t)||t.ctrlKey&&!t.altKey||x&&t.metaKey)){var l=t.keyCode,s=t.charCode;if(k&&l==Qa){Qa=null,ci(t);return}if(!(k&&(!t.which||t.which<10)&&ql(r,t))){var o=String.fromCharCode(s??l);o!="\b"&&(qc(r,t,o)||r.display.input.onKeyPress(t))}}}var Kl=400,Fs=function(t,r,l){this.time=t,this.pos=r,this.button=l};Fs.prototype.compare=function(t,r,l){return this.time+Kl>t&&Ge(r,this.pos)==0&&l==this.button};var js,Ws;function qs(t,r){var l=+new Date;return Ws&&Ws.compare(l,t,r)?(js=Ws=null,"triple"):js&&js.compare(l,t,r)?(Ws=new Fs(l,t,r),js=null,"double"):(js=new Fs(l,t,r),Ws=null,"single")}function bu(t){var r=this,l=r.display;if(!(Yt(r,t)||l.activeTouch&&l.input.supportsTouch())){if(l.input.ensurePolled(),l.shift=t.shiftKey,Fi(l,t)){b||(l.scroller.draggable=!1,setTimeout(function(){return l.scroller.draggable=!0},100));return}if(!Xl(r,t)){var s=ri(r,t),o=Si(t),h=s?qs(s,o):"single";Be(r).focus(),o==1&&r.state.selectingText&&r.state.selectingText(t),!(s&&tr(r,o,s,h,t))&&(o==1?s?wn(r,s,h,t):ii(t)==l.scroller&&ci(t):o==2?(s&&jn(r.doc,s),setTimeout(function(){return l.input.focus()},20)):o==3&&(Q?r.display.input.onContextMenu(t):Sa(r)))}}}function tr(t,r,l,s,o){var h="Click";return s=="double"?h="Double"+h:s=="triple"&&(h="Triple"+h),h=(r==1?"Left":r==2?"Middle":"Right")+h,Us(t,gu(h,o),o,function(S){if(typeof S=="string"&&(S=zs[S]),!S)return!1;var w=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),w=S(t,l)!=$e}finally{t.state.suppressEdits=!1}return w})}function Tr(t,r,l){var s=t.getOption("configureMouse"),o=s?s(t,r,l):{};if(o.unit==null){var h=H?l.shiftKey&&l.metaKey:l.altKey;o.unit=h?"rectangle":r=="single"?"char":r=="double"?"word":"line"}return(o.extend==null||t.doc.extend)&&(o.extend=t.doc.extend||l.shiftKey),o.addNew==null&&(o.addNew=x?l.metaKey:l.ctrlKey),o.moveOnDrag==null&&(o.moveOnDrag=!(x?l.altKey:l.ctrlKey)),o}function wn(t,r,l,s){_?setTimeout(j(Cr,t),0):t.curOp.focus=q(we(t));var o=Tr(t,l,s),h=t.doc.sel,S;t.options.dragDrop&&es&&!t.isReadOnly()&&l=="single"&&(S=h.contains(r))>-1&&(Ge((S=h.ranges[S]).from(),r)<0||r.xRel>0)&&(Ge(S.to(),r)>0||r.xRel<0)?Kc(t,s,r,o):Gr(t,s,r,o)}function Kc(t,r,l,s){var o=t.display,h=!1,S=zt(t,function(R){b&&(o.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:Sa(t)),yi(o.wrapper.ownerDocument,"mouseup",S),yi(o.wrapper.ownerDocument,"mousemove",w),yi(o.scroller,"dragstart",D),yi(o.scroller,"drop",S),h||(ci(R),s.addNew||jn(t.doc,l,null,null,s.extend),b&&!A||_&&m==9?setTimeout(function(){o.wrapper.ownerDocument.body.focus({preventScroll:!0}),o.input.focus()},20):o.input.focus())}),w=function(R){h=h||Math.abs(r.clientX-R.clientX)+Math.abs(r.clientY-R.clientY)>=10},D=function(){return h=!0};b&&(o.scroller.draggable=!0),t.state.draggingText=S,S.copy=!s.moveOnDrag,je(o.wrapper.ownerDocument,"mouseup",S),je(o.wrapper.ownerDocument,"mousemove",w),je(o.scroller,"dragstart",D),je(o.scroller,"drop",S),t.state.delayingBlurEvent=!0,setTimeout(function(){return o.input.focus()},20),o.scroller.dragDrop&&o.scroller.dragDrop()}function qr(t,r,l){if(l=="char")return new lt(r,r);if(l=="word")return t.findWordAt(r);if(l=="line")return new lt(xe(r.line,0),Pe(t.doc,xe(r.line+1,0)));var s=l(t,r);return new lt(s.from,s.to)}function Gr(t,r,l,s){_&&Sa(t);var o=t.display,h=t.doc;ci(r);var S,w,D=h.sel,R=D.ranges;if(s.addNew&&!s.extend?(w=h.sel.contains(l),w>-1?S=R[w]:S=new lt(l,l)):(S=h.sel.primary(),w=h.sel.primIndex),s.unit=="rectangle")s.addNew||(S=new lt(l,l)),l=ri(t,r,!0,!0),w=-1;else{var Y=qr(t,l,s.unit);s.extend?S=Ot(S,Y.anchor,Y.head,s.extend):S=Y}s.addNew?w==-1?(w=R.length,di(h,Bi(t,R.concat([S]),w),{scroll:!1,origin:"*mouse"})):R.length>1&&R[w].empty()&&s.unit=="char"&&!s.extend?(di(h,Bi(t,R.slice(0,w).concat(R.slice(w+1)),0),{scroll:!1,origin:"*mouse"}),D=h.sel):Fr(h,w,S,ei):(w=0,di(h,new fi([S],0),ei),D=h.sel);var V=l;function ae(Re){if(Ge(V,Re)!=0)if(V=Re,s.unit=="rectangle"){for(var ke=[],Ie=t.options.tabSize,ze=me(He(h,l.line).text,l.ch,Ie),Ze=me(He(h,Re.line).text,Re.ch,Ie),dt=Math.min(ze,Ze),Gt=Math.max(ze,Ze),ut=Math.min(l.line,Re.line),nt=Math.min(t.lastLine(),Math.max(l.line,Re.line));ut<=nt;ut++){var vi=He(h,ut).text,Bt=We(vi,dt,Ie);dt==Gt?ke.push(new lt(xe(ut,Bt),xe(ut,Bt))):vi.length>Bt&&ke.push(new lt(xe(ut,Bt),xe(ut,We(vi,Gt,Ie))))}ke.length||ke.push(new lt(l,l)),di(h,Bi(t,D.ranges.slice(0,w).concat(ke),w),{origin:"*mouse",scroll:!1}),t.scrollIntoView(Re)}else{var ct=S,ai=qr(t,Re,s.unit),It=ct.anchor,Ht;Ge(ai.anchor,It)>0?(Ht=ai.head,It=An(ct.from(),ai.anchor)):(Ht=ai.anchor,It=fl(ct.to(),ai.head));var Ye=D.ranges.slice(0);Ye[w]=Vt(t,new lt(Pe(h,It),Ht)),di(h,Bi(t,Ye,w),ei)}}var re=o.wrapper.getBoundingClientRect(),pe=0;function Se(Re){var ke=++pe,Ie=ri(t,Re,!0,s.unit=="rectangle");if(Ie)if(Ge(Ie,V)!=0){t.curOp.focus=q(we(t)),ae(Ie);var ze=Nr(o,h);(Ie.line>=ze.to||Ie.line<ze.from)&&setTimeout(zt(t,function(){pe==ke&&Se(Re)}),150)}else{var Ze=Re.clientY<re.top?-20:Re.clientY>re.bottom?20:0;Ze&&setTimeout(zt(t,function(){pe==ke&&(o.scroller.scrollTop+=Ze,Se(Re))}),50)}}function Le(Re){t.state.selectingText=!1,pe=1/0,Re&&(ci(Re),o.input.focus()),yi(o.wrapper.ownerDocument,"mousemove",Ae),yi(o.wrapper.ownerDocument,"mouseup",Me),h.history.lastSelOrigin=null}var Ae=zt(t,function(Re){Re.buttons===0||!Si(Re)?Le(Re):Se(Re)}),Me=zt(t,Le);t.state.selectingText=Me,je(o.wrapper.ownerDocument,"mousemove",Ae),je(o.wrapper.ownerDocument,"mouseup",Me)}function Vt(t,r){var l=r.anchor,s=r.head,o=He(t.doc,l.line);if(Ge(l,s)==0&&l.sticky==s.sticky)return r;var h=Pi(o);if(!h)return r;var S=sr(h,l.ch,l.sticky),w=h[S];if(w.from!=l.ch&&w.to!=l.ch)return r;var D=S+(w.from==l.ch==(w.level!=1)?0:1);if(D==0||D==h.length)return r;var R;if(s.line!=l.line)R=(s.line-l.line)*(t.doc.direction=="ltr"?1:-1)>0;else{var Y=sr(h,s.ch,s.sticky),V=Y-S||(s.ch-l.ch)*(w.level==1?-1:1);Y==D-1||Y==D?R=V<0:R=V>0}var ae=h[D+(R?-1:0)],re=R==(ae.level==1),pe=re?ae.from:ae.to,Se=re?"after":"before";return l.ch==pe&&l.sticky==Se?r:new lt(new xe(l.line,pe,Se),s)}function Yl(t,r,l,s){var o,h;if(r.touches)o=r.touches[0].clientX,h=r.touches[0].clientY;else try{o=r.clientX,h=r.clientY}catch{return!1}if(o>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;s&&ci(r);var S=t.display,w=S.lineDiv.getBoundingClientRect();if(h>w.bottom||!Ii(t,l))return bo(r);h-=w.top-S.viewOffset;for(var D=0;D<t.display.gutterSpecs.length;++D){var R=S.gutters.childNodes[D];if(R&&R.getBoundingClientRect().right>=o){var Y=Rr(t.doc,h),V=t.display.gutterSpecs[D];return xt(t,l,t,Y,V.className,r),bo(r)}}}function Xl(t,r){return Yl(t,r,"gutterClick",!0)}function Va(t,r){Fi(t.display,r)||Yc(t,r)||Yt(t,r,"contextmenu")||Q||t.display.input.onContextMenu(r)}function Yc(t,r){return Ii(t,"gutterContextMenu")?Yl(t,r,"gutterContextMenu",!1):!1}function Cu(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),fs(t)}var ir={toString:function(){return"CodeMirror.Init"}},Zl={},Ql={};function Xc(t){var r=t.optionHandlers;function l(s,o,h,S){t.defaults[s]=o,h&&(r[s]=S?function(w,D,R){R!=ir&&h(w,D,R)}:h)}t.defineOption=l,t.Init=ir,l("value","",function(s,o){return s.setValue(o)},!0),l("mode",null,function(s,o){s.doc.modeOption=o,Ra(s)},!0),l("indentUnit",2,Ra,!0),l("indentWithTabs",!1),l("smartIndent",!0),l("tabSize",4,function(s){er(s),fs(s),Wt(s)},!0),l("lineSeparator",null,function(s,o){if(s.doc.lineSep=o,!!o){var h=[],S=s.doc.first;s.doc.iter(function(D){for(var R=0;;){var Y=D.text.indexOf(o,R);if(Y==-1)break;R=Y+o.length,h.push(xe(S,Y))}S++});for(var w=h.length-1;w>=0;w--)Hi(s.doc,o,h[w],xe(h[w].line,h[w].ch+o.length))}}),l("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(s,o,h){s.state.specialChars=new RegExp(o.source+(o.test("	")?"":"|	"),"g"),h!=ir&&s.refresh()}),l("specialCharPlaceholder",Po,function(s){return s.refresh()},!0),l("electricChars",!0),l("inputStyle",C?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),l("spellcheck",!1,function(s,o){return s.getInputField().spellcheck=o},!0),l("autocorrect",!1,function(s,o){return s.getInputField().autocorrect=o},!0),l("autocapitalize",!1,function(s,o){return s.getInputField().autocapitalize=o},!0),l("rtlMoveVisually",!U),l("wholeLineUpdateBefore",!0),l("theme","default",function(s){Cu(s),bs(s)},!0),l("keyMap","default",function(s,o,h){var S=Ka(o),w=h!=ir&&Ka(h);w&&w.detach&&w.detach(s,S),S.attach&&S.attach(s,w||null)}),l("extraKeys",null),l("configureMouse",null),l("lineWrapping",!1,Ja,!0),l("gutters",[],function(s,o){s.display.gutterSpecs=mn(o,s.options.lineNumbers),bs(s)},!0),l("fixedGutter",!0,function(s,o){s.display.gutters.style.left=o?Al(s.display)+"px":"0",s.refresh()},!0),l("coverGutterNextToScrollbar",!1,function(s){return xi(s)},!0),l("scrollbarStyle","native",function(s){eu(s),xi(s),s.display.scrollbars.setScrollTop(s.doc.scrollTop),s.display.scrollbars.setScrollLeft(s.doc.scrollLeft)},!0),l("lineNumbers",!1,function(s,o){s.display.gutterSpecs=mn(s.options.gutters,o),bs(s)},!0),l("firstLineNumber",1,bs,!0),l("lineNumberFormatter",function(s){return s},bs,!0),l("showCursorWhenSelecting",!1,_s,!0),l("resetSelectionOnContextMenu",!0),l("lineWiseCopyCut",!0),l("pasteLinesPerSelection",!0),l("selectionsMayTouch",!1),l("readOnly",!1,function(s,o){o=="nocursor"&&(Ji(s),s.display.input.blur()),s.display.input.readOnlyChanged(o)}),l("screenReaderLabel",null,function(s,o){o=o===""?null:o,s.display.input.screenReaderLabelChanged(o)}),l("disableInput",!1,function(s,o){o||s.display.input.reset()},!0),l("dragDrop",!0,Zc),l("allowDropFileTypes",null),l("cursorBlinkRate",530),l("cursorScrollMargin",0),l("cursorHeight",1,_s,!0),l("singleCursorHeightPerLine",!0,_s,!0),l("workTime",100),l("workDelay",100),l("flattenSpans",!0,er,!0),l("addModeClass",!1,er,!0),l("pollInterval",100),l("undoDepth",200,function(s,o){return s.doc.history.undoDepth=o}),l("historyEventDelay",1250),l("viewportMargin",10,function(s){return s.refresh()},!0),l("maxHighlightLength",1e4,er,!0),l("moveInputWithCursor",!0,function(s,o){o||s.display.input.resetPosition()}),l("tabindex",null,function(s,o){return s.display.input.getField().tabIndex=o||""}),l("autofocus",null),l("direction","ltr",function(s,o){return s.doc.setDirection(o)},!0),l("phrases",null)}function Zc(t,r,l){var s=l&&l!=ir;if(!r!=!s){var o=t.display.dragFunctions,h=r?je:yi;h(t.display.scroller,"dragstart",o.start),h(t.display.scroller,"dragenter",o.enter),h(t.display.scroller,"dragover",o.over),h(t.display.scroller,"dragleave",o.leave),h(t.display.scroller,"drop",o.drop)}}function Ja(t){t.options.lineWrapping?(O(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(X(t.display.wrapper,"CodeMirror-wrap"),Uo(t)),ma(t),Wt(t),fs(t),setTimeout(function(){return xi(t)},100)}function bt(t,r){var l=this;if(!(this instanceof bt))return new bt(t,r);this.options=r=r?oe(r):{},oe(Zl,r,!1);var s=r.value;typeof s=="string"?s=new _i(s,r.mode,null,r.lineSeparator,r.direction):r.mode&&(s.modeOption=r.mode),this.doc=s;var o=new bt.inputStyles[r.inputStyle](this),h=this.display=new ef(t,s,o,r);h.wrapper.CodeMirror=this,Cu(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),eu(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ye,keySeq:null,specialChars:null},r.autofocus&&!C&&h.input.focus(),_&&m<11&&setTimeout(function(){return l.display.input.reset(!0)},20),wu(this),qa(),ur(this),this.curOp.forceUpdate=!0,Ir(this,s),r.autofocus&&!C||this.hasFocus()?setTimeout(function(){l.hasFocus()&&!l.state.focused&&ms(l)},20):Ji(this);for(var S in Ql)Ql.hasOwnProperty(S)&&Ql[S](this,r[S],ir);In(this),r.finishInit&&r.finishInit(this);for(var w=0;w<$a.length;++w)$a[w](this);cr(this),b&&r.lineWrapping&&getComputedStyle(h.lineDiv).textRendering=="optimizelegibility"&&(h.lineDiv.style.textRendering="auto")}bt.defaults=Zl,bt.optionHandlers=Ql;function wu(t){var r=t.display;je(r.scroller,"mousedown",zt(t,bu)),_&&m<11?je(r.scroller,"dblclick",zt(t,function(D){if(!Yt(t,D)){var R=ri(t,D);if(!(!R||Xl(t,D)||Fi(t.display,D))){ci(D);var Y=t.findWordAt(R);jn(t.doc,Y.anchor,Y.head)}}})):je(r.scroller,"dblclick",function(D){return Yt(t,D)||ci(D)}),je(r.scroller,"contextmenu",function(D){return Va(t,D)}),je(r.input.getField(),"contextmenu",function(D){r.scroller.contains(D.target)||Va(t,D)});var l,s={end:0};function o(){r.activeTouch&&(l=setTimeout(function(){return r.activeTouch=null},1e3),s=r.activeTouch,s.end=+new Date)}function h(D){if(D.touches.length!=1)return!1;var R=D.touches[0];return R.radiusX<=1&&R.radiusY<=1}function S(D,R){if(R.left==null)return!0;var Y=R.left-D.left,V=R.top-D.top;return Y*Y+V*V>20*20}je(r.scroller,"touchstart",function(D){if(!Yt(t,D)&&!h(D)&&!Xl(t,D)){r.input.ensurePolled(),clearTimeout(l);var R=+new Date;r.activeTouch={start:R,moved:!1,prev:R-s.end<=300?s:null},D.touches.length==1&&(r.activeTouch.left=D.touches[0].pageX,r.activeTouch.top=D.touches[0].pageY)}}),je(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),je(r.scroller,"touchend",function(D){var R=r.activeTouch;if(R&&!Fi(r,D)&&R.left!=null&&!R.moved&&new Date-R.start<300){var Y=t.coordsChar(r.activeTouch,"page"),V;!R.prev||S(R,R.prev)?V=new lt(Y,Y):!R.prev.prev||S(R,R.prev.prev)?V=t.findWordAt(Y):V=new lt(xe(Y.line,0),Pe(t.doc,xe(Y.line+1,0))),t.setSelection(V.anchor,V.head),t.focus(),ci(D)}o()}),je(r.scroller,"touchcancel",o),je(r.scroller,"scroll",function(){r.scroller.clientHeight&&(Hn(t,r.scroller.scrollTop),Nt(t,r.scroller.scrollLeft,!0),xt(t,"scroll",t))}),je(r.scroller,"mousewheel",function(D){return nu(t,D)}),je(r.scroller,"DOMMouseScroll",function(D){return nu(t,D)}),je(r.wrapper,"scroll",function(){return r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(D){Yt(t,D)||Zi(D)},over:function(D){Yt(t,D)||(Pc(t,D),Zi(D))},start:function(D){return tf(t,D)},drop:zt(t,Uc),leave:function(D){Yt(t,D)||Kn(t)}};var w=r.input.getField();je(w,"keyup",function(D){return Is.call(t,D)}),je(w,"keydown",zt(t,Gc)),je(w,"keypress",zt(t,Gl)),je(w,"focus",function(D){return ms(t,D)}),je(w,"blur",function(D){return Ji(t,D)})}var $a=[];bt.defineInitHook=function(t){return $a.push(t)};function Gs(t,r,l,s){var o=t.doc,h;l==null&&(l="add"),l=="smart"&&(o.mode.indent?h=yr(t,r).state:l="prev");var S=t.options.tabSize,w=He(o,r),D=me(w.text,null,S);w.stateAfter&&(w.stateAfter=null);var R=w.text.match(/^\s*/)[0],Y;if(!s&&!/\S/.test(w.text))Y=0,l="not";else if(l=="smart"&&(Y=o.mode.indent(h,w.text.slice(R.length),w.text),Y==$e||Y>150)){if(!s)return;l="prev"}l=="prev"?r>o.first?Y=me(He(o,r-1).text,null,S):Y=0:l=="add"?Y=D+t.options.indentUnit:l=="subtract"?Y=D-t.options.indentUnit:typeof l=="number"&&(Y=D+l),Y=Math.max(0,Y);var V="",ae=0;if(t.options.indentWithTabs)for(var re=Math.floor(Y/S);re;--re)ae+=S,V+="	";if(ae<Y&&(V+=Qr(Y-ae)),V!=R)return Hi(o,V,xe(r,0),xe(r,R.length),"+input"),w.stateAfter=null,!0;for(var pe=0;pe<o.sel.ranges.length;pe++){var Se=o.sel.ranges[pe];if(Se.head.line==r&&Se.head.ch<R.length){var Le=xe(r,R.length);Fr(o,pe,new lt(Le,Le));break}}}var hr=null;function Vl(t){hr=t}function qt(t,r,l,s,o){var h=t.doc;t.display.shift=!1,s||(s=h.sel);var S=+new Date-200,w=o=="paste"||t.state.pasteIncoming>S,D=Ln(r),R=null;if(w&&s.ranges.length>1)if(hr&&hr.text.join(`
`)==r){if(s.ranges.length%hr.text.length==0){R=[];for(var Y=0;Y<hr.text.length;Y++)R.push(h.splitLines(hr.text[Y]))}}else D.length==s.ranges.length&&t.options.pasteLinesPerSelection&&(R=nr(D,function(Ae){return[Ae]}));for(var V=t.curOp.updateInput,ae=s.ranges.length-1;ae>=0;ae--){var re=s.ranges[ae],pe=re.from(),Se=re.to();re.empty()&&(l&&l>0?pe=xe(pe.line,pe.ch-l):t.state.overwrite&&!w?Se=xe(Se.line,Math.min(He(h,Se.line).text.length,Se.ch+et(D).length)):w&&hr&&hr.lineWise&&hr.text.join(`
`)==D.join(`
`)&&(pe=Se=xe(pe.line,0)));var Le={from:pe,to:Se,text:R?R[ae%R.length]:D,origin:o||(w?"paste":t.state.cutIncoming>S?"cut":"+input")};Qt(t.doc,Le),Xt(t,"inputRead",t,Le)}r&&!w&&xu(t,r),$i(t),t.curOp.updateInput<2&&(t.curOp.updateInput=V),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function li(t,r){var l=t.clipboardData&&t.clipboardData.getData("Text");if(l)return t.preventDefault(),!r.isReadOnly()&&!r.options.disableInput&&r.hasFocus()&&kt(r,function(){return qt(r,l,0,null,"paste")}),!0}function xu(t,r){if(!(!t.options.electricChars||!t.options.smartIndent))for(var l=t.doc.sel,s=l.ranges.length-1;s>=0;s--){var o=l.ranges[s];if(!(o.head.ch>100||s&&l.ranges[s-1].head.line==o.head.line)){var h=t.getModeAt(o.head),S=!1;if(h.electricChars){for(var w=0;w<h.electricChars.length;w++)if(r.indexOf(h.electricChars.charAt(w))>-1){S=Gs(t,o.head.line,"smart");break}}else h.electricInput&&h.electricInput.test(He(t.doc,o.head.line).text.slice(0,o.head.ch))&&(S=Gs(t,o.head.line,"smart"));S&&Xt(t,"electricInput",t,o.head.line)}}}function Eu(t){for(var r=[],l=[],s=0;s<t.doc.sel.ranges.length;s++){var o=t.doc.sel.ranges[s].head.line,h={anchor:xe(o,0),head:xe(o+1,0)};l.push(h),r.push(t.getRange(h.anchor,h.head))}return{text:r,ranges:l}}function eo(t,r,l,s){t.setAttribute("autocorrect",l?"on":"off"),t.setAttribute("autocapitalize",s?"on":"off"),t.setAttribute("spellcheck",!!r)}function Tu(){var t=ue("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),r=ue("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return b?t.style.width="1000px":t.setAttribute("wrap","off"),d&&(t.style.border="1px solid black"),r}function Qc(t){var r=t.optionHandlers,l=t.helpers={};t.prototype={constructor:t,focus:function(){Be(this).focus(),this.display.input.focus()},setOption:function(s,o){var h=this.options,S=h[s];h[s]==o&&s!="mode"||(h[s]=o,r.hasOwnProperty(s)&&zt(this,r[s])(this,o,S),xt(this,"optionChange",this,s))},getOption:function(s){return this.options[s]},getDoc:function(){return this.doc},addKeyMap:function(s,o){this.state.keyMaps[o?"push":"unshift"](Ka(s))},removeKeyMap:function(s){for(var o=this.state.keyMaps,h=0;h<o.length;++h)if(o[h]==s||o[h].name==s)return o.splice(h,1),!0},addOverlay:si(function(s,o){var h=s.token?s:t.getMode(this.options,s);if(h.startState)throw new Error("Overlays may not be stateful.");Jn(this.state.overlays,{mode:h,modeSpec:s,opaque:o&&o.opaque,priority:o&&o.priority||0},function(S){return S.priority}),this.state.modeGen++,Wt(this)}),removeOverlay:si(function(s){for(var o=this.state.overlays,h=0;h<o.length;++h){var S=o[h].modeSpec;if(S==s||typeof s=="string"&&S.name==s){o.splice(h,1),this.state.modeGen++,Wt(this);return}}}),indentLine:si(function(s,o,h){typeof o!="string"&&typeof o!="number"&&(o==null?o=this.options.smartIndent?"smart":"prev":o=o?"add":"subtract"),hl(this.doc,s)&&Gs(this,s,o,h)}),indentSelection:si(function(s){for(var o=this.doc.sel.ranges,h=-1,S=0;S<o.length;S++){var w=o[S];if(w.empty())w.head.line>h&&(Gs(this,w.head.line,s,!0),h=w.head.line,S==this.doc.sel.primIndex&&$i(this));else{var D=w.from(),R=w.to(),Y=Math.max(h,D.line);h=Math.min(this.lastLine(),R.line-(R.ch?0:1))+1;for(var V=Y;V<h;++V)Gs(this,V,s);var ae=this.doc.sel.ranges;D.ch==0&&o.length==ae.length&&ae[S].from().ch>0&&Fr(this.doc,S,new lt(D,ae[S].to()),vt)}}}),getTokenAt:function(s,o){return sc(this,s,o)},getLineTokens:function(s,o){return sc(this,xe(s),o,!0)},getTokenTypeAt:function(s){s=Pe(this.doc,s);var o=Ao(this,He(this.doc,s.line)),h=0,S=(o.length-1)/2,w=s.ch,D;if(w==0)D=o[2];else for(;;){var R=h+S>>1;if((R?o[R*2-1]:0)>=w)S=R;else if(o[R*2+1]<w)h=R+1;else{D=o[R*2+2];break}}var Y=D?D.indexOf("overlay "):-1;return Y<0?D:Y==0?null:D.slice(0,Y-1)},getModeAt:function(s){var o=this.doc.mode;return o.innerMode?t.innerMode(o,this.getTokenAt(s).state).mode:o},getHelper:function(s,o){return this.getHelpers(s,o)[0]},getHelpers:function(s,o){var h=[];if(!l.hasOwnProperty(o))return h;var S=l[o],w=this.getModeAt(s);if(typeof w[o]=="string")S[w[o]]&&h.push(S[w[o]]);else if(w[o])for(var D=0;D<w[o].length;D++){var R=S[w[o][D]];R&&h.push(R)}else w.helperType&&S[w.helperType]?h.push(S[w.helperType]):S[w.name]&&h.push(S[w.name]);for(var Y=0;Y<S._global.length;Y++){var V=S._global[Y];V.pred(w,this)&&Ne(h,V.val)==-1&&h.push(V.val)}return h},getStateAfter:function(s,o){var h=this.doc;return s=nc(h,s??h.first+h.size-1),yr(this,s+1,o).state},cursorCoords:function(s,o){var h,S=this.doc.sel.primary();return s==null?h=S.head:typeof s=="object"?h=Pe(this.doc,s):h=s?S.from():S.to(),Qi(this,h,o||"page")},charCoords:function(s,o){return ps(this,Pe(this.doc,s),o||"page")},coordsChar:function(s,o){return s=vs(this,s,o||"page"),Ll(this,s.left,s.top)},lineAtHeight:function(s,o){return s=vs(this,{top:s,left:0},o||"page").top,Rr(this.doc,s+this.display.viewOffset)},heightAtLine:function(s,o,h){var S=!1,w;if(typeof s=="number"){var D=this.doc.first+this.doc.size-1;s<this.doc.first?s=this.doc.first:s>D&&(s=D,S=!0),w=He(this.doc,s)}else w=s;return ds(this,w,{top:0,left:0},o||"page",h||S).top+(S?this.doc.height-Hr(w):0)},defaultTextHeight:function(){return gs(this.display)},defaultCharWidth:function(){return kn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(s,o,h,S,w){var D=this.display;s=Qi(this,Pe(this.doc,s));var R=s.bottom,Y=s.left;if(o.style.position="absolute",o.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(o),D.sizer.appendChild(o),S=="over")R=s.top;else if(S=="above"||S=="near"){var V=Math.max(D.wrapper.clientHeight,this.doc.height),ae=Math.max(D.sizer.clientWidth,D.lineSpace.clientWidth);(S=="above"||s.bottom+o.offsetHeight>V)&&s.top>o.offsetHeight?R=s.top-o.offsetHeight:s.bottom+o.offsetHeight<=V&&(R=s.bottom),Y+o.offsetWidth>ae&&(Y=ae-o.offsetWidth)}o.style.top=R+"px",o.style.left=o.style.right="",w=="right"?(Y=D.sizer.clientWidth-o.offsetWidth,o.style.right="0px"):(w=="left"?Y=0:w=="middle"&&(Y=(D.sizer.clientWidth-o.offsetWidth)/2),o.style.left=Y+"px"),h&&wa(this,{left:Y,top:R,right:Y+o.offsetWidth,bottom:R+o.offsetHeight})},triggerOnKeyDown:si(Gc),triggerOnKeyPress:si(Gl),triggerOnKeyUp:Is,triggerOnMouseDown:si(bu),execCommand:function(s){if(zs.hasOwnProperty(s))return zs[s].call(null,this)},triggerElectric:si(function(s){xu(this,s)}),findPosH:function(s,o,h,S){var w=1;o<0&&(w=-1,o=-o);for(var D=Pe(this.doc,s),R=0;R<o&&(D=Ks(this.doc,D,w,h,S),!D.hitSide);++R);return D},moveH:si(function(s,o){var h=this;this.extendSelectionsBy(function(S){return h.display.shift||h.doc.extend||S.empty()?Ks(h.doc,S.head,s,o,h.options.rtlMoveVisually):s<0?S.from():S.to()},Ki)}),deleteH:si(function(s,o){var h=this.doc.sel,S=this.doc;h.somethingSelected()?S.replaceSelection("",null,"+delete"):bn(this,function(w){var D=Ks(S,w.head,s,o,!1);return s<0?{from:D,to:w.head}:{from:w.head,to:D}})}),findPosV:function(s,o,h,S){var w=1,D=S;o<0&&(w=-1,o=-o);for(var R=Pe(this.doc,s),Y=0;Y<o;++Y){var V=Qi(this,R,"div");if(D==null?D=V.left:V.left=D,R=to(this,V,w,h),R.hitSide)break}return R},moveV:si(function(s,o){var h=this,S=this.doc,w=[],D=!this.display.shift&&!S.extend&&S.sel.somethingSelected();if(S.extendSelectionsBy(function(Y){if(D)return s<0?Y.from():Y.to();var V=Qi(h,Y.head,"div");Y.goalColumn!=null&&(V.left=Y.goalColumn),w.push(V.left);var ae=to(h,V,s,o);return o=="page"&&Y==S.sel.primary()&&Oi(h,ps(h,ae,"div").top-V.top),ae},Ki),w.length)for(var R=0;R<S.sel.ranges.length;R++)S.sel.ranges[R].goalColumn=w[R]}),findWordAt:function(s){var o=this.doc,h=He(o,s.line).text,S=s.ch,w=s.ch;if(h){var D=this.getHelper(s,"wordChars");(s.sticky=="before"||w==h.length)&&S?--S:++w;for(var R=h.charAt(S),Y=jt(R,D)?function(V){return jt(V,D)}:/\s/.test(R)?function(V){return/\s/.test(V)}:function(V){return!/\s/.test(V)&&!jt(V)};S>0&&Y(h.charAt(S-1));)--S;for(;w<h.length&&Y(h.charAt(w));)++w}return new lt(xe(s.line,S),xe(s.line,w))},toggleOverwrite:function(s){s!=null&&s==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?O(this.display.cursorDiv,"CodeMirror-overwrite"):X(this.display.cursorDiv,"CodeMirror-overwrite"),xt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==q(we(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:si(function(s,o){qi(this,s,o)}),getScrollInfo:function(){var s=this.display.scroller;return{left:s.scrollLeft,top:s.scrollTop,height:s.scrollHeight-lr(this)-this.display.barHeight,width:s.scrollWidth-lr(this)-this.display.barWidth,clientHeight:Tl(this),clientWidth:un(this)}},scrollIntoView:si(function(s,o){s==null?(s={from:this.doc.sel.primary().head,to:null},o==null&&(o=this.options.cursorScrollMargin)):typeof s=="number"?s={from:xe(s,0),to:null}:s.from==null&&(s={from:s,to:null}),s.to||(s.to=s.from),s.margin=o||0,s.from.line!=null?zr(this,s):$o(this,s.from,s.to,s.margin)}),setSize:si(function(s,o){var h=this,S=function(D){return typeof D=="number"||/^\d+$/.test(String(D))?D+"px":D};s!=null&&(this.display.wrapper.style.width=S(s)),o!=null&&(this.display.wrapper.style.height=S(o)),this.options.lineWrapping&&Qo(this);var w=this.display.viewFrom;this.doc.iter(w,this.display.viewTo,function(D){if(D.widgets){for(var R=0;R<D.widgets.length;R++)if(D.widgets[R].noHScroll){br(h,w,"widget");break}}++w}),this.curOp.forceUpdate=!0,xt(this,"refresh",this)}),operation:function(s){return kt(this,s)},startOperation:function(){return ur(this)},endOperation:function(){return cr(this)},refresh:si(function(){var s=this.display.cachedTextHeight;Wt(this),this.curOp.forceUpdate=!0,fs(this),qi(this,this.doc.scrollLeft,this.doc.scrollTop),Un(this.display),(s==null||Math.abs(s-gs(this.display))>.5||this.options.lineWrapping)&&ma(this),xt(this,"refresh",this)}),swapDoc:si(function(s){var o=this.doc;return o.cm=null,this.state.selectingText&&this.state.selectingText(),Ir(this,s),fs(this),this.display.input.reset(),qi(this,s.scrollLeft,s.scrollTop),this.curOp.forceScroll=!0,Xt(this,"swapDoc",this,o),o}),phrase:function(s){var o=this.options.phrases;return o&&Object.prototype.hasOwnProperty.call(o,s)?o[s]:s},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},en(t),t.registerHelper=function(s,o,h){l.hasOwnProperty(s)||(l[s]=t[s]={_global:[]}),l[s][o]=h},t.registerGlobalHelper=function(s,o,h,S){t.registerHelper(s,o,S),l[s]._global.push({pred:h,val:S})}}function Ks(t,r,l,s,o){var h=r,S=l,w=He(t,r.line),D=o&&t.direction=="rtl"?-l:l;function R(){var Me=r.line+D;return Me<t.first||Me>=t.first+t.size?!1:(r=new xe(Me,r.ch,r.sticky),w=He(t,Me))}function Y(Me){var Re;if(s=="codepoint"){var ke=w.text.charCodeAt(r.ch+(l>0?0:-1));if(isNaN(ke))Re=null;else{var Ie=l>0?ke>=55296&&ke<56320:ke>=56320&&ke<57343;Re=new xe(r.line,Math.max(0,Math.min(w.text.length,r.ch+l*(Ie?2:1))),-l)}}else o?Re=jc(t.cm,w,r,l):Re=Xa(w,r,l);if(Re==null)if(!Me&&R())r=Wl(o,t.cm,w,r.line,D);else return!1;else r=Re;return!0}if(s=="char"||s=="codepoint")Y();else if(s=="column")Y(!0);else if(s=="word"||s=="group")for(var V=null,ae=s=="group",re=t.cm&&t.cm.getHelper(r,"wordChars"),pe=!0;!(l<0&&!Y(!pe));pe=!1){var Se=w.text.charAt(r.ch)||`
`,Le=jt(Se,re)?"w":ae&&Se==`
`?"n":!ae||/\s/.test(Se)?null:"p";if(ae&&!pe&&!Le&&(Le="s"),V&&V!=Le){l<0&&(l=1,Y(),r.sticky="after");break}if(Le&&(V=Le),l>0&&!Y(!pe))break}var Ae=za(t,r,h,S,!0);return Eo(h,Ae)&&(Ae.hitSide=!0),Ae}function to(t,r,l,s){var o=t.doc,h=r.left,S;if(s=="page"){var w=Math.min(t.display.wrapper.clientHeight,Be(t).innerHeight||o(t).documentElement.clientHeight),D=Math.max(w-.5*gs(t.display),3);S=(l>0?r.bottom:r.top)+l*D}else s=="line"&&(S=l>0?r.bottom+3:r.top-3);for(var R;R=Ll(t,h,S),!!R.outside;){if(l<0?S<=0:S>=o.height){R.hitSide=!0;break}S+=l*5}return R}var ft=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ye,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};ft.prototype.init=function(t){var r=this,l=this,s=l.cm,o=l.div=t.lineDiv;o.contentEditable=!0,eo(o,s.options.spellcheck,s.options.autocorrect,s.options.autocapitalize);function h(w){for(var D=w.target;D;D=D.parentNode){if(D==o)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(D.className))break}return!1}je(o,"paste",function(w){!h(w)||Yt(s,w)||li(w,s)||m<=11&&setTimeout(zt(s,function(){return r.updateFromDOM()}),20)}),je(o,"compositionstart",function(w){r.composing={data:w.data,done:!1}}),je(o,"compositionupdate",function(w){r.composing||(r.composing={data:w.data,done:!1})}),je(o,"compositionend",function(w){r.composing&&(w.data!=r.composing.data&&r.readFromDOMSoon(),r.composing.done=!0)}),je(o,"touchstart",function(){return l.forceCompositionEnd()}),je(o,"input",function(){r.composing||r.readFromDOMSoon()});function S(w){if(!(!h(w)||Yt(s,w))){if(s.somethingSelected())Vl({lineWise:!1,text:s.getSelections()}),w.type=="cut"&&s.replaceSelection("",null,"cut");else if(s.options.lineWiseCopyCut){var D=Eu(s);Vl({lineWise:!0,text:D.text}),w.type=="cut"&&s.operation(function(){s.setSelections(D.ranges,0,vt),s.replaceSelection("",null,"cut")})}else return;if(w.clipboardData){w.clipboardData.clearData();var R=hr.text.join(`
`);if(w.clipboardData.setData("Text",R),w.clipboardData.getData("Text")==R){w.preventDefault();return}}var Y=Tu(),V=Y.firstChild;eo(V),s.display.lineSpace.insertBefore(Y,s.display.lineSpace.firstChild),V.value=hr.text.join(`
`);var ae=q(De(o));se(V),setTimeout(function(){s.display.lineSpace.removeChild(Y),ae.focus(),ae==o&&l.showPrimarySelection()},50)}}je(o,"copy",S),je(o,"cut",S)},ft.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},ft.prototype.prepareSelection=function(){var t=Ml(this.cm,!1);return t.focus=q(De(this.div))==this.div,t},ft.prototype.showSelection=function(t,r){!t||!this.cm.display.view.length||((t.focus||r)&&this.showPrimarySelection(),this.showMultipleSelections(t))},ft.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},ft.prototype.showPrimarySelection=function(){var t=this.getSelection(),r=this.cm,l=r.doc.sel.primary(),s=l.from(),o=l.to();if(r.display.viewTo==r.display.viewFrom||s.line>=r.display.viewTo||o.line<r.display.viewFrom){t.removeAllRanges();return}var h=Ys(r,t.anchorNode,t.anchorOffset),S=Ys(r,t.focusNode,t.focusOffset);if(!(h&&!h.bad&&S&&!S.bad&&Ge(An(h,S),s)==0&&Ge(fl(h,S),o)==0)){var w=r.display.view,D=s.line>=r.display.viewFrom&&Du(r,s)||{node:w[0].measure.map[2],offset:0},R=o.line<r.display.viewTo&&Du(r,o);if(!R){var Y=w[w.length-1].measure,V=Y.maps?Y.maps[Y.maps.length-1]:Y.map;R={node:V[V.length-1],offset:V[V.length-2]-V[V.length-3]}}if(!D||!R){t.removeAllRanges();return}var ae=t.rangeCount&&t.getRangeAt(0),re;try{re=J(D.node,D.offset,R.offset,R.node)}catch{}re&&(!Z&&r.state.focused?(t.collapse(D.node,D.offset),re.collapsed||(t.removeAllRanges(),t.addRange(re))):(t.removeAllRanges(),t.addRange(re)),ae&&t.anchorNode==null?t.addRange(ae):Z&&this.startGracePeriod()),this.rememberSelection()}},ft.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},ft.prototype.showMultipleSelections=function(t){_e(this.cm.display.cursorDiv,t.cursors),_e(this.cm.display.selectionDiv,t.selection)},ft.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},ft.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var r=t.getRangeAt(0).commonAncestorContainer;return z(this.div,r)},ft.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||q(De(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},ft.prototype.blur=function(){this.div.blur()},ft.prototype.getField=function(){return this.div},ft.prototype.supportsTouch=function(){return!0},ft.prototype.receivedFocus=function(){var t=this,r=this;this.selectionInEditor()?setTimeout(function(){return t.pollSelection()},20):kt(this.cm,function(){return r.cm.curOp.selectionChanged=!0});function l(){r.cm.state.focused&&(r.pollSelection(),r.polling.set(r.cm.options.pollInterval,l))}this.polling.set(this.cm.options.pollInterval,l)},ft.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},ft.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var t=this.getSelection(),r=this.cm;if(v&&T&&this.cm.display.gutterSpecs.length&&Vc(t.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var l=Ys(r,t.anchorNode,t.anchorOffset),s=Ys(r,t.focusNode,t.focusOffset);l&&s&&kt(r,function(){di(r.doc,xr(l,s),vt),(l.bad||s.bad)&&(r.curOp.selectionChanged=!0)})}}},ft.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t=this.cm,r=t.display,l=t.doc.sel.primary(),s=l.from(),o=l.to();if(s.ch==0&&s.line>t.firstLine()&&(s=xe(s.line-1,He(t.doc,s.line-1).length)),o.ch==He(t.doc,o.line).text.length&&o.line<t.lastLine()&&(o=xe(o.line+1,0)),s.line<r.viewFrom||o.line>r.viewTo-1)return!1;var h,S,w;s.line==r.viewFrom||(h=ni(t,s.line))==0?(S=ot(r.view[0].line),w=r.view[0].node):(S=ot(r.view[h].line),w=r.view[h-1].node.nextSibling);var D=ni(t,o.line),R,Y;if(D==r.view.length-1?(R=r.viewTo-1,Y=r.lineDiv.lastChild):(R=ot(r.view[D+1].line)-1,Y=r.view[D+1].node.previousSibling),!w)return!1;for(var V=t.doc.splitLines(Lu(t,w,Y,S,R)),ae=Mr(t.doc,xe(S,0),xe(R,He(t.doc,R).text.length));V.length>1&&ae.length>1;)if(et(V)==et(ae))V.pop(),ae.pop(),R--;else if(V[0]==ae[0])V.shift(),ae.shift(),S++;else break;for(var re=0,pe=0,Se=V[0],Le=ae[0],Ae=Math.min(Se.length,Le.length);re<Ae&&Se.charCodeAt(re)==Le.charCodeAt(re);)++re;for(var Me=et(V),Re=et(ae),ke=Math.min(Me.length-(V.length==1?re:0),Re.length-(ae.length==1?re:0));pe<ke&&Me.charCodeAt(Me.length-pe-1)==Re.charCodeAt(Re.length-pe-1);)++pe;if(V.length==1&&ae.length==1&&S==s.line)for(;re&&re>s.ch&&Me.charCodeAt(Me.length-pe-1)==Re.charCodeAt(Re.length-pe-1);)re--,pe++;V[V.length-1]=Me.slice(0,Me.length-pe).replace(/^\u200b+/,""),V[0]=V[0].slice(re).replace(/\u200b+$/,"");var Ie=xe(S,re),ze=xe(R,ae.length?et(ae).length-pe:0);if(V.length>1||V[0]||Ge(Ie,ze))return Hi(t.doc,V,Ie,ze,"+input"),!0},ft.prototype.ensurePolled=function(){this.forceCompositionEnd()},ft.prototype.reset=function(){this.forceCompositionEnd()},ft.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},ft.prototype.readFromDOMSoon=function(){var t=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing)if(t.composing.done)t.composing=null;else return;t.updateFromDOM()},80))},ft.prototype.updateFromDOM=function(){var t=this;(this.cm.isReadOnly()||!this.pollContent())&&kt(this.cm,function(){return Wt(t.cm)})},ft.prototype.setUneditable=function(t){t.contentEditable="false"},ft.prototype.onKeyPress=function(t){t.charCode==0||this.composing||(t.preventDefault(),this.cm.isReadOnly()||zt(this.cm,qt)(this.cm,String.fromCharCode(t.charCode==null?t.keyCode:t.charCode),0))},ft.prototype.readOnlyChanged=function(t){this.div.contentEditable=String(t!="nocursor")},ft.prototype.onContextMenu=function(){},ft.prototype.resetPosition=function(){},ft.prototype.needsContentAttribute=!0;function Du(t,r){var l=Xo(t,r.line);if(!l||l.hidden)return null;var s=He(t.doc,r.line),o=Ko(l,s,r.line),h=Pi(s,t.doc.direction),S="left";if(h){var w=sr(h,r.ch);S=w%2?"right":"left"}var D=Cc(o.map,r.ch,S);return D.offset=D.collapse=="right"?D.end:D.start,D}function Vc(t){for(var r=t;r;r=r.parentNode)if(/CodeMirror-gutter-wrapper/.test(r.className))return!0;return!1}function xn(t,r){return r&&(t.bad=!0),t}function Lu(t,r,l,s,o){var h="",S=!1,w=t.doc.lineSeparator(),D=!1;function R(re){return function(pe){return pe.id==re}}function Y(){S&&(h+=w,D&&(h+=w),S=D=!1)}function V(re){re&&(Y(),h+=re)}function ae(re){if(re.nodeType==1){var pe=re.getAttribute("cm-text");if(pe){V(pe);return}var Se=re.getAttribute("cm-marker"),Le;if(Se){var Ae=t.findMarks(xe(s,0),xe(o+1,0),R(+Se));Ae.length&&(Le=Ae[0].find(0))&&V(Mr(t.doc,Le.from,Le.to).join(w));return}if(re.getAttribute("contenteditable")=="false")return;var Me=/^(pre|div|p|li|table|br)$/i.test(re.nodeName);if(!/^br$/i.test(re.nodeName)&&re.textContent.length==0)return;Me&&Y();for(var Re=0;Re<re.childNodes.length;Re++)ae(re.childNodes[Re]);/^(pre|p)$/i.test(re.nodeName)&&(D=!0),Me&&(S=!0)}else re.nodeType==3&&V(re.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ae(r),r!=l;)r=r.nextSibling,D=!1;return h}function Ys(t,r,l){var s;if(r==t.display.lineDiv){if(s=t.display.lineDiv.childNodes[l],!s)return xn(t.clipPos(xe(t.display.viewTo-1)),!0);r=null,l=0}else for(s=r;;s=s.parentNode){if(!s||s==t.display.lineDiv)return null;if(s.parentNode&&s.parentNode==t.display.lineDiv)break}for(var o=0;o<t.display.view.length;o++){var h=t.display.view[o];if(h.node==s)return Jc(h,r,l)}}function Jc(t,r,l){var s=t.text.firstChild,o=!1;if(!r||!z(s,r))return xn(xe(ot(t.line),0),!0);if(r==s&&(o=!0,r=s.childNodes[l],l=0,!r)){var h=t.rest?et(t.rest):t.line;return xn(xe(ot(h),h.text.length),o)}var S=r.nodeType==3?r:null,w=r;for(!S&&r.childNodes.length==1&&r.firstChild.nodeType==3&&(S=r.firstChild,l&&(l=S.nodeValue.length));w.parentNode!=s;)w=w.parentNode;var D=t.measure,R=D.maps;function Y(Le,Ae,Me){for(var Re=-1;Re<(R?R.length:0);Re++)for(var ke=Re<0?D.map:R[Re],Ie=0;Ie<ke.length;Ie+=3){var ze=ke[Ie+2];if(ze==Le||ze==Ae){var Ze=ot(Re<0?t.line:t.rest[Re]),dt=ke[Ie]+Me;return(Me<0||ze!=Le)&&(dt=ke[Ie+(Me?1:0)]),xe(Ze,dt)}}}var V=Y(S,w,l);if(V)return xn(V,o);for(var ae=w.nextSibling,re=S?S.nodeValue.length-l:0;ae;ae=ae.nextSibling){if(V=Y(ae,ae.firstChild,0),V)return xn(xe(V.line,V.ch-re),o);re+=ae.textContent.length}for(var pe=w.previousSibling,Se=l;pe;pe=pe.previousSibling){if(V=Y(pe,pe.firstChild,-1),V)return xn(xe(V.line,V.ch+Se),o);Se+=pe.textContent.length}}var Lt=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new ye,this.hasSelection=!1,this.composing=null,this.resetting=!1};Lt.prototype.init=function(t){var r=this,l=this,s=this.cm;this.createField(t);var o=this.textarea;t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),d&&(o.style.width="0px"),je(o,"input",function(){_&&m>=9&&r.hasSelection&&(r.hasSelection=null),l.poll()}),je(o,"paste",function(S){Yt(s,S)||li(S,s)||(s.state.pasteIncoming=+new Date,l.fastPoll())});function h(S){if(!Yt(s,S)){if(s.somethingSelected())Vl({lineWise:!1,text:s.getSelections()});else if(s.options.lineWiseCopyCut){var w=Eu(s);Vl({lineWise:!0,text:w.text}),S.type=="cut"?s.setSelections(w.ranges,null,vt):(l.prevInput="",o.value=w.text.join(`
`),se(o))}else return;S.type=="cut"&&(s.state.cutIncoming=+new Date)}}je(o,"cut",h),je(o,"copy",h),je(t.scroller,"paste",function(S){if(!(Fi(t,S)||Yt(s,S))){if(!o.dispatchEvent){s.state.pasteIncoming=+new Date,l.focus();return}var w=new Event("paste");w.clipboardData=S.clipboardData,o.dispatchEvent(w)}}),je(t.lineSpace,"selectstart",function(S){Fi(t,S)||ci(S)}),je(o,"compositionstart",function(){var S=s.getCursor("from");l.composing&&l.composing.range.clear(),l.composing={start:S,range:s.markText(S,s.getCursor("to"),{className:"CodeMirror-composing"})}}),je(o,"compositionend",function(){l.composing&&(l.poll(),l.composing.range.clear(),l.composing=null)})},Lt.prototype.createField=function(t){this.wrapper=Tu(),this.textarea=this.wrapper.firstChild;var r=this.cm.options;eo(this.textarea,r.spellcheck,r.autocorrect,r.autocapitalize)},Lt.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},Lt.prototype.prepareSelection=function(){var t=this.cm,r=t.display,l=t.doc,s=Ml(t);if(t.options.moveInputWithCursor){var o=Qi(t,l.sel.primary().head,"div"),h=r.wrapper.getBoundingClientRect(),S=r.lineDiv.getBoundingClientRect();s.teTop=Math.max(0,Math.min(r.wrapper.clientHeight-10,o.top+S.top-h.top)),s.teLeft=Math.max(0,Math.min(r.wrapper.clientWidth-10,o.left+S.left-h.left))}return s},Lt.prototype.showSelection=function(t){var r=this.cm,l=r.display;_e(l.cursorDiv,t.cursors),_e(l.selectionDiv,t.selection),t.teTop!=null&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Lt.prototype.reset=function(t){if(!(this.contextMenuPending||this.composing&&t)){var r=this.cm;if(this.resetting=!0,r.somethingSelected()){this.prevInput="";var l=r.getSelection();this.textarea.value=l,r.state.focused&&se(this.textarea),_&&m>=9&&(this.hasSelection=l)}else t||(this.prevInput=this.textarea.value="",_&&m>=9&&(this.hasSelection=null));this.resetting=!1}},Lt.prototype.getField=function(){return this.textarea},Lt.prototype.supportsTouch=function(){return!1},Lt.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!C||q(De(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Lt.prototype.blur=function(){this.textarea.blur()},Lt.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Lt.prototype.receivedFocus=function(){this.slowPoll()},Lt.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},Lt.prototype.fastPoll=function(){var t=!1,r=this;r.pollingFast=!0;function l(){var s=r.poll();!s&&!t?(t=!0,r.polling.set(60,l)):(r.pollingFast=!1,r.slowPoll())}r.polling.set(20,l)},Lt.prototype.poll=function(){var t=this,r=this.cm,l=this.textarea,s=this.prevInput;if(this.contextMenuPending||this.resetting||!r.state.focused||wo(l)&&!s&&!this.composing||r.isReadOnly()||r.options.disableInput||r.state.keySeq)return!1;var o=l.value;if(o==s&&!r.somethingSelected())return!1;if(_&&m>=9&&this.hasSelection===o||x&&/[\uf700-\uf7ff]/.test(o))return r.display.input.reset(),!1;if(r.doc.sel==r.display.selForContextMenu){var h=o.charCodeAt(0);if(h==8203&&!s&&(s="​"),h==8666)return this.reset(),this.cm.execCommand("undo")}for(var S=0,w=Math.min(s.length,o.length);S<w&&s.charCodeAt(S)==o.charCodeAt(S);)++S;return kt(r,function(){qt(r,o.slice(S),s.length-S,null,t.composing?"*compose":null),o.length>1e3||o.indexOf(`
`)>-1?l.value=t.prevInput="":t.prevInput=o,t.composing&&(t.composing.range.clear(),t.composing.range=r.markText(t.composing.start,r.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Lt.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Lt.prototype.onKeyPress=function(){_&&m>=9&&(this.hasSelection=null),this.fastPoll()},Lt.prototype.onContextMenu=function(t){var r=this,l=r.cm,s=l.display,o=r.textarea;r.contextMenuPending&&r.contextMenuPending();var h=ri(l,t),S=s.scroller.scrollTop;if(!h||k)return;var w=l.options.resetSelectionOnContextMenu;w&&l.doc.sel.contains(h)==-1&&zt(l,di)(l.doc,xr(h),vt);var D=o.style.cssText,R=r.wrapper.style.cssText,Y=r.wrapper.offsetParent.getBoundingClientRect();r.wrapper.style.cssText="position: static",o.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(t.clientY-Y.top-5)+"px; left: "+(t.clientX-Y.left-5)+`px;
      z-index: 1000; background: `+(_?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var V;b&&(V=o.ownerDocument.defaultView.scrollY),s.input.focus(),b&&o.ownerDocument.defaultView.scrollTo(null,V),s.input.reset(),l.somethingSelected()||(o.value=r.prevInput=" "),r.contextMenuPending=re,s.selForContextMenu=l.doc.sel,clearTimeout(s.detectingSelectAll);function ae(){if(o.selectionStart!=null){var Se=l.somethingSelected(),Le="​"+(Se?o.value:"");o.value="⇚",o.value=Le,r.prevInput=Se?"":"​",o.selectionStart=1,o.selectionEnd=Le.length,s.selForContextMenu=l.doc.sel}}function re(){if(r.contextMenuPending==re&&(r.contextMenuPending=!1,r.wrapper.style.cssText=R,o.style.cssText=D,_&&m<9&&s.scrollbars.setScrollTop(s.scroller.scrollTop=S),o.selectionStart!=null)){(!_||_&&m<9)&&ae();var Se=0,Le=function(){s.selForContextMenu==l.doc.sel&&o.selectionStart==0&&o.selectionEnd>0&&r.prevInput=="​"?zt(l,Pa)(l):Se++<10?s.detectingSelectAll=setTimeout(Le,500):(s.selForContextMenu=null,s.input.reset())};s.detectingSelectAll=setTimeout(Le,200)}}if(_&&m>=9&&ae(),Q){Zi(t);var pe=function(){yi(window,"mouseup",pe),setTimeout(re,20)};je(window,"mouseup",pe)}else setTimeout(re,50)},Lt.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled=t=="nocursor",this.textarea.readOnly=!!t},Lt.prototype.setUneditable=function(){},Lt.prototype.needsContentAttribute=!1;function io(t,r){if(r=r?oe(r):{},r.value=t.value,!r.tabindex&&t.tabIndex&&(r.tabindex=t.tabIndex),!r.placeholder&&t.placeholder&&(r.placeholder=t.placeholder),r.autofocus==null){var l=q(De(t));r.autofocus=l==t||t.getAttribute("autofocus")!=null&&l==document.body}function s(){t.value=w.getValue()}var o;if(t.form&&(je(t.form,"submit",s),!r.leaveSubmitMethodAlone)){var h=t.form;o=h.submit;try{var S=h.submit=function(){s(),h.submit=o,h.submit(),h.submit=S}}catch{}}r.finishInit=function(D){D.save=s,D.getTextArea=function(){return t},D.toTextArea=function(){D.toTextArea=isNaN,s(),t.parentNode.removeChild(D.getWrapperElement()),t.style.display="",t.form&&(yi(t.form,"submit",s),!r.leaveSubmitMethodAlone&&typeof t.form.submit=="function"&&(t.form.submit=o))}},t.style.display="none";var w=bt(function(D){return t.parentNode.insertBefore(D,t.nextSibling)},r);return w}function Au(t){t.off=yi,t.on=je,t.wheelEventPixels=Aa,t.Doc=_i,t.splitLines=Ln,t.countColumn=me,t.findColumn=We,t.isWordChar=Ui,t.Pass=$e,t.signal=xt,t.Line=ls,t.changeEnd=Pr,t.scrollbarModel=pn,t.Pos=xe,t.cmpPos=Ge,t.modes=rn,t.mimeModes=Mt,t.resolveMode=mr,t.getMode=nn,t.modeExtensions=is,t.extendMode=rc,t.copyState=sn,t.startState=cl,t.innerMode=xo,t.commands=zs,t.keyMap=Er,t.keyName=_u,t.isModifierKey=Ga,t.lookupKey=Yn,t.normalizeKeyMap=Fc,t.StringStream=Tt,t.SharedTextMarker=Bs,t.TextMarker=jr,t.LineWidget=ks,t.e_preventDefault=ci,t.e_stopPropagation=So,t.e_stop=Zi,t.addClass=O,t.contains=z,t.rmClass=X,t.keyNames=Wr}Xc(bt),Qc(bt);var $c="iter insert remove copy getEditor constructor".split(" ");for(var Xs in _i.prototype)_i.prototype.hasOwnProperty(Xs)&&Ne($c,Xs)<0&&(bt.prototype[Xs]=function(t){return function(){return t.apply(this.doc,arguments)}}(_i.prototype[Xs]));return en(_i),bt.inputStyles={textarea:Lt,contenteditable:ft},bt.defineMode=function(t){!bt.defaults.mode&&t!="null"&&(bt.defaults.mode=t),tc.apply(this,arguments)},bt.defineMIME=ic,bt.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),bt.defineMIME("text/plain","null"),bt.defineExtension=function(t,r){bt.prototype[t]=r},bt.defineDocExtension=function(t,r){_i.prototype[t]=r},bt.fromTextArea=io,Au(bt),bt.version="5.65.19",bt})}(Dh)),Dh.exports}var j_=mo();const Gv=np(j_);var Kv={exports:{}},Yv;function W_(){return Yv||(Yv=1,function(L,W){(function(I){I(mo())})(function(I){function P(m){return new RegExp("^(("+m.join(")|(")+"))\\b")}var Z=P(["and","or","not","is"]),le=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in","False","True"],$=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];I.registerHelper("hintWords","python",le.concat($).concat(["exec","print"]));function g(m){return m.scopes[m.scopes.length-1]}I.defineMode("python",function(m,b){for(var y="error",T=b.delimiters||b.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.\\]/,M=[b.singleOperators,b.doubleOperators,b.doubleDelimiters,b.tripleDelimiters,b.operators||/^([-+*/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@]|\.\.\.)/],k=0;k<M.length;k++)M[k]||M.splice(k--,1);var A=b.hangingIndent||m.indentUnit,c=le,f=$;b.extra_keywords!=null&&(c=c.concat(b.extra_keywords)),b.extra_builtins!=null&&(f=f.concat(b.extra_builtins));var d=!(b.version&&Number(b.version)<3);if(d){var v=b.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;c=c.concat(["nonlocal","None","aiter","anext","async","await","breakpoint","match","case"]),f=f.concat(["ascii","bytes","exec","print"]);var C=new RegExp(`^(([rbuf]|(br)|(rb)|(fr)|(rf))?('{3}|"{3}|['"]))`,"i")}else{var v=b.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;c=c.concat(["exec","print"]),f=f.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","None"]);var C=new RegExp(`^(([rubf]|(ur)|(br))?('{3}|"{3}|['"]))`,"i")}var x=P(c),H=P(f);function U(K,J){var z=K.sol()&&J.lastToken!="\\";if(z&&(J.indent=K.indentation()),z&&g(J).type=="py"){var q=g(J).offset;if(K.eatSpace()){var O=K.indentation();return O>q?te(J):O<q&&ie(K,J)&&K.peek()!="#"&&(J.errorToken=!0),null}else{var G=E(K,J);return q>0&&ie(K,J)&&(G+=" "+y),G}}return E(K,J)}function E(K,J,z){if(K.eatSpace())return null;if(!z&&K.match(/^#.*/))return"comment";if(K.match(/^[0-9\.]/,!1)){var q=!1;if(K.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(q=!0),K.match(/^[\d_]+\.\d*/)&&(q=!0),K.match(/^\.\d+/)&&(q=!0),q)return K.eat(/J/i),"number";var O=!1;if(K.match(/^0x[0-9a-f_]+/i)&&(O=!0),K.match(/^0b[01_]+/i)&&(O=!0),K.match(/^0o[0-7_]+/i)&&(O=!0),K.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(K.eat(/J/i),O=!0),K.match(/^0(?![\dx])/i)&&(O=!0),O)return K.eat(/L/i),"number"}if(K.match(C)){var G=K.current().toLowerCase().indexOf("f")!==-1;return G?(J.tokenize=N(K.current(),J.tokenize),J.tokenize(K,J)):(J.tokenize=Q(K.current(),J.tokenize),J.tokenize(K,J))}for(var se=0;se<M.length;se++)if(K.match(M[se]))return"operator";return K.match(T)?"punctuation":J.lastToken=="."&&K.match(v)?"property":K.match(x)||K.match(Z)?"keyword":K.match(H)?"builtin":K.match(/^(self|cls)\b/)?"variable-2":K.match(v)?J.lastToken=="def"||J.lastToken=="class"?"def":"variable":(K.next(),z?null:y)}function N(K,J){for(;"rubf".indexOf(K.charAt(0).toLowerCase())>=0;)K=K.substr(1);var z=K.length==1,q="string";function O(se){return function(fe,we){var De=E(fe,we,!0);return De=="punctuation"&&(fe.current()=="{"?we.tokenize=O(se+1):fe.current()=="}"&&(se>1?we.tokenize=O(se-1):we.tokenize=G)),De}}function G(se,fe){for(;!se.eol();)if(se.eatWhile(/[^'"\{\}\\]/),se.eat("\\")){if(se.next(),z&&se.eol())return q}else{if(se.match(K))return fe.tokenize=J,q;if(se.match("{{"))return q;if(se.match("{",!1))return fe.tokenize=O(0),se.current()?q:fe.tokenize(se,fe);if(se.match("}}"))return q;if(se.match("}"))return y;se.eat(/['"]/)}if(z){if(b.singleLineStringErrors)return y;fe.tokenize=J}return q}return G.isString=!0,G}function Q(K,J){for(;"rubf".indexOf(K.charAt(0).toLowerCase())>=0;)K=K.substr(1);var z=K.length==1,q="string";function O(G,se){for(;!G.eol();)if(G.eatWhile(/[^'"\\]/),G.eat("\\")){if(G.next(),z&&G.eol())return q}else{if(G.match(K))return se.tokenize=J,q;G.eat(/['"]/)}if(z){if(b.singleLineStringErrors)return y;se.tokenize=J}return q}return O.isString=!0,O}function te(K){for(;g(K).type!="py";)K.scopes.pop();K.scopes.push({offset:g(K).offset+m.indentUnit,type:"py",align:null})}function X(K,J,z){var q=K.match(/^[\s\[\{\(]*(?:#|$)/,!1)?null:K.column()+1;J.scopes.push({offset:J.indent+A,type:z,align:q})}function ie(K,J){for(var z=K.indentation();J.scopes.length>1&&g(J).offset>z;){if(g(J).type!="py")return!0;J.scopes.pop()}return g(J).offset!=z}function _e(K,J){K.sol()&&(J.beginningOfLine=!0,J.dedent=!1);var z=J.tokenize(K,J),q=K.current();if(J.beginningOfLine&&q=="@")return K.match(v,!1)?"meta":d?"operator":y;if(/\S/.test(q)&&(J.beginningOfLine=!1),(z=="variable"||z=="builtin")&&J.lastToken=="meta"&&(z="meta"),(q=="pass"||q=="return")&&(J.dedent=!0),q=="lambda"&&(J.lambda=!0),q==":"&&!J.lambda&&g(J).type=="py"&&K.match(/^\s*(?:#|$)/,!1)&&te(J),q.length==1&&!/string|comment/.test(z)){var O="[({".indexOf(q);if(O!=-1&&X(K,J,"])}".slice(O,O+1)),O="])}".indexOf(q),O!=-1)if(g(J).type==q)J.indent=J.scopes.pop().offset-A;else return y}return J.dedent&&K.eol()&&g(J).type=="py"&&J.scopes.length>1&&J.scopes.pop(),z}var ue={startState:function(K){return{tokenize:U,scopes:[{offset:K||0,type:"py",align:null}],indent:K||0,lastToken:null,lambda:!1,dedent:0}},token:function(K,J){var z=J.errorToken;z&&(J.errorToken=!1);var q=_e(K,J);return q&&q!="comment"&&(J.lastToken=q=="keyword"||q=="punctuation"?K.current():q),q=="punctuation"&&(q=null),K.eol()&&J.lambda&&(J.lambda=!1),z?q+" "+y:q},indent:function(K,J){if(K.tokenize!=U)return K.tokenize.isString?I.Pass:0;var z=g(K),q=z.type==J.charAt(0)||z.type=="py"&&!K.dedent&&/^(else:|elif |except |finally:)/.test(J);return z.align!=null?z.align-(q?1:0):z.offset-(q?A:0)},electricInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/,closeBrackets:{triples:`'"`},lineComment:"#",fold:"indent"};return ue}),I.defineMIME("text/x-python","python");var _=function(m){return m.split(" ")};I.defineMIME("text/x-cython",{name:"python",extra_keywords:_("by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE")})})}()),Kv.exports}W_();var Xv={exports:{}},Zv;function Cp(){return Zv||(Zv=1,function(L,W){(function(I){I(mo())})(function(I){function P(g,_,m,b){if(m&&m.call){var y=m;m=null}else var y=$(g,m,"rangeFinder");typeof _=="number"&&(_=I.Pos(_,0));var T=$(g,m,"minFoldSize");function M(f){var d=y(g,_);if(!d||d.to.line-d.from.line<T)return null;if(b==="fold")return d;for(var v=g.findMarksAt(d.from),C=0;C<v.length;++C)if(v[C].__isFold){if(!f)return null;d.cleared=!0,v[C].clear()}return d}var k=M(!0);if($(g,m,"scanUp"))for(;!k&&_.line>g.firstLine();)_=I.Pos(_.line-1,0),k=M(!1);if(!(!k||k.cleared||b==="unfold")){var A=Z(g,m,k);I.on(A,"mousedown",function(f){c.clear(),I.e_preventDefault(f)});var c=g.markText(k.from,k.to,{replacedWith:A,clearOnEnter:$(g,m,"clearOnEnter"),__isFold:!0});c.on("clear",function(f,d){I.signal(g,"unfold",g,f,d)}),I.signal(g,"fold",g,k.from,k.to)}}function Z(g,_,m){var b=$(g,_,"widget");if(typeof b=="function"&&(b=b(m.from,m.to)),typeof b=="string"){var y=document.createTextNode(b);b=document.createElement("span"),b.appendChild(y),b.className="CodeMirror-foldmarker"}else b&&(b=b.cloneNode(!0));return b}I.newFoldFunction=function(g,_){return function(m,b){P(m,b,{rangeFinder:g,widget:_})}},I.defineExtension("foldCode",function(g,_,m){P(this,g,_,m)}),I.defineExtension("isFolded",function(g){for(var _=this.findMarksAt(g),m=0;m<_.length;++m)if(_[m].__isFold)return!0}),I.commands.toggleFold=function(g){g.foldCode(g.getCursor())},I.commands.fold=function(g){g.foldCode(g.getCursor(),null,"fold")},I.commands.unfold=function(g){g.foldCode(g.getCursor(),{scanUp:!1},"unfold")},I.commands.foldAll=function(g){g.operation(function(){for(var _=g.firstLine(),m=g.lastLine();_<=m;_++)g.foldCode(I.Pos(_,0),{scanUp:!1},"fold")})},I.commands.unfoldAll=function(g){g.operation(function(){for(var _=g.firstLine(),m=g.lastLine();_<=m;_++)g.foldCode(I.Pos(_,0),{scanUp:!1},"unfold")})},I.registerHelper("fold","combine",function(){var g=Array.prototype.slice.call(arguments,0);return function(_,m){for(var b=0;b<g.length;++b){var y=g[b](_,m);if(y)return y}}}),I.registerHelper("fold","auto",function(g,_){for(var m=g.getHelpers(_,"fold"),b=0;b<m.length;b++){var y=m[b](g,_);if(y)return y}});var le={rangeFinder:I.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};I.defineOption("foldOptions",null);function $(g,_,m){if(_&&_[m]!==void 0)return _[m];var b=g.options.foldOptions;return b&&b[m]!==void 0?b[m]:le[m]}I.defineExtension("foldOption",function(g,_){return $(this,g,_)})})}()),Xv.exports}Cp();var Qv={exports:{}},Vv;function q_(){return Vv||(Vv=1,function(L,W){(function(I){I(mo())})(function(I){function P(Z){return function(le,$){var g=$.line,_=le.getLine(g);function m(A){for(var c,f=$.ch,d=0;;){var v=f<=0?-1:_.lastIndexOf(A[0],f-1);if(v==-1){if(d==1)break;d=1,f=_.length;continue}if(d==1&&v<$.ch)break;if(c=le.getTokenTypeAt(I.Pos(g,v+1)),!/^(comment|string)/.test(c))return{ch:v+1,tokenType:c,pair:A};f=v-1}}function b(A){var c=1,f=le.lastLine(),d,v=A.ch,C;e:for(var x=g;x<=f;++x)for(var H=le.getLine(x),U=x==g?v:0;;){var E=H.indexOf(A.pair[0],U),N=H.indexOf(A.pair[1],U);if(E<0&&(E=H.length),N<0&&(N=H.length),U=Math.min(E,N),U==H.length)break;if(le.getTokenTypeAt(I.Pos(x,U+1))==A.tokenType){if(U==E)++c;else if(!--c){d=x,C=U;break e}}++U}return d==null||g==d?null:{from:I.Pos(g,v),to:I.Pos(d,C)}}for(var y=[],T=0;T<Z.length;T++){var M=m(Z[T]);M&&y.push(M)}y.sort(function(A,c){return A.ch-c.ch});for(var T=0;T<y.length;T++){var k=b(y[T]);if(k)return k}return null}}I.registerHelper("fold","brace",P([["{","}"],["[","]"]])),I.registerHelper("fold","brace-paren",P([["{","}"],["[","]"],["(",")"]])),I.registerHelper("fold","import",function(Z,le){function $(T){if(T<Z.firstLine()||T>Z.lastLine())return null;var M=Z.getTokenAt(I.Pos(T,1));if(/\S/.test(M.string)||(M=Z.getTokenAt(I.Pos(T,M.end+1))),M.type!="keyword"||M.string!="import")return null;for(var k=T,A=Math.min(Z.lastLine(),T+10);k<=A;++k){var c=Z.getLine(k),f=c.indexOf(";");if(f!=-1)return{startCh:M.end,end:I.Pos(k,f)}}}var g=le.line,_=$(g),m;if(!_||$(g-1)||(m=$(g-2))&&m.end.line==g-1)return null;for(var b=_.end;;){var y=$(b.line+1);if(y==null)break;b=y.end}return{from:Z.clipPos(I.Pos(g,_.startCh+1)),to:b}}),I.registerHelper("fold","include",function(Z,le){function $(y){if(y<Z.firstLine()||y>Z.lastLine())return null;var T=Z.getTokenAt(I.Pos(y,1));if(/\S/.test(T.string)||(T=Z.getTokenAt(I.Pos(y,T.end+1))),T.type=="meta"&&T.string.slice(0,8)=="#include")return T.start+8}var g=le.line,_=$(g);if(_==null||$(g-1)!=null)return null;for(var m=g;;){var b=$(m+1);if(b==null)break;++m}return{from:I.Pos(g,_+1),to:Z.clipPos(I.Pos(m))}})})}()),Qv.exports}q_();var Jv={exports:{}},$v;function G_(){return $v||($v=1,function(L,W){(function(I){I(mo(),Cp())})(function(I){I.defineOption("foldGutter",!1,function(c,f,d){d&&d!=I.Init&&(c.clearGutter(c.state.foldGutter.options.gutter),c.state.foldGutter=null,c.off("gutterClick",y),c.off("changes",M),c.off("viewportChange",k),c.off("fold",A),c.off("unfold",A),c.off("swapDoc",M),c.off("optionChange",T)),f&&(c.state.foldGutter=new Z(le(f)),b(c),c.on("gutterClick",y),c.on("changes",M),c.on("viewportChange",k),c.on("fold",A),c.on("unfold",A),c.on("swapDoc",M),c.on("optionChange",T))});var P=I.Pos;function Z(c){this.options=c,this.from=this.to=0}function le(c){return c===!0&&(c={}),c.gutter==null&&(c.gutter="CodeMirror-foldgutter"),c.indicatorOpen==null&&(c.indicatorOpen="CodeMirror-foldgutter-open"),c.indicatorFolded==null&&(c.indicatorFolded="CodeMirror-foldgutter-folded"),c}function $(c,f){for(var d=c.findMarks(P(f,0),P(f+1,0)),v=0;v<d.length;++v)if(d[v].__isFold){var C=d[v].find(-1);if(C&&C.line===f)return d[v]}}function g(c){if(typeof c=="string"){var f=document.createElement("div");return f.className=c+" CodeMirror-guttermarker-subtle",f}else return c.cloneNode(!0)}function _(c,f,d){var v=c.state.foldGutter.options,C=f-1,x=c.foldOption(v,"minFoldSize"),H=c.foldOption(v,"rangeFinder"),U=typeof v.indicatorFolded=="string"&&m(v.indicatorFolded),E=typeof v.indicatorOpen=="string"&&m(v.indicatorOpen);c.eachLine(f,d,function(N){++C;var Q=null,te=N.gutterMarkers;if(te&&(te=te[v.gutter]),$(c,C)){if(U&&te&&U.test(te.className))return;Q=g(v.indicatorFolded)}else{var X=P(C,0),ie=H&&H(c,X);if(ie&&ie.to.line-ie.from.line>=x){if(E&&te&&E.test(te.className))return;Q=g(v.indicatorOpen)}}!Q&&!te||c.setGutterMarker(N,v.gutter,Q)})}function m(c){return new RegExp("(^|\\s)"+c+"(?:$|\\s)\\s*")}function b(c){var f=c.getViewport(),d=c.state.foldGutter;d&&(c.operation(function(){_(c,f.from,f.to)}),d.from=f.from,d.to=f.to)}function y(c,f,d){var v=c.state.foldGutter;if(v){var C=v.options;if(d==C.gutter){var x=$(c,f);x?x.clear():c.foldCode(P(f,0),C)}}}function T(c,f){f=="mode"&&M(c)}function M(c){var f=c.state.foldGutter;if(f){var d=f.options;f.from=f.to=0,clearTimeout(f.changeUpdate),f.changeUpdate=setTimeout(function(){b(c)},d.foldOnChangeTimeSpan||600)}}function k(c){var f=c.state.foldGutter;if(f){var d=f.options;clearTimeout(f.changeUpdate),f.changeUpdate=setTimeout(function(){var v=c.getViewport();f.from==f.to||v.from-f.to>20||f.from-v.to>20?b(c):c.operation(function(){v.from<f.from&&(_(c,v.from,f.from),f.from=v.from),v.to>f.to&&(_(c,f.to,v.to),f.to=v.to)})},d.updateViewportTimeSpan||400)}}function A(c,f){var d=c.state.foldGutter;if(d){var v=f.line;v>=d.from&&v<d.to&&_(c,v,v+1)}}})}()),Jv.exports}G_();var ep={exports:{}},tp;function K_(){return tp||(tp=1,function(L,W){(function(I){I(mo())})(function(I){var P="CodeMirror-activeline",Z="CodeMirror-activeline-background",le="CodeMirror-activeline-gutter";I.defineOption("styleActiveLine",!1,function(b,y,T){var M=T==I.Init?!1:T;y!=M&&(M&&(b.off("beforeSelectionChange",m),$(b),delete b.state.activeLines),y&&(b.state.activeLines=[],_(b,b.listSelections()),b.on("beforeSelectionChange",m)))});function $(b){for(var y=0;y<b.state.activeLines.length;y++)b.removeLineClass(b.state.activeLines[y],"wrap",P),b.removeLineClass(b.state.activeLines[y],"background",Z),b.removeLineClass(b.state.activeLines[y],"gutter",le)}function g(b,y){if(b.length!=y.length)return!1;for(var T=0;T<b.length;T++)if(b[T]!=y[T])return!1;return!0}function _(b,y){for(var T=[],M=0;M<y.length;M++){var k=y[M],A=b.getOption("styleActiveLine");if(!(typeof A=="object"&&A.nonEmpty?k.anchor.line!=k.head.line:!k.empty())){var c=b.getLineHandleVisualStart(k.head.line);T[T.length-1]!=c&&T.push(c)}}g(b.state.activeLines,T)||b.operation(function(){$(b);for(var f=0;f<T.length;f++)b.addLineClass(T[f],"wrap",P),b.addLineClass(T[f],"background",Z),b.addLineClass(T[f],"gutter",le);b.state.activeLines=T})}function m(b,y){_(b,y.ranges)}})}()),ep.exports}K_();function Y_(){const L=st.useRef(null),W=st.useRef(null),I=st.useRef(new Map),P=st.useRef(null),Z=Qu(_=>_),le=Z.project.fileMap,$=Z.openPage.current,g=Hh();return st.useEffect(()=>{if(W.current)return;const _=Gv.fromTextArea(L.current,{mode:"python",theme:"darcula",lineNumbers:!0,styleActiveLine:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],inputStyle:"contenteditable",lineWrapping:!0});_.setSize("100%","100%"),W.current=_},[]),st.useEffect(()=>{var b;if(!W.current||!$)return;let _=I.current.get($);if(!_){const y=((b=le[$])==null?void 0:b.content)??"";_=new Gv.Doc(y,"python"),I.current.set($,_)}P.current&&(W.current.off("change",P.current),P.current=null),W.current.swapDoc(_);const m=()=>{const y=W.current.getDoc().getValue();g(U_({fileId:$,newContent:y}))};W.current.on("change",m),P.current=m},[$,le,g]),Te.jsx(Te.Fragment,{children:Te.jsx("div",{className:"flex-1 overflow-auto code-editor h-full w-full",children:Te.jsx("div",{style:{height:"100%",width:"100%"},children:Te.jsx("textarea",{ref:L,style:{display:"none"}})})})})}function X_(L){return Te.jsxs("div",{id:"terminal",className:"h-full w-full bg-black flex flex-col",children:[Te.jsxs("div",{className:"flex bg-[#2D2D2D] text-sm border-b border-[#333] shrink-0",children:[Te.jsx("div",{className:"px-3 py-1 border-r border-[#333] bg-[#1E1E1E] hover:bg-[#37373D] cursor-pointer",children:Te.jsx("span",{children:"터미널"})}),Te.jsx("div",{className:"px-3 py-1 border-r border-[#333]  hover:bg-[#37373D] cursor-pointer",children:Te.jsx("span",{children:"문제"})}),Te.jsx("div",{className:"px-3 py-1 border-r border-[#333]  hover:bg-[#37373D] cursor-pointer",children:Te.jsx("span",{children:"출력"})}),Te.jsx("div",{className:"flex-1"}),Te.jsxs("div",{className:"flex items-center px-2 gap-1",children:[Te.jsx("button",{className:"w-6 h-6 hover:bg-[#3C3C3C] rounded",children:"🗑️"}),Te.jsx("button",{className:"w-6 h-6 hover:bg-[#3C3C3C] rounded",children:"＋"})]})]}),Te.jsx("div",{ref:L.termRef,className:"flex-1 min-h-0 w-full overflow-auto",style:{background:"#000",paddingLeft:15,paddingTop:0}})]})}function Z_({onClose:L,url:W}){return Te.jsx("div",{className:"fixed inset-0 overlay flex items-center justify-center z-50",children:Te.jsxs("div",{className:"gui-window w-[800px] h-[600px] rounded flex flex-col",children:[Te.jsxs("div",{className:"gui-window-header flex items-center justify-between p-2",children:[Te.jsx("span",{children:"GUI 애플리케이션"}),Te.jsx("button",{onClick:L,className:"w-6 h-6 flex items-center justify-center text-[#D4D4D4] hover:bg-[#505050] rounded-button",children:Te.jsx("i",{className:"ri-close-line"})})]}),Te.jsxs("h1",{className:"text-xl mb-4",children:["GUI 실행중!",Te.jsx("iframe",{style:{width:"1024px",height:"700px"},src:W})]})]})})}var td={exports:{}},ip;function Q_(){return ip||(ip=1,function(L,W){(function(I,P){L.exports=P()})(self,()=>(()=>{var I={4567:function($,g,_){var m=this&&this.__decorate||function(v,C,x,H){var U,E=arguments.length,N=E<3?C:H===null?H=Object.getOwnPropertyDescriptor(C,x):H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(v,C,x,H);else for(var Q=v.length-1;Q>=0;Q--)(U=v[Q])&&(N=(E<3?U(N):E>3?U(C,x,N):U(C,x))||N);return E>3&&N&&Object.defineProperty(C,x,N),N},b=this&&this.__param||function(v,C){return function(x,H){C(x,H,v)}};Object.defineProperty(g,"__esModule",{value:!0}),g.AccessibilityManager=void 0;const y=_(9042),T=_(6114),M=_(9924),k=_(844),A=_(5596),c=_(4725),f=_(3656);let d=g.AccessibilityManager=class extends k.Disposable{constructor(v,C){super(),this._terminal=v,this._renderService=C,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let x=0;x<this._terminal.rows;x++)this._rowElements[x]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[x]);if(this._topBoundaryFocusListener=x=>this._handleBoundaryFocus(x,0),this._bottomBoundaryFocusListener=x=>this._handleBoundaryFocus(x,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new M.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(x=>this._handleResize(x.rows))),this.register(this._terminal.onRender(x=>this._refreshRows(x.start,x.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(x=>this._handleChar(x))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(x=>this._handleTab(x))),this.register(this._terminal.onKey(x=>this._handleKey(x.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new A.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,f.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,k.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(v){for(let C=0;C<v;C++)this._handleChar(" ")}_handleChar(v){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==v&&(this._charsToAnnounce+=v):this._charsToAnnounce+=v,v===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=y.tooMuchOutput)),T.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,T.isMac&&this._liveRegion.remove()}_handleKey(v){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(v)||this._charsToConsume.push(v)}_refreshRows(v,C){this._liveRegionDebouncer.refresh(v,C,this._terminal.rows)}_renderRows(v,C){const x=this._terminal.buffer,H=x.lines.length.toString();for(let U=v;U<=C;U++){const E=x.translateBufferLineToString(x.ydisp+U,!0),N=(x.ydisp+U+1).toString(),Q=this._rowElements[U];Q&&(E.length===0?Q.innerText=" ":Q.textContent=E,Q.setAttribute("aria-posinset",N),Q.setAttribute("aria-setsize",H))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(v,C){const x=v.target,H=this._rowElements[C===0?1:this._rowElements.length-2];if(x.getAttribute("aria-posinset")===(C===0?"1":`${this._terminal.buffer.lines.length}`)||v.relatedTarget!==H)return;let U,E;if(C===0?(U=x,E=this._rowElements.pop(),this._rowContainer.removeChild(E)):(U=this._rowElements.shift(),E=x,this._rowContainer.removeChild(U)),U.removeEventListener("focus",this._topBoundaryFocusListener),E.removeEventListener("focus",this._bottomBoundaryFocusListener),C===0){const N=this._createAccessibilityTreeNode();this._rowElements.unshift(N),this._rowContainer.insertAdjacentElement("afterbegin",N)}else{const N=this._createAccessibilityTreeNode();this._rowElements.push(N),this._rowContainer.appendChild(N)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(C===0?-1:1),this._rowElements[C===0?1:this._rowElements.length-2].focus(),v.preventDefault(),v.stopImmediatePropagation()}_handleResize(v){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let C=this._rowContainer.children.length;C<this._terminal.rows;C++)this._rowElements[C]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[C]);for(;this._rowElements.length>v;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const v=document.createElement("div");return v.setAttribute("role","listitem"),v.tabIndex=-1,this._refreshRowDimensions(v),v}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let v=0;v<this._terminal.rows;v++)this._refreshRowDimensions(this._rowElements[v])}}_refreshRowDimensions(v){v.style.height=`${this._renderService.dimensions.css.cell.height}px`}};g.AccessibilityManager=d=m([b(1,c.IRenderService)],d)},3614:($,g)=>{function _(T){return T.replace(/\r?\n/g,"\r")}function m(T,M){return M?"\x1B[200~"+T+"\x1B[201~":T}function b(T,M,k,A){T=m(T=_(T),k.decPrivateModes.bracketedPasteMode&&A.rawOptions.ignoreBracketedPasteMode!==!0),k.triggerDataEvent(T,!0),M.value=""}function y(T,M,k){const A=k.getBoundingClientRect(),c=T.clientX-A.left-10,f=T.clientY-A.top-10;M.style.width="20px",M.style.height="20px",M.style.left=`${c}px`,M.style.top=`${f}px`,M.style.zIndex="1000",M.focus()}Object.defineProperty(g,"__esModule",{value:!0}),g.rightClickHandler=g.moveTextAreaUnderMouseCursor=g.paste=g.handlePasteEvent=g.copyHandler=g.bracketTextForPaste=g.prepareTextForTerminal=void 0,g.prepareTextForTerminal=_,g.bracketTextForPaste=m,g.copyHandler=function(T,M){T.clipboardData&&T.clipboardData.setData("text/plain",M.selectionText),T.preventDefault()},g.handlePasteEvent=function(T,M,k,A){T.stopPropagation(),T.clipboardData&&b(T.clipboardData.getData("text/plain"),M,k,A)},g.paste=b,g.moveTextAreaUnderMouseCursor=y,g.rightClickHandler=function(T,M,k,A,c){y(T,M,k),c&&A.rightClickSelect(T),M.value=A.selectionText,M.select()}},7239:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.ColorContrastCache=void 0;const m=_(1505);g.ColorContrastCache=class{constructor(){this._color=new m.TwoKeyMap,this._css=new m.TwoKeyMap}setCss(b,y,T){this._css.set(b,y,T)}getCss(b,y){return this._css.get(b,y)}setColor(b,y,T){this._color.set(b,y,T)}getColor(b,y){return this._color.get(b,y)}clear(){this._color.clear(),this._css.clear()}}},3656:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.addDisposableDomListener=void 0,g.addDisposableDomListener=function(_,m,b,y){_.addEventListener(m,b,y);let T=!1;return{dispose:()=>{T||(T=!0,_.removeEventListener(m,b,y))}}}},6465:function($,g,_){var m=this&&this.__decorate||function(c,f,d,v){var C,x=arguments.length,H=x<3?f:v===null?v=Object.getOwnPropertyDescriptor(f,d):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(c,f,d,v);else for(var U=c.length-1;U>=0;U--)(C=c[U])&&(H=(x<3?C(H):x>3?C(f,d,H):C(f,d))||H);return x>3&&H&&Object.defineProperty(f,d,H),H},b=this&&this.__param||function(c,f){return function(d,v){f(d,v,c)}};Object.defineProperty(g,"__esModule",{value:!0}),g.Linkifier2=void 0;const y=_(3656),T=_(8460),M=_(844),k=_(2585);let A=g.Linkifier2=class extends M.Disposable{get currentLink(){return this._currentLink}constructor(c){super(),this._bufferService=c,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new T.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new T.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,M.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,M.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(c){return this._linkProviders.push(c),{dispose:()=>{const f=this._linkProviders.indexOf(c);f!==-1&&this._linkProviders.splice(f,1)}}}attachToDom(c,f,d){this._element=c,this._mouseService=f,this._renderService=d,this.register((0,y.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,y.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,y.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,y.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(c){if(this._lastMouseEvent=c,!this._element||!this._mouseService)return;const f=this._positionFromMouseEvent(c,this._element,this._mouseService);if(!f)return;this._isMouseOut=!1;const d=c.composedPath();for(let v=0;v<d.length;v++){const C=d[v];if(C.classList.contains("xterm"))break;if(C.classList.contains("xterm-hover"))return}this._lastBufferCell&&f.x===this._lastBufferCell.x&&f.y===this._lastBufferCell.y||(this._handleHover(f),this._lastBufferCell=f)}_handleHover(c){if(this._activeLine!==c.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(c,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,c)||(this._clearCurrentLink(),this._askForLink(c,!0))}_askForLink(c,f){var d,v;this._activeProviderReplies&&f||((d=this._activeProviderReplies)===null||d===void 0||d.forEach(x=>{x==null||x.forEach(H=>{H.link.dispose&&H.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=c.y);let C=!1;for(const[x,H]of this._linkProviders.entries())f?!((v=this._activeProviderReplies)===null||v===void 0)&&v.get(x)&&(C=this._checkLinkProviderResult(x,c,C)):H.provideLinks(c.y,U=>{var E,N;if(this._isMouseOut)return;const Q=U==null?void 0:U.map(te=>({link:te}));(E=this._activeProviderReplies)===null||E===void 0||E.set(x,Q),C=this._checkLinkProviderResult(x,c,C),((N=this._activeProviderReplies)===null||N===void 0?void 0:N.size)===this._linkProviders.length&&this._removeIntersectingLinks(c.y,this._activeProviderReplies)})}_removeIntersectingLinks(c,f){const d=new Set;for(let v=0;v<f.size;v++){const C=f.get(v);if(C)for(let x=0;x<C.length;x++){const H=C[x],U=H.link.range.start.y<c?0:H.link.range.start.x,E=H.link.range.end.y>c?this._bufferService.cols:H.link.range.end.x;for(let N=U;N<=E;N++){if(d.has(N)){C.splice(x--,1);break}d.add(N)}}}}_checkLinkProviderResult(c,f,d){var v;if(!this._activeProviderReplies)return d;const C=this._activeProviderReplies.get(c);let x=!1;for(let H=0;H<c;H++)this._activeProviderReplies.has(H)&&!this._activeProviderReplies.get(H)||(x=!0);if(!x&&C){const H=C.find(U=>this._linkAtPosition(U.link,f));H&&(d=!0,this._handleNewLink(H))}if(this._activeProviderReplies.size===this._linkProviders.length&&!d)for(let H=0;H<this._activeProviderReplies.size;H++){const U=(v=this._activeProviderReplies.get(H))===null||v===void 0?void 0:v.find(E=>this._linkAtPosition(E.link,f));if(U){d=!0,this._handleNewLink(U);break}}return d}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(c){if(!this._element||!this._mouseService||!this._currentLink)return;const f=this._positionFromMouseEvent(c,this._element,this._mouseService);f&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,f)&&this._currentLink.link.activate(c,this._currentLink.link.text)}_clearCurrentLink(c,f){this._element&&this._currentLink&&this._lastMouseEvent&&(!c||!f||this._currentLink.link.range.start.y>=c&&this._currentLink.link.range.end.y<=f)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,M.disposeArray)(this._linkCacheDisposables))}_handleNewLink(c){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const f=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);f&&this._linkAtPosition(c.link,f)&&(this._currentLink=c,this._currentLink.state={decorations:{underline:c.link.decorations===void 0||c.link.decorations.underline,pointerCursor:c.link.decorations===void 0||c.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,c.link,this._lastMouseEvent),c.link.decorations={},Object.defineProperties(c.link.decorations,{pointerCursor:{get:()=>{var d,v;return(v=(d=this._currentLink)===null||d===void 0?void 0:d.state)===null||v===void 0?void 0:v.decorations.pointerCursor},set:d=>{var v,C;!((v=this._currentLink)===null||v===void 0)&&v.state&&this._currentLink.state.decorations.pointerCursor!==d&&(this._currentLink.state.decorations.pointerCursor=d,this._currentLink.state.isHovered&&((C=this._element)===null||C===void 0||C.classList.toggle("xterm-cursor-pointer",d)))}},underline:{get:()=>{var d,v;return(v=(d=this._currentLink)===null||d===void 0?void 0:d.state)===null||v===void 0?void 0:v.decorations.underline},set:d=>{var v,C,x;!((v=this._currentLink)===null||v===void 0)&&v.state&&((x=(C=this._currentLink)===null||C===void 0?void 0:C.state)===null||x===void 0?void 0:x.decorations.underline)!==d&&(this._currentLink.state.decorations.underline=d,this._currentLink.state.isHovered&&this._fireUnderlineEvent(c.link,d))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(d=>{if(!this._currentLink)return;const v=d.start===0?0:d.start+1+this._bufferService.buffer.ydisp,C=this._bufferService.buffer.ydisp+1+d.end;if(this._currentLink.link.range.start.y>=v&&this._currentLink.link.range.end.y<=C&&(this._clearCurrentLink(v,C),this._lastMouseEvent&&this._element)){const x=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);x&&this._askForLink(x,!1)}})))}_linkHover(c,f,d){var v;!((v=this._currentLink)===null||v===void 0)&&v.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(f,!0),this._currentLink.state.decorations.pointerCursor&&c.classList.add("xterm-cursor-pointer")),f.hover&&f.hover(d,f.text)}_fireUnderlineEvent(c,f){const d=c.range,v=this._bufferService.buffer.ydisp,C=this._createLinkUnderlineEvent(d.start.x-1,d.start.y-v-1,d.end.x,d.end.y-v-1,void 0);(f?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(C)}_linkLeave(c,f,d){var v;!((v=this._currentLink)===null||v===void 0)&&v.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(f,!1),this._currentLink.state.decorations.pointerCursor&&c.classList.remove("xterm-cursor-pointer")),f.leave&&f.leave(d,f.text)}_linkAtPosition(c,f){const d=c.range.start.y*this._bufferService.cols+c.range.start.x,v=c.range.end.y*this._bufferService.cols+c.range.end.x,C=f.y*this._bufferService.cols+f.x;return d<=C&&C<=v}_positionFromMouseEvent(c,f,d){const v=d.getCoords(c,f,this._bufferService.cols,this._bufferService.rows);if(v)return{x:v[0],y:v[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(c,f,d,v,C){return{x1:c,y1:f,x2:d,y2:v,cols:this._bufferService.cols,fg:C}}};g.Linkifier2=A=m([b(0,k.IBufferService)],A)},9042:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.tooMuchOutput=g.promptLabel=void 0,g.promptLabel="Terminal input",g.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function($,g,_){var m=this&&this.__decorate||function(A,c,f,d){var v,C=arguments.length,x=C<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(A,c,f,d);else for(var H=A.length-1;H>=0;H--)(v=A[H])&&(x=(C<3?v(x):C>3?v(c,f,x):v(c,f))||x);return C>3&&x&&Object.defineProperty(c,f,x),x},b=this&&this.__param||function(A,c){return function(f,d){c(f,d,A)}};Object.defineProperty(g,"__esModule",{value:!0}),g.OscLinkProvider=void 0;const y=_(511),T=_(2585);let M=g.OscLinkProvider=class{constructor(A,c,f){this._bufferService=A,this._optionsService=c,this._oscLinkService=f}provideLinks(A,c){var f;const d=this._bufferService.buffer.lines.get(A-1);if(!d)return void c(void 0);const v=[],C=this._optionsService.rawOptions.linkHandler,x=new y.CellData,H=d.getTrimmedLength();let U=-1,E=-1,N=!1;for(let Q=0;Q<H;Q++)if(E!==-1||d.hasContent(Q)){if(d.loadCell(Q,x),x.hasExtendedAttrs()&&x.extended.urlId){if(E===-1){E=Q,U=x.extended.urlId;continue}N=x.extended.urlId!==U}else E!==-1&&(N=!0);if(N||E!==-1&&Q===H-1){const te=(f=this._oscLinkService.getLinkData(U))===null||f===void 0?void 0:f.uri;if(te){const X={start:{x:E+1,y:A},end:{x:Q+(N||Q!==H-1?0:1),y:A}};let ie=!1;if(!(C!=null&&C.allowNonHttpProtocols))try{const _e=new URL(te);["http:","https:"].includes(_e.protocol)||(ie=!0)}catch{ie=!0}ie||v.push({text:te,range:X,activate:(_e,ue)=>C?C.activate(_e,ue,X):k(0,ue),hover:(_e,ue)=>{var K;return(K=C==null?void 0:C.hover)===null||K===void 0?void 0:K.call(C,_e,ue,X)},leave:(_e,ue)=>{var K;return(K=C==null?void 0:C.leave)===null||K===void 0?void 0:K.call(C,_e,ue,X)}})}N=!1,x.hasExtendedAttrs()&&x.extended.urlId?(E=Q,U=x.extended.urlId):(E=-1,U=-1)}}c(v)}};function k(A,c){if(confirm(`Do you want to navigate to ${c}?

WARNING: This link could potentially be dangerous`)){const f=window.open();if(f){try{f.opener=null}catch{}f.location.href=c}else console.warn("Opening link blocked as opener could not be cleared")}}g.OscLinkProvider=M=m([b(0,T.IBufferService),b(1,T.IOptionsService),b(2,T.IOscLinkService)],M)},6193:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.RenderDebouncer=void 0,g.RenderDebouncer=class{constructor(_,m){this._parentWindow=_,this._renderCallback=m,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(_){return this._refreshCallbacks.push(_),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(_,m,b){this._rowCount=b,_=_!==void 0?_:0,m=m!==void 0?m:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,_):_,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,m):m,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const _=Math.max(this._rowStart,0),m=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(_,m),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const _ of this._refreshCallbacks)_(0);this._refreshCallbacks=[]}}},5596:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.ScreenDprMonitor=void 0;const m=_(844);class b extends m.Disposable{constructor(T){super(),this._parentWindow=T,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,m.toDisposable)(()=>{this.clearListener()}))}setListener(T){this._listener&&this.clearListener(),this._listener=T,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var T;this._outerListener&&((T=this._resolutionMediaMatchList)===null||T===void 0||T.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}g.ScreenDprMonitor=b},3236:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.Terminal=void 0;const m=_(3614),b=_(3656),y=_(6465),T=_(9042),M=_(3730),k=_(1680),A=_(3107),c=_(5744),f=_(2950),d=_(1296),v=_(428),C=_(4269),x=_(5114),H=_(8934),U=_(3230),E=_(9312),N=_(4725),Q=_(6731),te=_(8055),X=_(8969),ie=_(8460),_e=_(844),ue=_(6114),K=_(8437),J=_(2584),z=_(7399),q=_(5941),O=_(9074),G=_(2585),se=_(5435),fe=_(4567),we=typeof window<"u"?window.document:null;class De extends X.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(j={}){super(j),this.browser=ue,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new _e.MutableDisposable),this._onCursorMove=this.register(new ie.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new ie.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new ie.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new ie.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new ie.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new ie.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new ie.EventEmitter),this._onBlur=this.register(new ie.EventEmitter),this._onA11yCharEmitter=this.register(new ie.EventEmitter),this._onA11yTabEmitter=this.register(new ie.EventEmitter),this._onWillOpen=this.register(new ie.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(y.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(M.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(O.DecorationService),this._instantiationService.setService(G.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((oe,me)=>this.refresh(oe,me))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(oe=>this._reportWindowsOptions(oe))),this.register(this._inputHandler.onColor(oe=>this._handleColorEvent(oe))),this.register((0,ie.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,ie.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,ie.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,ie.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(oe=>this._afterResize(oe.cols,oe.rows))),this.register((0,_e.toDisposable)(()=>{var oe,me;this._customKeyEventHandler=void 0,(me=(oe=this.element)===null||oe===void 0?void 0:oe.parentNode)===null||me===void 0||me.removeChild(this.element)}))}_handleColorEvent(j){if(this._themeService)for(const oe of j){let me,ye="";switch(oe.index){case 256:me="foreground",ye="10";break;case 257:me="background",ye="11";break;case 258:me="cursor",ye="12";break;default:me="ansi",ye="4;"+oe.index}switch(oe.type){case 0:const Ne=te.color.toColorRGB(me==="ansi"?this._themeService.colors.ansi[oe.index]:this._themeService.colors[me]);this.coreService.triggerDataEvent(`${J.C0.ESC}]${ye};${(0,q.toRgbString)(Ne)}${J.C1_ESCAPED.ST}`);break;case 1:if(me==="ansi")this._themeService.modifyColors(Oe=>Oe.ansi[oe.index]=te.rgba.toColor(...oe.color));else{const Oe=me;this._themeService.modifyColors($e=>$e[Oe]=te.rgba.toColor(...oe.color))}break;case 2:this._themeService.restoreColor(oe.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(j){j?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(fe.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(j){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(J.C0.ESC+"[I"),this.updateCursorStyle(j),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var j;return(j=this.textarea)===null||j===void 0?void 0:j.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(J.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const j=this.buffer.ybase+this.buffer.y,oe=this.buffer.lines.get(j);if(!oe)return;const me=Math.min(this.buffer.x,this.cols-1),ye=this._renderService.dimensions.css.cell.height,Ne=oe.getWidth(me),Oe=this._renderService.dimensions.css.cell.width*Ne,$e=this.buffer.y*this._renderService.dimensions.css.cell.height,vt=me*this._renderService.dimensions.css.cell.width;this.textarea.style.left=vt+"px",this.textarea.style.top=$e+"px",this.textarea.style.width=Oe+"px",this.textarea.style.height=ye+"px",this.textarea.style.lineHeight=ye+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,b.addDisposableDomListener)(this.element,"copy",oe=>{this.hasSelection()&&(0,m.copyHandler)(oe,this._selectionService)}));const j=oe=>(0,m.handlePasteEvent)(oe,this.textarea,this.coreService,this.optionsService);this.register((0,b.addDisposableDomListener)(this.textarea,"paste",j)),this.register((0,b.addDisposableDomListener)(this.element,"paste",j)),ue.isFirefox?this.register((0,b.addDisposableDomListener)(this.element,"mousedown",oe=>{oe.button===2&&(0,m.rightClickHandler)(oe,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,b.addDisposableDomListener)(this.element,"contextmenu",oe=>{(0,m.rightClickHandler)(oe,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),ue.isLinux&&this.register((0,b.addDisposableDomListener)(this.element,"auxclick",oe=>{oe.button===1&&(0,m.moveTextAreaUnderMouseCursor)(oe,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,b.addDisposableDomListener)(this.textarea,"keyup",j=>this._keyUp(j),!0)),this.register((0,b.addDisposableDomListener)(this.textarea,"keydown",j=>this._keyDown(j),!0)),this.register((0,b.addDisposableDomListener)(this.textarea,"keypress",j=>this._keyPress(j),!0)),this.register((0,b.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,b.addDisposableDomListener)(this.textarea,"compositionupdate",j=>this._compositionHelper.compositionupdate(j))),this.register((0,b.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,b.addDisposableDomListener)(this.textarea,"input",j=>this._inputEvent(j),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(j){var oe;if(!j)throw new Error("Terminal requires a parent element.");j.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=j.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),j.appendChild(this.element);const me=we.createDocumentFragment();this._viewportElement=we.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),me.appendChild(this._viewportElement),this._viewportScrollArea=we.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=we.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=we.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),me.appendChild(this.screenElement),this.textarea=we.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",T.promptLabel),ue.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(x.CoreBrowserService,this.textarea,(oe=this._document.defaultView)!==null&&oe!==void 0?oe:window),this._instantiationService.setService(N.ICoreBrowserService,this._coreBrowserService),this.register((0,b.addDisposableDomListener)(this.textarea,"focus",ye=>this._handleTextAreaFocus(ye))),this.register((0,b.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(v.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(N.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(Q.ThemeService),this._instantiationService.setService(N.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(C.CharacterJoinerService),this._instantiationService.setService(N.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(U.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(N.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(ye=>this._onRender.fire(ye))),this.onResize(ye=>this._renderService.resize(ye.cols,ye.rows)),this._compositionView=we.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(f.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(me);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(H.MouseService),this._instantiationService.setService(N.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(k.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(ye=>this.scrollLines(ye.amount,ye.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(E.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(N.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(ye=>this.scrollLines(ye.amount,ye.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(ye=>this._renderService.handleSelectionChanged(ye.start,ye.end,ye.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(ye=>{this.textarea.value=ye,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(ye=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,b.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(A.BufferDecorationRenderer,this.screenElement)),this.register((0,b.addDisposableDomListener)(this.element,"mousedown",ye=>this._selectionService.handleMouseDown(ye))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(fe.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",ye=>this._handleScreenReaderModeOptionChange(ye))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(c.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",ye=>{!this._overviewRulerRenderer&&ye&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(c.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(d.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const j=this,oe=this.element;function me(Oe){const $e=j._mouseService.getMouseReportCoords(Oe,j.screenElement);if(!$e)return!1;let vt,ei;switch(Oe.overrideType||Oe.type){case"mousemove":ei=32,Oe.buttons===void 0?(vt=3,Oe.button!==void 0&&(vt=Oe.button<3?Oe.button:3)):vt=1&Oe.buttons?0:4&Oe.buttons?1:2&Oe.buttons?2:3;break;case"mouseup":ei=0,vt=Oe.button<3?Oe.button:3;break;case"mousedown":ei=1,vt=Oe.button<3?Oe.button:3;break;case"wheel":if(j.viewport.getLinesScrolled(Oe)===0)return!1;ei=Oe.deltaY<0?0:1,vt=4;break;default:return!1}return!(ei===void 0||vt===void 0||vt>4)&&j.coreMouseService.triggerMouseEvent({col:$e.col,row:$e.row,x:$e.x,y:$e.y,button:vt,action:ei,ctrl:Oe.ctrlKey,alt:Oe.altKey,shift:Oe.shiftKey})}const ye={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Ne={mouseup:Oe=>(me(Oe),Oe.buttons||(this._document.removeEventListener("mouseup",ye.mouseup),ye.mousedrag&&this._document.removeEventListener("mousemove",ye.mousedrag)),this.cancel(Oe)),wheel:Oe=>(me(Oe),this.cancel(Oe,!0)),mousedrag:Oe=>{Oe.buttons&&me(Oe)},mousemove:Oe=>{Oe.buttons||me(Oe)}};this.register(this.coreMouseService.onProtocolChange(Oe=>{Oe?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(Oe)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&Oe?ye.mousemove||(oe.addEventListener("mousemove",Ne.mousemove),ye.mousemove=Ne.mousemove):(oe.removeEventListener("mousemove",ye.mousemove),ye.mousemove=null),16&Oe?ye.wheel||(oe.addEventListener("wheel",Ne.wheel,{passive:!1}),ye.wheel=Ne.wheel):(oe.removeEventListener("wheel",ye.wheel),ye.wheel=null),2&Oe?ye.mouseup||(oe.addEventListener("mouseup",Ne.mouseup),ye.mouseup=Ne.mouseup):(this._document.removeEventListener("mouseup",ye.mouseup),oe.removeEventListener("mouseup",ye.mouseup),ye.mouseup=null),4&Oe?ye.mousedrag||(ye.mousedrag=Ne.mousedrag):(this._document.removeEventListener("mousemove",ye.mousedrag),ye.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,b.addDisposableDomListener)(oe,"mousedown",Oe=>{if(Oe.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(Oe))return me(Oe),ye.mouseup&&this._document.addEventListener("mouseup",ye.mouseup),ye.mousedrag&&this._document.addEventListener("mousemove",ye.mousedrag),this.cancel(Oe)})),this.register((0,b.addDisposableDomListener)(oe,"wheel",Oe=>{if(!ye.wheel){if(!this.buffer.hasScrollback){const $e=this.viewport.getLinesScrolled(Oe);if($e===0)return;const vt=J.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(Oe.deltaY<0?"A":"B");let ei="";for(let Ki=0;Ki<Math.abs($e);Ki++)ei+=vt;return this.coreService.triggerDataEvent(ei,!0),this.cancel(Oe,!0)}return this.viewport.handleWheel(Oe)?this.cancel(Oe):void 0}},{passive:!1})),this.register((0,b.addDisposableDomListener)(oe,"touchstart",Oe=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(Oe),this.cancel(Oe)},{passive:!0})),this.register((0,b.addDisposableDomListener)(oe,"touchmove",Oe=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(Oe)?void 0:this.cancel(Oe)},{passive:!1}))}refresh(j,oe){var me;(me=this._renderService)===null||me===void 0||me.refreshRows(j,oe)}updateCursorStyle(j){var oe;!((oe=this._selectionService)===null||oe===void 0)&&oe.shouldColumnSelect(j)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(j,oe,me=0){var ye;me===1?(super.scrollLines(j,oe,me),this.refresh(0,this.rows-1)):(ye=this.viewport)===null||ye===void 0||ye.scrollLines(j)}paste(j){(0,m.paste)(j,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(j){this._customKeyEventHandler=j}registerLinkProvider(j){return this.linkifier2.registerLinkProvider(j)}registerCharacterJoiner(j){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const oe=this._characterJoinerService.register(j);return this.refresh(0,this.rows-1),oe}deregisterCharacterJoiner(j){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(j)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(j){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+j)}registerDecoration(j){return this._decorationService.registerDecoration(j)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(j,oe,me){this._selectionService.setSelection(j,oe,me)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var j;(j=this._selectionService)===null||j===void 0||j.clearSelection()}selectAll(){var j;(j=this._selectionService)===null||j===void 0||j.selectAll()}selectLines(j,oe){var me;(me=this._selectionService)===null||me===void 0||me.selectLines(j,oe)}_keyDown(j){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(j)===!1)return!1;const oe=this.browser.isMac&&this.options.macOptionIsMeta&&j.altKey;if(!oe&&!this._compositionHelper.keydown(j))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;oe||j.key!=="Dead"&&j.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const me=(0,z.evaluateKeyboardEvent)(j,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(j),me.type===3||me.type===2){const ye=this.rows-1;return this.scrollLines(me.type===2?-ye:ye),this.cancel(j,!0)}return me.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,j)||(me.cancel&&this.cancel(j,!0),!me.key||!!(j.key&&!j.ctrlKey&&!j.altKey&&!j.metaKey&&j.key.length===1&&j.key.charCodeAt(0)>=65&&j.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(me.key!==J.C0.ETX&&me.key!==J.C0.CR||(this.textarea.value=""),this._onKey.fire({key:me.key,domEvent:j}),this._showCursor(),this.coreService.triggerDataEvent(me.key,!0),!this.optionsService.rawOptions.screenReaderMode||j.altKey||j.ctrlKey?this.cancel(j,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(j,oe){const me=j.isMac&&!this.options.macOptionIsMeta&&oe.altKey&&!oe.ctrlKey&&!oe.metaKey||j.isWindows&&oe.altKey&&oe.ctrlKey&&!oe.metaKey||j.isWindows&&oe.getModifierState("AltGraph");return oe.type==="keypress"?me:me&&(!oe.keyCode||oe.keyCode>47)}_keyUp(j){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(j)===!1||(function(oe){return oe.keyCode===16||oe.keyCode===17||oe.keyCode===18}(j)||this.focus(),this.updateCursorStyle(j),this._keyPressHandled=!1)}_keyPress(j){let oe;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(j)===!1)return!1;if(this.cancel(j),j.charCode)oe=j.charCode;else if(j.which===null||j.which===void 0)oe=j.keyCode;else{if(j.which===0||j.charCode===0)return!1;oe=j.which}return!(!oe||(j.altKey||j.ctrlKey||j.metaKey)&&!this._isThirdLevelShift(this.browser,j)||(oe=String.fromCharCode(oe),this._onKey.fire({key:oe,domEvent:j}),this._showCursor(),this.coreService.triggerDataEvent(oe,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(j){if(j.data&&j.inputType==="insertText"&&(!j.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const oe=j.data;return this.coreService.triggerDataEvent(oe,!0),this.cancel(j),!0}return!1}resize(j,oe){j!==this.cols||oe!==this.rows?super.resize(j,oe):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(j,oe){var me,ye;(me=this._charSizeService)===null||me===void 0||me.measure(),(ye=this.viewport)===null||ye===void 0||ye.syncScrollArea(!0)}clear(){var j;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let oe=1;oe<this.rows;oe++)this.buffer.lines.push(this.buffer.getBlankLine(K.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(j=this.viewport)===null||j===void 0||j.reset(),this.refresh(0,this.rows-1)}}reset(){var j,oe;this.options.rows=this.rows,this.options.cols=this.cols;const me=this._customKeyEventHandler;this._setup(),super.reset(),(j=this._selectionService)===null||j===void 0||j.reset(),this._decorationService.reset(),(oe=this.viewport)===null||oe===void 0||oe.reset(),this._customKeyEventHandler=me,this.refresh(0,this.rows-1)}clearTextureAtlas(){var j;(j=this._renderService)===null||j===void 0||j.clearTextureAtlas()}_reportFocus(){var j;!((j=this.element)===null||j===void 0)&&j.classList.contains("focus")?this.coreService.triggerDataEvent(J.C0.ESC+"[I"):this.coreService.triggerDataEvent(J.C0.ESC+"[O")}_reportWindowsOptions(j){if(this._renderService)switch(j){case se.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const oe=this._renderService.dimensions.css.canvas.width.toFixed(0),me=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${J.C0.ESC}[4;${me};${oe}t`);break;case se.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const ye=this._renderService.dimensions.css.cell.width.toFixed(0),Ne=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${J.C0.ESC}[6;${Ne};${ye}t`)}}cancel(j,oe){if(this.options.cancelEvents||oe)return j.preventDefault(),j.stopPropagation(),!1}}g.Terminal=De},9924:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.TimeBasedDebouncer=void 0,g.TimeBasedDebouncer=class{constructor(_,m=1e3){this._renderCallback=_,this._debounceThresholdMS=m,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(_,m,b){this._rowCount=b,_=_!==void 0?_:0,m=m!==void 0?m:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,_):_,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,m):m;const y=Date.now();if(y-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=y,this._innerRefresh();else if(!this._additionalRefreshRequested){const T=y-this._lastRefreshMs,M=this._debounceThresholdMS-T;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},M)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const _=Math.max(this._rowStart,0),m=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(_,m)}}},1680:function($,g,_){var m=this&&this.__decorate||function(f,d,v,C){var x,H=arguments.length,U=H<3?d:C===null?C=Object.getOwnPropertyDescriptor(d,v):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(f,d,v,C);else for(var E=f.length-1;E>=0;E--)(x=f[E])&&(U=(H<3?x(U):H>3?x(d,v,U):x(d,v))||U);return H>3&&U&&Object.defineProperty(d,v,U),U},b=this&&this.__param||function(f,d){return function(v,C){d(v,C,f)}};Object.defineProperty(g,"__esModule",{value:!0}),g.Viewport=void 0;const y=_(3656),T=_(4725),M=_(8460),k=_(844),A=_(2585);let c=g.Viewport=class extends k.Disposable{constructor(f,d,v,C,x,H,U,E){super(),this._viewportElement=f,this._scrollArea=d,this._bufferService=v,this._optionsService=C,this._charSizeService=x,this._renderService=H,this._coreBrowserService=U,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new M.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,y.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(N=>this._activeBuffer=N.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(N=>this._renderDimensions=N)),this._handleThemeChange(E.colors),this.register(E.onChangeColors(N=>this._handleThemeChange(N))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(f){this._viewportElement.style.backgroundColor=f.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(f){if(f)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const d=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==d&&(this._lastRecordedBufferHeight=d,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const f=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==f&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=f),this._refreshAnimationFrame=null}syncScrollArea(f=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(f);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(f)}_handleScroll(f){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const d=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:d,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const f=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(f*(this._smoothScrollState.target-this._smoothScrollState.origin)),f<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(f,d){const v=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(d<0&&this._viewportElement.scrollTop!==0||d>0&&v<this._lastRecordedBufferHeight)||(f.cancelable&&f.preventDefault(),!1)}handleWheel(f){const d=this._getPixelsScrolled(f);return d!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+d:this._smoothScrollState.target+=d,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=d,this._bubbleScroll(f,d))}scrollLines(f){if(f!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const d=f*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+d,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:f,suppressScrollEvent:!1})}_getPixelsScrolled(f){if(f.deltaY===0||f.shiftKey)return 0;let d=this._applyScrollModifier(f.deltaY,f);return f.deltaMode===WheelEvent.DOM_DELTA_LINE?d*=this._currentRowHeight:f.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(d*=this._currentRowHeight*this._bufferService.rows),d}getBufferElements(f,d){var v;let C,x="";const H=[],U=d??this._bufferService.buffer.lines.length,E=this._bufferService.buffer.lines;for(let N=f;N<U;N++){const Q=E.get(N);if(!Q)continue;const te=(v=E.get(N+1))===null||v===void 0?void 0:v.isWrapped;if(x+=Q.translateToString(!te),!te||N===E.length-1){const X=document.createElement("div");X.textContent=x,H.push(X),x.length>0&&(C=X),x=""}}return{bufferElements:H,cursorElement:C}}getLinesScrolled(f){if(f.deltaY===0||f.shiftKey)return 0;let d=this._applyScrollModifier(f.deltaY,f);return f.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(d/=this._currentRowHeight+0,this._wheelPartialScroll+=d,d=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):f.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(d*=this._bufferService.rows),d}_applyScrollModifier(f,d){const v=this._optionsService.rawOptions.fastScrollModifier;return v==="alt"&&d.altKey||v==="ctrl"&&d.ctrlKey||v==="shift"&&d.shiftKey?f*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:f*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(f){this._lastTouchY=f.touches[0].pageY}handleTouchMove(f){const d=this._lastTouchY-f.touches[0].pageY;return this._lastTouchY=f.touches[0].pageY,d!==0&&(this._viewportElement.scrollTop+=d,this._bubbleScroll(f,d))}};g.Viewport=c=m([b(2,A.IBufferService),b(3,A.IOptionsService),b(4,T.ICharSizeService),b(5,T.IRenderService),b(6,T.ICoreBrowserService),b(7,T.IThemeService)],c)},3107:function($,g,_){var m=this&&this.__decorate||function(c,f,d,v){var C,x=arguments.length,H=x<3?f:v===null?v=Object.getOwnPropertyDescriptor(f,d):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(c,f,d,v);else for(var U=c.length-1;U>=0;U--)(C=c[U])&&(H=(x<3?C(H):x>3?C(f,d,H):C(f,d))||H);return x>3&&H&&Object.defineProperty(f,d,H),H},b=this&&this.__param||function(c,f){return function(d,v){f(d,v,c)}};Object.defineProperty(g,"__esModule",{value:!0}),g.BufferDecorationRenderer=void 0;const y=_(3656),T=_(4725),M=_(844),k=_(2585);let A=g.BufferDecorationRenderer=class extends M.Disposable{constructor(c,f,d,v){super(),this._screenElement=c,this._bufferService=f,this._decorationService=d,this._renderService=v,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,y.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(C=>this._removeDecoration(C))),this.register((0,M.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const c of this._decorationService.decorations)this._renderDecoration(c);this._dimensionsChanged=!1}_renderDecoration(c){this._refreshStyle(c),this._dimensionsChanged&&this._refreshXPosition(c)}_createElement(c){var f,d;const v=document.createElement("div");v.classList.add("xterm-decoration"),v.classList.toggle("xterm-decoration-top-layer",((f=c==null?void 0:c.options)===null||f===void 0?void 0:f.layer)==="top"),v.style.width=`${Math.round((c.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,v.style.height=(c.options.height||1)*this._renderService.dimensions.css.cell.height+"px",v.style.top=(c.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",v.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const C=(d=c.options.x)!==null&&d!==void 0?d:0;return C&&C>this._bufferService.cols&&(v.style.display="none"),this._refreshXPosition(c,v),v}_refreshStyle(c){const f=c.marker.line-this._bufferService.buffers.active.ydisp;if(f<0||f>=this._bufferService.rows)c.element&&(c.element.style.display="none",c.onRenderEmitter.fire(c.element));else{let d=this._decorationElements.get(c);d||(d=this._createElement(c),c.element=d,this._decorationElements.set(c,d),this._container.appendChild(d),c.onDispose(()=>{this._decorationElements.delete(c),d.remove()})),d.style.top=f*this._renderService.dimensions.css.cell.height+"px",d.style.display=this._altBufferIsActive?"none":"block",c.onRenderEmitter.fire(d)}}_refreshXPosition(c,f=c.element){var d;if(!f)return;const v=(d=c.options.x)!==null&&d!==void 0?d:0;(c.options.anchor||"left")==="right"?f.style.right=v?v*this._renderService.dimensions.css.cell.width+"px":"":f.style.left=v?v*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(c){var f;(f=this._decorationElements.get(c))===null||f===void 0||f.remove(),this._decorationElements.delete(c),c.dispose()}};g.BufferDecorationRenderer=A=m([b(1,k.IBufferService),b(2,k.IDecorationService),b(3,T.IRenderService)],A)},5871:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.ColorZoneStore=void 0,g.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(_){if(_.options.overviewRulerOptions){for(const m of this._zones)if(m.color===_.options.overviewRulerOptions.color&&m.position===_.options.overviewRulerOptions.position){if(this._lineIntersectsZone(m,_.marker.line))return;if(this._lineAdjacentToZone(m,_.marker.line,_.options.overviewRulerOptions.position))return void this._addLineToZone(m,_.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=_.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=_.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=_.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=_.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:_.options.overviewRulerOptions.color,position:_.options.overviewRulerOptions.position,startBufferLine:_.marker.line,endBufferLine:_.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(_){this._linePadding=_}_lineIntersectsZone(_,m){return m>=_.startBufferLine&&m<=_.endBufferLine}_lineAdjacentToZone(_,m,b){return m>=_.startBufferLine-this._linePadding[b||"full"]&&m<=_.endBufferLine+this._linePadding[b||"full"]}_addLineToZone(_,m){_.startBufferLine=Math.min(_.startBufferLine,m),_.endBufferLine=Math.max(_.endBufferLine,m)}}},5744:function($,g,_){var m=this&&this.__decorate||function(C,x,H,U){var E,N=arguments.length,Q=N<3?x:U===null?U=Object.getOwnPropertyDescriptor(x,H):U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(C,x,H,U);else for(var te=C.length-1;te>=0;te--)(E=C[te])&&(Q=(N<3?E(Q):N>3?E(x,H,Q):E(x,H))||Q);return N>3&&Q&&Object.defineProperty(x,H,Q),Q},b=this&&this.__param||function(C,x){return function(H,U){x(H,U,C)}};Object.defineProperty(g,"__esModule",{value:!0}),g.OverviewRulerRenderer=void 0;const y=_(5871),T=_(3656),M=_(4725),k=_(844),A=_(2585),c={full:0,left:0,center:0,right:0},f={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0};let v=g.OverviewRulerRenderer=class extends k.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(C,x,H,U,E,N,Q){var te;super(),this._viewportElement=C,this._screenElement=x,this._bufferService=H,this._decorationService=U,this._renderService=E,this._optionsService=N,this._coreBrowseService=Q,this._colorZoneStore=new y.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(te=this._viewportElement.parentElement)===null||te===void 0||te.insertBefore(this._canvas,this._viewportElement);const X=this._canvas.getContext("2d");if(!X)throw new Error("Ctx cannot be null");this._ctx=X,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,k.toDisposable)(()=>{var ie;(ie=this._canvas)===null||ie===void 0||ie.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,T.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const C=Math.floor(this._canvas.width/3),x=Math.ceil(this._canvas.width/3);f.full=this._canvas.width,f.left=C,f.center=x,f.right=C,this._refreshDrawHeightConstants(),d.full=0,d.left=0,d.center=f.left,d.right=f.left+f.center}_refreshDrawHeightConstants(){c.full=Math.round(2*this._coreBrowseService.dpr);const C=this._canvas.height/this._bufferService.buffer.lines.length,x=Math.round(Math.max(Math.min(C,12),6)*this._coreBrowseService.dpr);c.left=x,c.center=x,c.right=x}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const x of this._decorationService.decorations)this._colorZoneStore.addDecoration(x);this._ctx.lineWidth=1;const C=this._colorZoneStore.zones;for(const x of C)x.position!=="full"&&this._renderColorZone(x);for(const x of C)x.position==="full"&&this._renderColorZone(x);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(C){this._ctx.fillStyle=C.color,this._ctx.fillRect(d[C.position||"full"],Math.round((this._canvas.height-1)*(C.startBufferLine/this._bufferService.buffers.active.lines.length)-c[C.position||"full"]/2),f[C.position||"full"],Math.round((this._canvas.height-1)*((C.endBufferLine-C.startBufferLine)/this._bufferService.buffers.active.lines.length)+c[C.position||"full"]))}_queueRefresh(C,x){this._shouldUpdateDimensions=C||this._shouldUpdateDimensions,this._shouldUpdateAnchor=x||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};g.OverviewRulerRenderer=v=m([b(2,A.IBufferService),b(3,A.IDecorationService),b(4,M.IRenderService),b(5,A.IOptionsService),b(6,M.ICoreBrowserService)],v)},2950:function($,g,_){var m=this&&this.__decorate||function(A,c,f,d){var v,C=arguments.length,x=C<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(A,c,f,d);else for(var H=A.length-1;H>=0;H--)(v=A[H])&&(x=(C<3?v(x):C>3?v(c,f,x):v(c,f))||x);return C>3&&x&&Object.defineProperty(c,f,x),x},b=this&&this.__param||function(A,c){return function(f,d){c(f,d,A)}};Object.defineProperty(g,"__esModule",{value:!0}),g.CompositionHelper=void 0;const y=_(4725),T=_(2585),M=_(2584);let k=g.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(A,c,f,d,v,C){this._textarea=A,this._compositionView=c,this._bufferService=f,this._optionsService=d,this._coreService=v,this._renderService=C,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(A){this._compositionView.textContent=A.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(A){if(this._isComposing||this._isSendingComposition){if(A.keyCode===229||A.keyCode===16||A.keyCode===17||A.keyCode===18)return!1;this._finalizeComposition(!1)}return A.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(A){if(this._compositionView.classList.remove("active"),this._isComposing=!1,A){const c={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let f;this._isSendingComposition=!1,c.start+=this._dataAlreadySent.length,f=this._isComposing?this._textarea.value.substring(c.start,c.end):this._textarea.value.substring(c.start),f.length>0&&this._coreService.triggerDataEvent(f,!0)}},0)}else{this._isSendingComposition=!1;const c=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(c,!0)}}_handleAnyTextareaChanges(){const A=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const c=this._textarea.value,f=c.replace(A,"");this._dataAlreadySent=f,c.length>A.length?this._coreService.triggerDataEvent(f,!0):c.length<A.length?this._coreService.triggerDataEvent(`${M.C0.DEL}`,!0):c.length===A.length&&c!==A&&this._coreService.triggerDataEvent(c,!0)}},0)}updateCompositionElements(A){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const c=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),f=this._renderService.dimensions.css.cell.height,d=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,v=c*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=v+"px",this._compositionView.style.top=d+"px",this._compositionView.style.height=f+"px",this._compositionView.style.lineHeight=f+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const C=this._compositionView.getBoundingClientRect();this._textarea.style.left=v+"px",this._textarea.style.top=d+"px",this._textarea.style.width=Math.max(C.width,1)+"px",this._textarea.style.height=Math.max(C.height,1)+"px",this._textarea.style.lineHeight=C.height+"px"}A||setTimeout(()=>this.updateCompositionElements(!0),0)}}};g.CompositionHelper=k=m([b(2,T.IBufferService),b(3,T.IOptionsService),b(4,T.ICoreService),b(5,y.IRenderService)],k)},9806:($,g)=>{function _(m,b,y){const T=y.getBoundingClientRect(),M=m.getComputedStyle(y),k=parseInt(M.getPropertyValue("padding-left")),A=parseInt(M.getPropertyValue("padding-top"));return[b.clientX-T.left-k,b.clientY-T.top-A]}Object.defineProperty(g,"__esModule",{value:!0}),g.getCoords=g.getCoordsRelativeToElement=void 0,g.getCoordsRelativeToElement=_,g.getCoords=function(m,b,y,T,M,k,A,c,f){if(!k)return;const d=_(m,b,y);return d?(d[0]=Math.ceil((d[0]+(f?A/2:0))/A),d[1]=Math.ceil(d[1]/c),d[0]=Math.min(Math.max(d[0],1),T+(f?1:0)),d[1]=Math.min(Math.max(d[1],1),M),d):void 0}},9504:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.moveToCellSequence=void 0;const m=_(2584);function b(c,f,d,v){const C=c-y(c,d),x=f-y(f,d),H=Math.abs(C-x)-function(U,E,N){let Q=0;const te=U-y(U,N),X=E-y(E,N);for(let ie=0;ie<Math.abs(te-X);ie++){const _e=T(U,E)==="A"?-1:1,ue=N.buffer.lines.get(te+_e*ie);ue!=null&&ue.isWrapped&&Q++}return Q}(c,f,d);return A(H,k(T(c,f),v))}function y(c,f){let d=0,v=f.buffer.lines.get(c),C=v==null?void 0:v.isWrapped;for(;C&&c>=0&&c<f.rows;)d++,v=f.buffer.lines.get(--c),C=v==null?void 0:v.isWrapped;return d}function T(c,f){return c>f?"A":"B"}function M(c,f,d,v,C,x){let H=c,U=f,E="";for(;H!==d||U!==v;)H+=C?1:-1,C&&H>x.cols-1?(E+=x.buffer.translateBufferLineToString(U,!1,c,H),H=0,c=0,U++):!C&&H<0&&(E+=x.buffer.translateBufferLineToString(U,!1,0,c+1),H=x.cols-1,c=H,U--);return E+x.buffer.translateBufferLineToString(U,!1,c,H)}function k(c,f){const d=f?"O":"[";return m.C0.ESC+d+c}function A(c,f){c=Math.floor(c);let d="";for(let v=0;v<c;v++)d+=f;return d}g.moveToCellSequence=function(c,f,d,v){const C=d.buffer.x,x=d.buffer.y;if(!d.buffer.hasScrollback)return function(E,N,Q,te,X,ie){return b(N,te,X,ie).length===0?"":A(M(E,N,E,N-y(N,X),!1,X).length,k("D",ie))}(C,x,0,f,d,v)+b(x,f,d,v)+function(E,N,Q,te,X,ie){let _e;_e=b(N,te,X,ie).length>0?te-y(te,X):N;const ue=te,K=function(J,z,q,O,G,se){let fe;return fe=b(q,O,G,se).length>0?O-y(O,G):z,J<q&&fe<=O||J>=q&&fe<O?"C":"D"}(E,N,Q,te,X,ie);return A(M(E,_e,Q,ue,K==="C",X).length,k(K,ie))}(C,x,c,f,d,v);let H;if(x===f)return H=C>c?"D":"C",A(Math.abs(C-c),k(H,v));H=x>f?"D":"C";const U=Math.abs(x-f);return A(function(E,N){return N.cols-E}(x>f?c:C,d)+(U-1)*d.cols+1+((x>f?C:c)-1),k(H,v))}},1296:function($,g,_){var m=this&&this.__decorate||function(X,ie,_e,ue){var K,J=arguments.length,z=J<3?ie:ue===null?ue=Object.getOwnPropertyDescriptor(ie,_e):ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(X,ie,_e,ue);else for(var q=X.length-1;q>=0;q--)(K=X[q])&&(z=(J<3?K(z):J>3?K(ie,_e,z):K(ie,_e))||z);return J>3&&z&&Object.defineProperty(ie,_e,z),z},b=this&&this.__param||function(X,ie){return function(_e,ue){ie(_e,ue,X)}};Object.defineProperty(g,"__esModule",{value:!0}),g.DomRenderer=void 0;const y=_(3787),T=_(2550),M=_(2223),k=_(6171),A=_(4725),c=_(8055),f=_(8460),d=_(844),v=_(2585),C="xterm-dom-renderer-owner-",x="xterm-rows",H="xterm-fg-",U="xterm-bg-",E="xterm-focus",N="xterm-selection";let Q=1,te=g.DomRenderer=class extends d.Disposable{constructor(X,ie,_e,ue,K,J,z,q,O,G){super(),this._element=X,this._screenElement=ie,this._viewportElement=_e,this._linkifier2=ue,this._charSizeService=J,this._optionsService=z,this._bufferService=q,this._coreBrowserService=O,this._themeService=G,this._terminalClass=Q++,this._rowElements=[],this.onRequestRedraw=this.register(new f.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(x),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(N),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,k.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(se=>this._injectCss(se))),this._injectCss(this._themeService.colors),this._rowFactory=K.createInstance(y.DomRendererRowFactory,document),this._element.classList.add(C+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(se=>this._handleLinkHover(se))),this.register(this._linkifier2.onHideLinkUnderline(se=>this._handleLinkLeave(se))),this.register((0,d.toDisposable)(()=>{this._element.classList.remove(C+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new T.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const X=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*X,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*X),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/X),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/X),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const _e of this._rowElements)_e.style.width=`${this.dimensions.css.canvas.width}px`,_e.style.height=`${this.dimensions.css.cell.height}px`,_e.style.lineHeight=`${this.dimensions.css.cell.height}px`,_e.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const ie=`${this._terminalSelector} .${x} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=ie,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(X){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let ie=`${this._terminalSelector} .${x} { color: ${X.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;ie+=`${this._terminalSelector} .${x} .xterm-dim { color: ${c.color.multiplyOpacity(X.foreground,.5).css};}`,ie+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,ie+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",ie+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${X.cursor.css};  color: ${X.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${X.cursor.css}; }}`,ie+=`${this._terminalSelector} .${x}.${E} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${x}.${E} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${x} .xterm-cursor.xterm-cursor-block { background-color: ${X.cursor.css}; color: ${X.cursorAccent.css};}${this._terminalSelector} .${x} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${X.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${x} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${X.cursor.css} inset;}${this._terminalSelector} .${x} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${X.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,ie+=`${this._terminalSelector} .${N} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${N} div { position: absolute; background-color: ${X.selectionBackgroundOpaque.css};}${this._terminalSelector} .${N} div { position: absolute; background-color: ${X.selectionInactiveBackgroundOpaque.css};}`;for(const[_e,ue]of X.ansi.entries())ie+=`${this._terminalSelector} .${H}${_e} { color: ${ue.css}; }${this._terminalSelector} .${H}${_e}.xterm-dim { color: ${c.color.multiplyOpacity(ue,.5).css}; }${this._terminalSelector} .${U}${_e} { background-color: ${ue.css}; }`;ie+=`${this._terminalSelector} .${H}${M.INVERTED_DEFAULT_COLOR} { color: ${c.color.opaque(X.background).css}; }${this._terminalSelector} .${H}${M.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${c.color.multiplyOpacity(c.color.opaque(X.background),.5).css}; }${this._terminalSelector} .${U}${M.INVERTED_DEFAULT_COLOR} { background-color: ${X.foreground.css}; }`,this._themeStyleElement.textContent=ie}_setDefaultSpacing(){const X=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${X}px`,this._rowFactory.defaultSpacing=X}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(X,ie){for(let _e=this._rowElements.length;_e<=ie;_e++){const ue=document.createElement("div");this._rowContainer.appendChild(ue),this._rowElements.push(ue)}for(;this._rowElements.length>ie;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(X,ie){this._refreshRowElements(X,ie),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(E)}handleFocus(){this._rowContainer.classList.add(E),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(X,ie,_e){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(X,ie,_e),this.renderRows(0,this._bufferService.rows-1),!X||!ie)return;const ue=X[1]-this._bufferService.buffer.ydisp,K=ie[1]-this._bufferService.buffer.ydisp,J=Math.max(ue,0),z=Math.min(K,this._bufferService.rows-1);if(J>=this._bufferService.rows||z<0)return;const q=document.createDocumentFragment();if(_e){const O=X[0]>ie[0];q.appendChild(this._createSelectionElement(J,O?ie[0]:X[0],O?X[0]:ie[0],z-J+1))}else{const O=ue===J?X[0]:0,G=J===K?ie[0]:this._bufferService.cols;q.appendChild(this._createSelectionElement(J,O,G));const se=z-J-1;if(q.appendChild(this._createSelectionElement(J+1,0,this._bufferService.cols,se)),J!==z){const fe=K===z?ie[0]:this._bufferService.cols;q.appendChild(this._createSelectionElement(z,0,fe))}}this._selectionContainer.appendChild(q)}_createSelectionElement(X,ie,_e,ue=1){const K=document.createElement("div");return K.style.height=ue*this.dimensions.css.cell.height+"px",K.style.top=X*this.dimensions.css.cell.height+"px",K.style.left=ie*this.dimensions.css.cell.width+"px",K.style.width=this.dimensions.css.cell.width*(_e-ie)+"px",K}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const X of this._rowElements)X.replaceChildren()}renderRows(X,ie){const _e=this._bufferService.buffer,ue=_e.ybase+_e.y,K=Math.min(_e.x,this._bufferService.cols-1),J=this._optionsService.rawOptions.cursorBlink,z=this._optionsService.rawOptions.cursorStyle,q=this._optionsService.rawOptions.cursorInactiveStyle;for(let O=X;O<=ie;O++){const G=O+_e.ydisp,se=this._rowElements[O],fe=_e.lines.get(G);if(!se||!fe)break;se.replaceChildren(...this._rowFactory.createRow(fe,G,G===ue,z,q,K,J,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${C}${this._terminalClass}`}_handleLinkHover(X){this._setCellUnderline(X.x1,X.x2,X.y1,X.y2,X.cols,!0)}_handleLinkLeave(X){this._setCellUnderline(X.x1,X.x2,X.y1,X.y2,X.cols,!1)}_setCellUnderline(X,ie,_e,ue,K,J){_e<0&&(X=0),ue<0&&(ie=0);const z=this._bufferService.rows-1;_e=Math.max(Math.min(_e,z),0),ue=Math.max(Math.min(ue,z),0),K=Math.min(K,this._bufferService.cols);const q=this._bufferService.buffer,O=q.ybase+q.y,G=Math.min(q.x,K-1),se=this._optionsService.rawOptions.cursorBlink,fe=this._optionsService.rawOptions.cursorStyle,we=this._optionsService.rawOptions.cursorInactiveStyle;for(let De=_e;De<=ue;++De){const Be=De+q.ydisp,j=this._rowElements[De],oe=q.lines.get(Be);if(!j||!oe)break;j.replaceChildren(...this._rowFactory.createRow(oe,Be,Be===O,fe,we,G,se,this.dimensions.css.cell.width,this._widthCache,J?De===_e?X:0:-1,J?(De===ue?ie:K)-1:-1))}}};g.DomRenderer=te=m([b(4,v.IInstantiationService),b(5,A.ICharSizeService),b(6,v.IOptionsService),b(7,v.IBufferService),b(8,A.ICoreBrowserService),b(9,A.IThemeService)],te)},3787:function($,g,_){var m=this&&this.__decorate||function(H,U,E,N){var Q,te=arguments.length,X=te<3?U:N===null?N=Object.getOwnPropertyDescriptor(U,E):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(H,U,E,N);else for(var ie=H.length-1;ie>=0;ie--)(Q=H[ie])&&(X=(te<3?Q(X):te>3?Q(U,E,X):Q(U,E))||X);return te>3&&X&&Object.defineProperty(U,E,X),X},b=this&&this.__param||function(H,U){return function(E,N){U(E,N,H)}};Object.defineProperty(g,"__esModule",{value:!0}),g.DomRendererRowFactory=void 0;const y=_(2223),T=_(643),M=_(511),k=_(2585),A=_(8055),c=_(4725),f=_(4269),d=_(6171),v=_(3734);let C=g.DomRendererRowFactory=class{constructor(H,U,E,N,Q,te,X){this._document=H,this._characterJoinerService=U,this._optionsService=E,this._coreBrowserService=N,this._coreService=Q,this._decorationService=te,this._themeService=X,this._workCell=new M.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(H,U,E){this._selectionStart=H,this._selectionEnd=U,this._columnSelectMode=E}createRow(H,U,E,N,Q,te,X,ie,_e,ue,K){const J=[],z=this._characterJoinerService.getJoinedCharacters(U),q=this._themeService.colors;let O,G=H.getNoBgTrimmedLength();E&&G<te+1&&(G=te+1);let se=0,fe="",we=0,De=0,Be=0,j=!1,oe=0,me=!1,ye=0;const Ne=[],Oe=ue!==-1&&K!==-1;for(let $e=0;$e<G;$e++){H.loadCell($e,this._workCell);let vt=this._workCell.getWidth();if(vt===0)continue;let ei=!1,Ki=$e,We=this._workCell;if(z.length>0&&$e===z[0][0]){ei=!0;const gt=z.shift();We=new f.JoinedCellData(this._workCell,H.translateToString(!0,gt[0],gt[1]),gt[1]-gt[0]),Ki=gt[1]-1,vt=We.getWidth()}const _r=this._isCellInSelection($e,U),Qr=E&&$e===te,et=Oe&&$e>=ue&&$e<=K;let nr=!1;this._decorationService.forEachDecorationAtCell($e,U,void 0,gt=>{nr=!0});let Jn=We.getChars()||T.WHITESPACE_CELL_CHAR;if(Jn===" "&&(We.isUnderline()||We.isOverline())&&(Jn=" "),ye=vt*ie-_e.get(Jn,We.isBold(),We.isItalic()),O){if(se&&(_r&&me||!_r&&!me&&We.bg===we)&&(_r&&me&&q.selectionForeground||We.fg===De)&&We.extended.ext===Be&&et===j&&ye===oe&&!Qr&&!ei&&!nr){fe+=Jn,se++;continue}se&&(O.textContent=fe),O=this._document.createElement("span"),se=0,fe=""}else O=this._document.createElement("span");if(we=We.bg,De=We.fg,Be=We.extended.ext,j=et,oe=ye,me=_r,ei&&te>=$e&&te<=Ki&&(te=$e),!this._coreService.isCursorHidden&&Qr){if(Ne.push("xterm-cursor"),this._coreBrowserService.isFocused)X&&Ne.push("xterm-cursor-blink"),Ne.push(N==="bar"?"xterm-cursor-bar":N==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(Q)switch(Q){case"outline":Ne.push("xterm-cursor-outline");break;case"block":Ne.push("xterm-cursor-block");break;case"bar":Ne.push("xterm-cursor-bar");break;case"underline":Ne.push("xterm-cursor-underline")}}if(We.isBold()&&Ne.push("xterm-bold"),We.isItalic()&&Ne.push("xterm-italic"),We.isDim()&&Ne.push("xterm-dim"),fe=We.isInvisible()?T.WHITESPACE_CELL_CHAR:We.getChars()||T.WHITESPACE_CELL_CHAR,We.isUnderline()&&(Ne.push(`xterm-underline-${We.extended.underlineStyle}`),fe===" "&&(fe=" "),!We.isUnderlineColorDefault()))if(We.isUnderlineColorRGB())O.style.textDecorationColor=`rgb(${v.AttributeData.toColorRGB(We.getUnderlineColor()).join(",")})`;else{let gt=We.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&We.isBold()&&gt<8&&(gt+=8),O.style.textDecorationColor=q.ansi[gt].css}We.isOverline()&&(Ne.push("xterm-overline"),fe===" "&&(fe=" ")),We.isStrikethrough()&&Ne.push("xterm-strikethrough"),et&&(O.style.textDecoration="underline");let gi=We.getFgColor(),Vr=We.getFgColorMode(),Yi=We.getBgColor(),Ui=We.getBgColorMode();const jt=!!We.isInverse();if(jt){const gt=gi;gi=Yi,Yi=gt;const $n=Vr;Vr=Ui,Ui=$n}let ti,ui,Xi,Jr=!1;switch(this._decorationService.forEachDecorationAtCell($e,U,void 0,gt=>{gt.options.layer!=="top"&&Jr||(gt.backgroundColorRGB&&(Ui=50331648,Yi=gt.backgroundColorRGB.rgba>>8&16777215,ti=gt.backgroundColorRGB),gt.foregroundColorRGB&&(Vr=50331648,gi=gt.foregroundColorRGB.rgba>>8&16777215,ui=gt.foregroundColorRGB),Jr=gt.options.layer==="top")}),!Jr&&_r&&(ti=this._coreBrowserService.isFocused?q.selectionBackgroundOpaque:q.selectionInactiveBackgroundOpaque,Yi=ti.rgba>>8&16777215,Ui=50331648,Jr=!0,q.selectionForeground&&(Vr=50331648,gi=q.selectionForeground.rgba>>8&16777215,ui=q.selectionForeground)),Jr&&Ne.push("xterm-decoration-top"),Ui){case 16777216:case 33554432:Xi=q.ansi[Yi],Ne.push(`xterm-bg-${Yi}`);break;case 50331648:Xi=A.rgba.toColor(Yi>>16,Yi>>8&255,255&Yi),this._addStyle(O,`background-color:#${x((Yi>>>0).toString(16),"0",6)}`);break;default:jt?(Xi=q.foreground,Ne.push(`xterm-bg-${y.INVERTED_DEFAULT_COLOR}`)):Xi=q.background}switch(ti||We.isDim()&&(ti=A.color.multiplyOpacity(Xi,.5)),Vr){case 16777216:case 33554432:We.isBold()&&gi<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(gi+=8),this._applyMinimumContrast(O,Xi,q.ansi[gi],We,ti,void 0)||Ne.push(`xterm-fg-${gi}`);break;case 50331648:const gt=A.rgba.toColor(gi>>16&255,gi>>8&255,255&gi);this._applyMinimumContrast(O,Xi,gt,We,ti,ui)||this._addStyle(O,`color:#${x(gi.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(O,Xi,q.foreground,We,ti,void 0)||jt&&Ne.push(`xterm-fg-${y.INVERTED_DEFAULT_COLOR}`)}Ne.length&&(O.className=Ne.join(" "),Ne.length=0),Qr||ei||nr?O.textContent=fe:se++,ye!==this.defaultSpacing&&(O.style.letterSpacing=`${ye}px`),J.push(O),$e=Ki}return O&&se&&(O.textContent=fe),J}_applyMinimumContrast(H,U,E,N,Q,te){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,d.excludeFromContrastRatioDemands)(N.getCode()))return!1;const X=this._getContrastCache(N);let ie;if(Q||te||(ie=X.getColor(U.rgba,E.rgba)),ie===void 0){const _e=this._optionsService.rawOptions.minimumContrastRatio/(N.isDim()?2:1);ie=A.color.ensureContrastRatio(Q||U,te||E,_e),X.setColor((Q||U).rgba,(te||E).rgba,ie??null)}return!!ie&&(this._addStyle(H,`color:${ie.css}`),!0)}_getContrastCache(H){return H.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(H,U){H.setAttribute("style",`${H.getAttribute("style")||""}${U};`)}_isCellInSelection(H,U){const E=this._selectionStart,N=this._selectionEnd;return!(!E||!N)&&(this._columnSelectMode?E[0]<=N[0]?H>=E[0]&&U>=E[1]&&H<N[0]&&U<=N[1]:H<E[0]&&U>=E[1]&&H>=N[0]&&U<=N[1]:U>E[1]&&U<N[1]||E[1]===N[1]&&U===E[1]&&H>=E[0]&&H<N[0]||E[1]<N[1]&&U===N[1]&&H<N[0]||E[1]<N[1]&&U===E[1]&&H>=E[0])}};function x(H,U,E){for(;H.length<E;)H=U+H;return H}g.DomRendererRowFactory=C=m([b(1,c.ICharacterJoinerService),b(2,k.IOptionsService),b(3,c.ICoreBrowserService),b(4,k.ICoreService),b(5,k.IDecorationService),b(6,c.IThemeService)],C)},2550:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.WidthCache=void 0,g.WidthCache=class{constructor(_){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=_.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const m=_.createElement("span"),b=_.createElement("span");b.style.fontWeight="bold";const y=_.createElement("span");y.style.fontStyle="italic";const T=_.createElement("span");T.style.fontWeight="bold",T.style.fontStyle="italic",this._measureElements=[m,b,y,T],this._container.appendChild(m),this._container.appendChild(b),this._container.appendChild(y),this._container.appendChild(T),_.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(_,m,b,y){_===this._font&&m===this._fontSize&&b===this._weight&&y===this._weightBold||(this._font=_,this._fontSize=m,this._weight=b,this._weightBold=y,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${b}`,this._measureElements[1].style.fontWeight=`${y}`,this._measureElements[2].style.fontWeight=`${b}`,this._measureElements[3].style.fontWeight=`${y}`,this.clear())}get(_,m,b){let y=0;if(!m&&!b&&_.length===1&&(y=_.charCodeAt(0))<256)return this._flat[y]!==-9999?this._flat[y]:this._flat[y]=this._measure(_,0);let T=_;m&&(T+="B"),b&&(T+="I");let M=this._holey.get(T);if(M===void 0){let k=0;m&&(k|=1),b&&(k|=2),M=this._measure(_,k),this._holey.set(T,M)}return M}_measure(_,m){const b=this._measureElements[m];return b.textContent=_.repeat(32),b.offsetWidth/32}}},2223:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.TEXT_BASELINE=g.DIM_OPACITY=g.INVERTED_DEFAULT_COLOR=void 0;const m=_(6114);g.INVERTED_DEFAULT_COLOR=257,g.DIM_OPACITY=.5,g.TEXT_BASELINE=m.isFirefox||m.isLegacyEdge?"bottom":"ideographic"},6171:($,g)=>{function _(m){return 57508<=m&&m<=57558}Object.defineProperty(g,"__esModule",{value:!0}),g.createRenderDimensions=g.excludeFromContrastRatioDemands=g.isRestrictedPowerlineGlyph=g.isPowerlineGlyph=g.throwIfFalsy=void 0,g.throwIfFalsy=function(m){if(!m)throw new Error("value must not be falsy");return m},g.isPowerlineGlyph=_,g.isRestrictedPowerlineGlyph=function(m){return 57520<=m&&m<=57527},g.excludeFromContrastRatioDemands=function(m){return _(m)||function(b){return 9472<=b&&b<=9631}(m)},g.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.SelectionModel=void 0,g.SelectionModel=class{constructor(_){this._bufferService=_,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const _=this.selectionStart[0]+this.selectionStartLength;return _>this._bufferService.cols?_%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(_/this._bufferService.cols)-1]:[_%this._bufferService.cols,this.selectionStart[1]+Math.floor(_/this._bufferService.cols)]:[_,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const _=this.selectionStart[0]+this.selectionStartLength;return _>this._bufferService.cols?[_%this._bufferService.cols,this.selectionStart[1]+Math.floor(_/this._bufferService.cols)]:[Math.max(_,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const _=this.selectionStart,m=this.selectionEnd;return!(!_||!m)&&(_[1]>m[1]||_[1]===m[1]&&_[0]>m[0])}handleTrim(_){return this.selectionStart&&(this.selectionStart[1]-=_),this.selectionEnd&&(this.selectionEnd[1]-=_),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function($,g,_){var m=this&&this.__decorate||function(c,f,d,v){var C,x=arguments.length,H=x<3?f:v===null?v=Object.getOwnPropertyDescriptor(f,d):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(c,f,d,v);else for(var U=c.length-1;U>=0;U--)(C=c[U])&&(H=(x<3?C(H):x>3?C(f,d,H):C(f,d))||H);return x>3&&H&&Object.defineProperty(f,d,H),H},b=this&&this.__param||function(c,f){return function(d,v){f(d,v,c)}};Object.defineProperty(g,"__esModule",{value:!0}),g.CharSizeService=void 0;const y=_(2585),T=_(8460),M=_(844);let k=g.CharSizeService=class extends M.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(c,f,d){super(),this._optionsService=d,this.width=0,this.height=0,this._onCharSizeChange=this.register(new T.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new A(c,f,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const c=this._measureStrategy.measure();c.width===this.width&&c.height===this.height||(this.width=c.width,this.height=c.height,this._onCharSizeChange.fire())}};g.CharSizeService=k=m([b(2,y.IOptionsService)],k);class A{constructor(f,d,v){this._document=f,this._parentElement=d,this._optionsService=v,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const f={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return f.width!==0&&f.height!==0&&(this._result.width=f.width/32,this._result.height=Math.ceil(f.height)),this._result}}},4269:function($,g,_){var m=this&&this.__decorate||function(f,d,v,C){var x,H=arguments.length,U=H<3?d:C===null?C=Object.getOwnPropertyDescriptor(d,v):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(f,d,v,C);else for(var E=f.length-1;E>=0;E--)(x=f[E])&&(U=(H<3?x(U):H>3?x(d,v,U):x(d,v))||U);return H>3&&U&&Object.defineProperty(d,v,U),U},b=this&&this.__param||function(f,d){return function(v,C){d(v,C,f)}};Object.defineProperty(g,"__esModule",{value:!0}),g.CharacterJoinerService=g.JoinedCellData=void 0;const y=_(3734),T=_(643),M=_(511),k=_(2585);class A extends y.AttributeData{constructor(d,v,C){super(),this.content=0,this.combinedData="",this.fg=d.fg,this.bg=d.bg,this.combinedData=v,this._width=C}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(d){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}g.JoinedCellData=A;let c=g.CharacterJoinerService=class wp{constructor(d){this._bufferService=d,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new M.CellData}register(d){const v={id:this._nextCharacterJoinerId++,handler:d};return this._characterJoiners.push(v),v.id}deregister(d){for(let v=0;v<this._characterJoiners.length;v++)if(this._characterJoiners[v].id===d)return this._characterJoiners.splice(v,1),!0;return!1}getJoinedCharacters(d){if(this._characterJoiners.length===0)return[];const v=this._bufferService.buffer.lines.get(d);if(!v||v.length===0)return[];const C=[],x=v.translateToString(!0);let H=0,U=0,E=0,N=v.getFg(0),Q=v.getBg(0);for(let te=0;te<v.getTrimmedLength();te++)if(v.loadCell(te,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==N||this._workCell.bg!==Q){if(te-H>1){const X=this._getJoinedRanges(x,E,U,v,H);for(let ie=0;ie<X.length;ie++)C.push(X[ie])}H=te,E=U,N=this._workCell.fg,Q=this._workCell.bg}U+=this._workCell.getChars().length||T.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-H>1){const te=this._getJoinedRanges(x,E,U,v,H);for(let X=0;X<te.length;X++)C.push(te[X])}return C}_getJoinedRanges(d,v,C,x,H){const U=d.substring(v,C);let E=[];try{E=this._characterJoiners[0].handler(U)}catch(N){console.error(N)}for(let N=1;N<this._characterJoiners.length;N++)try{const Q=this._characterJoiners[N].handler(U);for(let te=0;te<Q.length;te++)wp._mergeRanges(E,Q[te])}catch(Q){console.error(Q)}return this._stringRangesToCellRanges(E,x,H),E}_stringRangesToCellRanges(d,v,C){let x=0,H=!1,U=0,E=d[x];if(E){for(let N=C;N<this._bufferService.cols;N++){const Q=v.getWidth(N),te=v.getString(N).length||T.WHITESPACE_CELL_CHAR.length;if(Q!==0){if(!H&&E[0]<=U&&(E[0]=N,H=!0),E[1]<=U){if(E[1]=N,E=d[++x],!E)break;E[0]<=U?(E[0]=N,H=!0):H=!1}U+=te}}E&&(E[1]=this._bufferService.cols)}}static _mergeRanges(d,v){let C=!1;for(let x=0;x<d.length;x++){const H=d[x];if(C){if(v[1]<=H[0])return d[x-1][1]=v[1],d;if(v[1]<=H[1])return d[x-1][1]=Math.max(v[1],H[1]),d.splice(x,1),d;d.splice(x,1),x--}else{if(v[1]<=H[0])return d.splice(x,0,v),d;if(v[1]<=H[1])return H[0]=Math.min(v[0],H[0]),d;v[0]<H[1]&&(H[0]=Math.min(v[0],H[0]),C=!0)}}return C?d[d.length-1][1]=v[1]:d.push(v),d}};g.CharacterJoinerService=c=m([b(0,k.IBufferService)],c)},5114:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.CoreBrowserService=void 0,g.CoreBrowserService=class{constructor(_,m){this._textarea=_,this.window=m,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function($,g,_){var m=this&&this.__decorate||function(k,A,c,f){var d,v=arguments.length,C=v<3?A:f===null?f=Object.getOwnPropertyDescriptor(A,c):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(k,A,c,f);else for(var x=k.length-1;x>=0;x--)(d=k[x])&&(C=(v<3?d(C):v>3?d(A,c,C):d(A,c))||C);return v>3&&C&&Object.defineProperty(A,c,C),C},b=this&&this.__param||function(k,A){return function(c,f){A(c,f,k)}};Object.defineProperty(g,"__esModule",{value:!0}),g.MouseService=void 0;const y=_(4725),T=_(9806);let M=g.MouseService=class{constructor(k,A){this._renderService=k,this._charSizeService=A}getCoords(k,A,c,f,d){return(0,T.getCoords)(window,k,A,c,f,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,d)}getMouseReportCoords(k,A){const c=(0,T.getCoordsRelativeToElement)(window,k,A);if(this._charSizeService.hasValidSize)return c[0]=Math.min(Math.max(c[0],0),this._renderService.dimensions.css.canvas.width-1),c[1]=Math.min(Math.max(c[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(c[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(c[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(c[0]),y:Math.floor(c[1])}}};g.MouseService=M=m([b(0,y.IRenderService),b(1,y.ICharSizeService)],M)},3230:function($,g,_){var m=this&&this.__decorate||function(C,x,H,U){var E,N=arguments.length,Q=N<3?x:U===null?U=Object.getOwnPropertyDescriptor(x,H):U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(C,x,H,U);else for(var te=C.length-1;te>=0;te--)(E=C[te])&&(Q=(N<3?E(Q):N>3?E(x,H,Q):E(x,H))||Q);return N>3&&Q&&Object.defineProperty(x,H,Q),Q},b=this&&this.__param||function(C,x){return function(H,U){x(H,U,C)}};Object.defineProperty(g,"__esModule",{value:!0}),g.RenderService=void 0;const y=_(3656),T=_(6193),M=_(5596),k=_(4725),A=_(8460),c=_(844),f=_(7226),d=_(2585);let v=g.RenderService=class extends c.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(C,x,H,U,E,N,Q,te){if(super(),this._rowCount=C,this._charSizeService=U,this._renderer=this.register(new c.MutableDisposable),this._pausedResizeTask=new f.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new A.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new A.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new A.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new A.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new T.RenderDebouncer(Q.window,(X,ie)=>this._renderRows(X,ie)),this.register(this._renderDebouncer),this._screenDprMonitor=new M.ScreenDprMonitor(Q.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(N.onResize(()=>this._fullRefresh())),this.register(N.buffers.onBufferActivate(()=>{var X;return(X=this._renderer.value)===null||X===void 0?void 0:X.clear()})),this.register(H.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(E.onDecorationRegistered(()=>this._fullRefresh())),this.register(E.onDecorationRemoved(()=>this._fullRefresh())),this.register(H.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(N.cols,N.rows),this._fullRefresh()})),this.register(H.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(N.buffer.y,N.buffer.y,!0))),this.register((0,y.addDisposableDomListener)(Q.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(te.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in Q.window){const X=new Q.window.IntersectionObserver(ie=>this._handleIntersectionChange(ie[ie.length-1]),{threshold:0});X.observe(x),this.register({dispose:()=>X.disconnect()})}}_handleIntersectionChange(C){this._isPaused=C.isIntersecting===void 0?C.intersectionRatio===0:!C.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(C,x,H=!1){this._isPaused?this._needsFullRefresh=!0:(H||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(C,x,this._rowCount))}_renderRows(C,x){this._renderer.value&&(C=Math.min(C,this._rowCount-1),x=Math.min(x,this._rowCount-1),this._renderer.value.renderRows(C,x),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:C,end:x}),this._onRender.fire({start:C,end:x}),this._isNextRenderRedrawOnly=!0)}resize(C,x){this._rowCount=x,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(C){this._renderer.value=C,this._renderer.value.onRequestRedraw(x=>this.refreshRows(x.start,x.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(C){return this._renderDebouncer.addRefreshCallback(C)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var C,x;this._renderer.value&&((x=(C=this._renderer.value).clearTextureAtlas)===null||x===void 0||x.call(C),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(C,x){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(C,x)):this._renderer.value.handleResize(C,x),this._fullRefresh())}handleCharSizeChanged(){var C;(C=this._renderer.value)===null||C===void 0||C.handleCharSizeChanged()}handleBlur(){var C;(C=this._renderer.value)===null||C===void 0||C.handleBlur()}handleFocus(){var C;(C=this._renderer.value)===null||C===void 0||C.handleFocus()}handleSelectionChanged(C,x,H){var U;this._selectionState.start=C,this._selectionState.end=x,this._selectionState.columnSelectMode=H,(U=this._renderer.value)===null||U===void 0||U.handleSelectionChanged(C,x,H)}handleCursorMove(){var C;(C=this._renderer.value)===null||C===void 0||C.handleCursorMove()}clear(){var C;(C=this._renderer.value)===null||C===void 0||C.clear()}};g.RenderService=v=m([b(2,d.IOptionsService),b(3,k.ICharSizeService),b(4,d.IDecorationService),b(5,d.IBufferService),b(6,k.ICoreBrowserService),b(7,k.IThemeService)],v)},9312:function($,g,_){var m=this&&this.__decorate||function(E,N,Q,te){var X,ie=arguments.length,_e=ie<3?N:te===null?te=Object.getOwnPropertyDescriptor(N,Q):te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_e=Reflect.decorate(E,N,Q,te);else for(var ue=E.length-1;ue>=0;ue--)(X=E[ue])&&(_e=(ie<3?X(_e):ie>3?X(N,Q,_e):X(N,Q))||_e);return ie>3&&_e&&Object.defineProperty(N,Q,_e),_e},b=this&&this.__param||function(E,N){return function(Q,te){N(Q,te,E)}};Object.defineProperty(g,"__esModule",{value:!0}),g.SelectionService=void 0;const y=_(9806),T=_(9504),M=_(456),k=_(4725),A=_(8460),c=_(844),f=_(6114),d=_(4841),v=_(511),C=_(2585),x=" ",H=new RegExp(x,"g");let U=g.SelectionService=class extends c.Disposable{constructor(E,N,Q,te,X,ie,_e,ue,K){super(),this._element=E,this._screenElement=N,this._linkifier=Q,this._bufferService=te,this._coreService=X,this._mouseService=ie,this._optionsService=_e,this._renderService=ue,this._coreBrowserService=K,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new v.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new A.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new A.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new A.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new A.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=J=>this._handleMouseMove(J),this._mouseUpListener=J=>this._handleMouseUp(J),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(J=>this._handleTrim(J)),this.register(this._bufferService.buffers.onBufferActivate(J=>this._handleBufferActivate(J))),this.enable(),this._model=new M.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,c.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const E=this._model.finalSelectionStart,N=this._model.finalSelectionEnd;return!(!E||!N||E[0]===N[0]&&E[1]===N[1])}get selectionText(){const E=this._model.finalSelectionStart,N=this._model.finalSelectionEnd;if(!E||!N)return"";const Q=this._bufferService.buffer,te=[];if(this._activeSelectionMode===3){if(E[0]===N[0])return"";const X=E[0]<N[0]?E[0]:N[0],ie=E[0]<N[0]?N[0]:E[0];for(let _e=E[1];_e<=N[1];_e++){const ue=Q.translateBufferLineToString(_e,!0,X,ie);te.push(ue)}}else{const X=E[1]===N[1]?N[0]:void 0;te.push(Q.translateBufferLineToString(E[1],!0,E[0],X));for(let ie=E[1]+1;ie<=N[1]-1;ie++){const _e=Q.lines.get(ie),ue=Q.translateBufferLineToString(ie,!0);_e!=null&&_e.isWrapped?te[te.length-1]+=ue:te.push(ue)}if(E[1]!==N[1]){const ie=Q.lines.get(N[1]),_e=Q.translateBufferLineToString(N[1],!0,0,N[0]);ie&&ie.isWrapped?te[te.length-1]+=_e:te.push(_e)}}return te.map(X=>X.replace(H," ")).join(f.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(E){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),f.isLinux&&E&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(E){const N=this._getMouseBufferCoords(E),Q=this._model.finalSelectionStart,te=this._model.finalSelectionEnd;return!!(Q&&te&&N)&&this._areCoordsInSelection(N,Q,te)}isCellInSelection(E,N){const Q=this._model.finalSelectionStart,te=this._model.finalSelectionEnd;return!(!Q||!te)&&this._areCoordsInSelection([E,N],Q,te)}_areCoordsInSelection(E,N,Q){return E[1]>N[1]&&E[1]<Q[1]||N[1]===Q[1]&&E[1]===N[1]&&E[0]>=N[0]&&E[0]<Q[0]||N[1]<Q[1]&&E[1]===Q[1]&&E[0]<Q[0]||N[1]<Q[1]&&E[1]===N[1]&&E[0]>=N[0]}_selectWordAtCursor(E,N){var Q,te;const X=(te=(Q=this._linkifier.currentLink)===null||Q===void 0?void 0:Q.link)===null||te===void 0?void 0:te.range;if(X)return this._model.selectionStart=[X.start.x-1,X.start.y-1],this._model.selectionStartLength=(0,d.getRangeLength)(X,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const ie=this._getMouseBufferCoords(E);return!!ie&&(this._selectWordAt(ie,N),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(E,N){this._model.clearSelection(),E=Math.max(E,0),N=Math.min(N,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,E],this._model.selectionEnd=[this._bufferService.cols,N],this.refresh(),this._onSelectionChange.fire()}_handleTrim(E){this._model.handleTrim(E)&&this.refresh()}_getMouseBufferCoords(E){const N=this._mouseService.getCoords(E,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(N)return N[0]--,N[1]--,N[1]+=this._bufferService.buffer.ydisp,N}_getMouseEventScrollAmount(E){let N=(0,y.getCoordsRelativeToElement)(this._coreBrowserService.window,E,this._screenElement)[1];const Q=this._renderService.dimensions.css.canvas.height;return N>=0&&N<=Q?0:(N>Q&&(N-=Q),N=Math.min(Math.max(N,-50),50),N/=50,N/Math.abs(N)+Math.round(14*N))}shouldForceSelection(E){return f.isMac?E.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:E.shiftKey}handleMouseDown(E){if(this._mouseDownTimeStamp=E.timeStamp,(E.button!==2||!this.hasSelection)&&E.button===0){if(!this._enabled){if(!this.shouldForceSelection(E))return;E.stopPropagation()}E.preventDefault(),this._dragScrollAmount=0,this._enabled&&E.shiftKey?this._handleIncrementalClick(E):E.detail===1?this._handleSingleClick(E):E.detail===2?this._handleDoubleClick(E):E.detail===3&&this._handleTripleClick(E),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(E){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(E))}_handleSingleClick(E){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(E)?3:0,this._model.selectionStart=this._getMouseBufferCoords(E),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const N=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);N&&N.length!==this._model.selectionStart[0]&&N.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(E){this._selectWordAtCursor(E,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(E){const N=this._getMouseBufferCoords(E);N&&(this._activeSelectionMode=2,this._selectLineAt(N[1]))}shouldColumnSelect(E){return E.altKey&&!(f.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(E){if(E.stopImmediatePropagation(),!this._model.selectionStart)return;const N=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(E),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(E),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const Q=this._bufferService.buffer;if(this._model.selectionEnd[1]<Q.lines.length){const te=Q.lines.get(this._model.selectionEnd[1]);te&&te.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}N&&N[0]===this._model.selectionEnd[0]&&N[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const E=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(E.ydisp+this._bufferService.rows,E.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=E.ydisp),this.refresh()}}_handleMouseUp(E){const N=E.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&N<500&&E.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const Q=this._mouseService.getCoords(E,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(Q&&Q[0]!==void 0&&Q[1]!==void 0){const te=(0,T.moveToCellSequence)(Q[0]-1,Q[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(te,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const E=this._model.finalSelectionStart,N=this._model.finalSelectionEnd,Q=!(!E||!N||E[0]===N[0]&&E[1]===N[1]);Q?E&&N&&(this._oldSelectionStart&&this._oldSelectionEnd&&E[0]===this._oldSelectionStart[0]&&E[1]===this._oldSelectionStart[1]&&N[0]===this._oldSelectionEnd[0]&&N[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(E,N,Q)):this._oldHasSelection&&this._fireOnSelectionChange(E,N,Q)}_fireOnSelectionChange(E,N,Q){this._oldSelectionStart=E,this._oldSelectionEnd=N,this._oldHasSelection=Q,this._onSelectionChange.fire()}_handleBufferActivate(E){this.clearSelection(),this._trimListener.dispose(),this._trimListener=E.activeBuffer.lines.onTrim(N=>this._handleTrim(N))}_convertViewportColToCharacterIndex(E,N){let Q=N;for(let te=0;N>=te;te++){const X=E.loadCell(te,this._workCell).getChars().length;this._workCell.getWidth()===0?Q--:X>1&&N!==te&&(Q+=X-1)}return Q}setSelection(E,N,Q){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[E,N],this._model.selectionStartLength=Q,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(E){this._isClickInSelection(E)||(this._selectWordAtCursor(E,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(E,N,Q=!0,te=!0){if(E[0]>=this._bufferService.cols)return;const X=this._bufferService.buffer,ie=X.lines.get(E[1]);if(!ie)return;const _e=X.translateBufferLineToString(E[1],!1);let ue=this._convertViewportColToCharacterIndex(ie,E[0]),K=ue;const J=E[0]-ue;let z=0,q=0,O=0,G=0;if(_e.charAt(ue)===" "){for(;ue>0&&_e.charAt(ue-1)===" ";)ue--;for(;K<_e.length&&_e.charAt(K+1)===" ";)K++}else{let we=E[0],De=E[0];ie.getWidth(we)===0&&(z++,we--),ie.getWidth(De)===2&&(q++,De++);const Be=ie.getString(De).length;for(Be>1&&(G+=Be-1,K+=Be-1);we>0&&ue>0&&!this._isCharWordSeparator(ie.loadCell(we-1,this._workCell));){ie.loadCell(we-1,this._workCell);const j=this._workCell.getChars().length;this._workCell.getWidth()===0?(z++,we--):j>1&&(O+=j-1,ue-=j-1),ue--,we--}for(;De<ie.length&&K+1<_e.length&&!this._isCharWordSeparator(ie.loadCell(De+1,this._workCell));){ie.loadCell(De+1,this._workCell);const j=this._workCell.getChars().length;this._workCell.getWidth()===2?(q++,De++):j>1&&(G+=j-1,K+=j-1),K++,De++}}K++;let se=ue+J-z+O,fe=Math.min(this._bufferService.cols,K-ue+z+q-O-G);if(N||_e.slice(ue,K).trim()!==""){if(Q&&se===0&&ie.getCodePoint(0)!==32){const we=X.lines.get(E[1]-1);if(we&&ie.isWrapped&&we.getCodePoint(this._bufferService.cols-1)!==32){const De=this._getWordAt([this._bufferService.cols-1,E[1]-1],!1,!0,!1);if(De){const Be=this._bufferService.cols-De.start;se-=Be,fe+=Be}}}if(te&&se+fe===this._bufferService.cols&&ie.getCodePoint(this._bufferService.cols-1)!==32){const we=X.lines.get(E[1]+1);if(we!=null&&we.isWrapped&&we.getCodePoint(0)!==32){const De=this._getWordAt([0,E[1]+1],!1,!1,!0);De&&(fe+=De.length)}}return{start:se,length:fe}}}_selectWordAt(E,N){const Q=this._getWordAt(E,N);if(Q){for(;Q.start<0;)Q.start+=this._bufferService.cols,E[1]--;this._model.selectionStart=[Q.start,E[1]],this._model.selectionStartLength=Q.length}}_selectToWordAt(E){const N=this._getWordAt(E,!0);if(N){let Q=E[1];for(;N.start<0;)N.start+=this._bufferService.cols,Q--;if(!this._model.areSelectionValuesReversed())for(;N.start+N.length>this._bufferService.cols;)N.length-=this._bufferService.cols,Q++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?N.start:N.start+N.length,Q]}}_isCharWordSeparator(E){return E.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(E.getChars())>=0}_selectLineAt(E){const N=this._bufferService.buffer.getWrappedRangeForLine(E),Q={start:{x:0,y:N.first},end:{x:this._bufferService.cols-1,y:N.last}};this._model.selectionStart=[0,N.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,d.getRangeLength)(Q,this._bufferService.cols)}};g.SelectionService=U=m([b(3,C.IBufferService),b(4,C.ICoreService),b(5,k.IMouseService),b(6,C.IOptionsService),b(7,k.IRenderService),b(8,k.ICoreBrowserService)],U)},4725:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.IThemeService=g.ICharacterJoinerService=g.ISelectionService=g.IRenderService=g.IMouseService=g.ICoreBrowserService=g.ICharSizeService=void 0;const m=_(8343);g.ICharSizeService=(0,m.createDecorator)("CharSizeService"),g.ICoreBrowserService=(0,m.createDecorator)("CoreBrowserService"),g.IMouseService=(0,m.createDecorator)("MouseService"),g.IRenderService=(0,m.createDecorator)("RenderService"),g.ISelectionService=(0,m.createDecorator)("SelectionService"),g.ICharacterJoinerService=(0,m.createDecorator)("CharacterJoinerService"),g.IThemeService=(0,m.createDecorator)("ThemeService")},6731:function($,g,_){var m=this&&this.__decorate||function(U,E,N,Q){var te,X=arguments.length,ie=X<3?E:Q===null?Q=Object.getOwnPropertyDescriptor(E,N):Q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(U,E,N,Q);else for(var _e=U.length-1;_e>=0;_e--)(te=U[_e])&&(ie=(X<3?te(ie):X>3?te(E,N,ie):te(E,N))||ie);return X>3&&ie&&Object.defineProperty(E,N,ie),ie},b=this&&this.__param||function(U,E){return function(N,Q){E(N,Q,U)}};Object.defineProperty(g,"__esModule",{value:!0}),g.ThemeService=g.DEFAULT_ANSI_COLORS=void 0;const y=_(7239),T=_(8055),M=_(8460),k=_(844),A=_(2585),c=T.css.toColor("#ffffff"),f=T.css.toColor("#000000"),d=T.css.toColor("#ffffff"),v=T.css.toColor("#000000"),C={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};g.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const U=[T.css.toColor("#2e3436"),T.css.toColor("#cc0000"),T.css.toColor("#4e9a06"),T.css.toColor("#c4a000"),T.css.toColor("#3465a4"),T.css.toColor("#75507b"),T.css.toColor("#06989a"),T.css.toColor("#d3d7cf"),T.css.toColor("#555753"),T.css.toColor("#ef2929"),T.css.toColor("#8ae234"),T.css.toColor("#fce94f"),T.css.toColor("#729fcf"),T.css.toColor("#ad7fa8"),T.css.toColor("#34e2e2"),T.css.toColor("#eeeeec")],E=[0,95,135,175,215,255];for(let N=0;N<216;N++){const Q=E[N/36%6|0],te=E[N/6%6|0],X=E[N%6];U.push({css:T.channels.toCss(Q,te,X),rgba:T.channels.toRgba(Q,te,X)})}for(let N=0;N<24;N++){const Q=8+10*N;U.push({css:T.channels.toCss(Q,Q,Q),rgba:T.channels.toRgba(Q,Q,Q)})}return U})());let x=g.ThemeService=class extends k.Disposable{get colors(){return this._colors}constructor(U){super(),this._optionsService=U,this._contrastCache=new y.ColorContrastCache,this._halfContrastCache=new y.ColorContrastCache,this._onChangeColors=this.register(new M.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:c,background:f,cursor:d,cursorAccent:v,selectionForeground:void 0,selectionBackgroundTransparent:C,selectionBackgroundOpaque:T.color.blend(f,C),selectionInactiveBackgroundTransparent:C,selectionInactiveBackgroundOpaque:T.color.blend(f,C),ansi:g.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(U={}){const E=this._colors;if(E.foreground=H(U.foreground,c),E.background=H(U.background,f),E.cursor=H(U.cursor,d),E.cursorAccent=H(U.cursorAccent,v),E.selectionBackgroundTransparent=H(U.selectionBackground,C),E.selectionBackgroundOpaque=T.color.blend(E.background,E.selectionBackgroundTransparent),E.selectionInactiveBackgroundTransparent=H(U.selectionInactiveBackground,E.selectionBackgroundTransparent),E.selectionInactiveBackgroundOpaque=T.color.blend(E.background,E.selectionInactiveBackgroundTransparent),E.selectionForeground=U.selectionForeground?H(U.selectionForeground,T.NULL_COLOR):void 0,E.selectionForeground===T.NULL_COLOR&&(E.selectionForeground=void 0),T.color.isOpaque(E.selectionBackgroundTransparent)&&(E.selectionBackgroundTransparent=T.color.opacity(E.selectionBackgroundTransparent,.3)),T.color.isOpaque(E.selectionInactiveBackgroundTransparent)&&(E.selectionInactiveBackgroundTransparent=T.color.opacity(E.selectionInactiveBackgroundTransparent,.3)),E.ansi=g.DEFAULT_ANSI_COLORS.slice(),E.ansi[0]=H(U.black,g.DEFAULT_ANSI_COLORS[0]),E.ansi[1]=H(U.red,g.DEFAULT_ANSI_COLORS[1]),E.ansi[2]=H(U.green,g.DEFAULT_ANSI_COLORS[2]),E.ansi[3]=H(U.yellow,g.DEFAULT_ANSI_COLORS[3]),E.ansi[4]=H(U.blue,g.DEFAULT_ANSI_COLORS[4]),E.ansi[5]=H(U.magenta,g.DEFAULT_ANSI_COLORS[5]),E.ansi[6]=H(U.cyan,g.DEFAULT_ANSI_COLORS[6]),E.ansi[7]=H(U.white,g.DEFAULT_ANSI_COLORS[7]),E.ansi[8]=H(U.brightBlack,g.DEFAULT_ANSI_COLORS[8]),E.ansi[9]=H(U.brightRed,g.DEFAULT_ANSI_COLORS[9]),E.ansi[10]=H(U.brightGreen,g.DEFAULT_ANSI_COLORS[10]),E.ansi[11]=H(U.brightYellow,g.DEFAULT_ANSI_COLORS[11]),E.ansi[12]=H(U.brightBlue,g.DEFAULT_ANSI_COLORS[12]),E.ansi[13]=H(U.brightMagenta,g.DEFAULT_ANSI_COLORS[13]),E.ansi[14]=H(U.brightCyan,g.DEFAULT_ANSI_COLORS[14]),E.ansi[15]=H(U.brightWhite,g.DEFAULT_ANSI_COLORS[15]),U.extendedAnsi){const N=Math.min(E.ansi.length-16,U.extendedAnsi.length);for(let Q=0;Q<N;Q++)E.ansi[Q+16]=H(U.extendedAnsi[Q],g.DEFAULT_ANSI_COLORS[Q+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(U){this._restoreColor(U),this._onChangeColors.fire(this.colors)}_restoreColor(U){if(U!==void 0)switch(U){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[U]=this._restoreColors.ansi[U]}else for(let E=0;E<this._restoreColors.ansi.length;++E)this._colors.ansi[E]=this._restoreColors.ansi[E]}modifyColors(U){U(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function H(U,E){if(U!==void 0)try{return T.css.toColor(U)}catch{}return E}g.ThemeService=x=m([b(0,A.IOptionsService)],x)},6349:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.CircularList=void 0;const m=_(8460),b=_(844);class y extends b.Disposable{constructor(M){super(),this._maxLength=M,this.onDeleteEmitter=this.register(new m.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new m.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new m.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(M){if(this._maxLength===M)return;const k=new Array(M);for(let A=0;A<Math.min(M,this.length);A++)k[A]=this._array[this._getCyclicIndex(A)];this._array=k,this._maxLength=M,this._startIndex=0}get length(){return this._length}set length(M){if(M>this._length)for(let k=this._length;k<M;k++)this._array[k]=void 0;this._length=M}get(M){return this._array[this._getCyclicIndex(M)]}set(M,k){this._array[this._getCyclicIndex(M)]=k}push(M){this._array[this._getCyclicIndex(this._length)]=M,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(M,k,...A){if(k){for(let c=M;c<this._length-k;c++)this._array[this._getCyclicIndex(c)]=this._array[this._getCyclicIndex(c+k)];this._length-=k,this.onDeleteEmitter.fire({index:M,amount:k})}for(let c=this._length-1;c>=M;c--)this._array[this._getCyclicIndex(c+A.length)]=this._array[this._getCyclicIndex(c)];for(let c=0;c<A.length;c++)this._array[this._getCyclicIndex(M+c)]=A[c];if(A.length&&this.onInsertEmitter.fire({index:M,amount:A.length}),this._length+A.length>this._maxLength){const c=this._length+A.length-this._maxLength;this._startIndex+=c,this._length=this._maxLength,this.onTrimEmitter.fire(c)}else this._length+=A.length}trimStart(M){M>this._length&&(M=this._length),this._startIndex+=M,this._length-=M,this.onTrimEmitter.fire(M)}shiftElements(M,k,A){if(!(k<=0)){if(M<0||M>=this._length)throw new Error("start argument out of range");if(M+A<0)throw new Error("Cannot shift elements in list beyond index 0");if(A>0){for(let f=k-1;f>=0;f--)this.set(M+f+A,this.get(M+f));const c=M+k+A-this._length;if(c>0)for(this._length+=c;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let c=0;c<k;c++)this.set(M+c+A,this.get(M+c))}}_getCyclicIndex(M){return(this._startIndex+M)%this._maxLength}}g.CircularList=y},1439:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.clone=void 0,g.clone=function _(m,b=5){if(typeof m!="object")return m;const y=Array.isArray(m)?[]:{};for(const T in m)y[T]=b<=1?m[T]:m[T]&&_(m[T],b-1);return y}},8055:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.contrastRatio=g.toPaddedHex=g.rgba=g.rgb=g.css=g.color=g.channels=g.NULL_COLOR=void 0;const m=_(6114);let b=0,y=0,T=0,M=0;var k,A,c,f,d;function v(x){const H=x.toString(16);return H.length<2?"0"+H:H}function C(x,H){return x<H?(H+.05)/(x+.05):(x+.05)/(H+.05)}g.NULL_COLOR={css:"#00000000",rgba:0},function(x){x.toCss=function(H,U,E,N){return N!==void 0?`#${v(H)}${v(U)}${v(E)}${v(N)}`:`#${v(H)}${v(U)}${v(E)}`},x.toRgba=function(H,U,E,N=255){return(H<<24|U<<16|E<<8|N)>>>0}}(k||(g.channels=k={})),function(x){function H(U,E){return M=Math.round(255*E),[b,y,T]=d.toChannels(U.rgba),{css:k.toCss(b,y,T,M),rgba:k.toRgba(b,y,T,M)}}x.blend=function(U,E){if(M=(255&E.rgba)/255,M===1)return{css:E.css,rgba:E.rgba};const N=E.rgba>>24&255,Q=E.rgba>>16&255,te=E.rgba>>8&255,X=U.rgba>>24&255,ie=U.rgba>>16&255,_e=U.rgba>>8&255;return b=X+Math.round((N-X)*M),y=ie+Math.round((Q-ie)*M),T=_e+Math.round((te-_e)*M),{css:k.toCss(b,y,T),rgba:k.toRgba(b,y,T)}},x.isOpaque=function(U){return(255&U.rgba)==255},x.ensureContrastRatio=function(U,E,N){const Q=d.ensureContrastRatio(U.rgba,E.rgba,N);if(Q)return d.toColor(Q>>24&255,Q>>16&255,Q>>8&255)},x.opaque=function(U){const E=(255|U.rgba)>>>0;return[b,y,T]=d.toChannels(E),{css:k.toCss(b,y,T),rgba:E}},x.opacity=H,x.multiplyOpacity=function(U,E){return M=255&U.rgba,H(U,M*E/255)},x.toColorRGB=function(U){return[U.rgba>>24&255,U.rgba>>16&255,U.rgba>>8&255]}}(A||(g.color=A={})),function(x){let H,U;if(!m.isNode){const E=document.createElement("canvas");E.width=1,E.height=1;const N=E.getContext("2d",{willReadFrequently:!0});N&&(H=N,H.globalCompositeOperation="copy",U=H.createLinearGradient(0,0,1,1))}x.toColor=function(E){if(E.match(/#[\da-f]{3,8}/i))switch(E.length){case 4:return b=parseInt(E.slice(1,2).repeat(2),16),y=parseInt(E.slice(2,3).repeat(2),16),T=parseInt(E.slice(3,4).repeat(2),16),d.toColor(b,y,T);case 5:return b=parseInt(E.slice(1,2).repeat(2),16),y=parseInt(E.slice(2,3).repeat(2),16),T=parseInt(E.slice(3,4).repeat(2),16),M=parseInt(E.slice(4,5).repeat(2),16),d.toColor(b,y,T,M);case 7:return{css:E,rgba:(parseInt(E.slice(1),16)<<8|255)>>>0};case 9:return{css:E,rgba:parseInt(E.slice(1),16)>>>0}}const N=E.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(N)return b=parseInt(N[1]),y=parseInt(N[2]),T=parseInt(N[3]),M=Math.round(255*(N[5]===void 0?1:parseFloat(N[5]))),d.toColor(b,y,T,M);if(!H||!U)throw new Error("css.toColor: Unsupported css format");if(H.fillStyle=U,H.fillStyle=E,typeof H.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(H.fillRect(0,0,1,1),[b,y,T,M]=H.getImageData(0,0,1,1).data,M!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:k.toRgba(b,y,T,M),css:E}}}(c||(g.css=c={})),function(x){function H(U,E,N){const Q=U/255,te=E/255,X=N/255;return .2126*(Q<=.03928?Q/12.92:Math.pow((Q+.055)/1.055,2.4))+.7152*(te<=.03928?te/12.92:Math.pow((te+.055)/1.055,2.4))+.0722*(X<=.03928?X/12.92:Math.pow((X+.055)/1.055,2.4))}x.relativeLuminance=function(U){return H(U>>16&255,U>>8&255,255&U)},x.relativeLuminance2=H}(f||(g.rgb=f={})),function(x){function H(E,N,Q){const te=E>>24&255,X=E>>16&255,ie=E>>8&255;let _e=N>>24&255,ue=N>>16&255,K=N>>8&255,J=C(f.relativeLuminance2(_e,ue,K),f.relativeLuminance2(te,X,ie));for(;J<Q&&(_e>0||ue>0||K>0);)_e-=Math.max(0,Math.ceil(.1*_e)),ue-=Math.max(0,Math.ceil(.1*ue)),K-=Math.max(0,Math.ceil(.1*K)),J=C(f.relativeLuminance2(_e,ue,K),f.relativeLuminance2(te,X,ie));return(_e<<24|ue<<16|K<<8|255)>>>0}function U(E,N,Q){const te=E>>24&255,X=E>>16&255,ie=E>>8&255;let _e=N>>24&255,ue=N>>16&255,K=N>>8&255,J=C(f.relativeLuminance2(_e,ue,K),f.relativeLuminance2(te,X,ie));for(;J<Q&&(_e<255||ue<255||K<255);)_e=Math.min(255,_e+Math.ceil(.1*(255-_e))),ue=Math.min(255,ue+Math.ceil(.1*(255-ue))),K=Math.min(255,K+Math.ceil(.1*(255-K))),J=C(f.relativeLuminance2(_e,ue,K),f.relativeLuminance2(te,X,ie));return(_e<<24|ue<<16|K<<8|255)>>>0}x.ensureContrastRatio=function(E,N,Q){const te=f.relativeLuminance(E>>8),X=f.relativeLuminance(N>>8);if(C(te,X)<Q){if(X<te){const ue=H(E,N,Q),K=C(te,f.relativeLuminance(ue>>8));if(K<Q){const J=U(E,N,Q);return K>C(te,f.relativeLuminance(J>>8))?ue:J}return ue}const ie=U(E,N,Q),_e=C(te,f.relativeLuminance(ie>>8));if(_e<Q){const ue=H(E,N,Q);return _e>C(te,f.relativeLuminance(ue>>8))?ie:ue}return ie}},x.reduceLuminance=H,x.increaseLuminance=U,x.toChannels=function(E){return[E>>24&255,E>>16&255,E>>8&255,255&E]},x.toColor=function(E,N,Q,te){return{css:k.toCss(E,N,Q,te),rgba:k.toRgba(E,N,Q,te)}}}(d||(g.rgba=d={})),g.toPaddedHex=v,g.contrastRatio=C},8969:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.CoreTerminal=void 0;const m=_(844),b=_(2585),y=_(4348),T=_(7866),M=_(744),k=_(7302),A=_(6975),c=_(8460),f=_(1753),d=_(1480),v=_(7994),C=_(9282),x=_(5435),H=_(5981),U=_(2660);let E=!1;class N extends m.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new c.EventEmitter),this._onScroll.event(te=>{var X;(X=this._onScrollApi)===null||X===void 0||X.fire(te.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(te){for(const X in te)this.optionsService.options[X]=te[X]}constructor(te){super(),this._windowsWrappingHeuristics=this.register(new m.MutableDisposable),this._onBinary=this.register(new c.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new c.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new c.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new c.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new c.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new c.EventEmitter),this._instantiationService=new y.InstantiationService,this.optionsService=this.register(new k.OptionsService(te)),this._instantiationService.setService(b.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(M.BufferService)),this._instantiationService.setService(b.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(T.LogService)),this._instantiationService.setService(b.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(A.CoreService)),this._instantiationService.setService(b.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(f.CoreMouseService)),this._instantiationService.setService(b.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(d.UnicodeService)),this._instantiationService.setService(b.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(v.CharsetService),this._instantiationService.setService(b.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(U.OscLinkService),this._instantiationService.setService(b.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new x.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,c.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,c.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,c.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,c.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(X=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(X=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new H.WriteBuffer((X,ie)=>this._inputHandler.parse(X,ie))),this.register((0,c.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(te,X){this._writeBuffer.write(te,X)}writeSync(te,X){this._logService.logLevel<=b.LogLevelEnum.WARN&&!E&&(this._logService.warn("writeSync is unreliable and will be removed soon."),E=!0),this._writeBuffer.writeSync(te,X)}resize(te,X){isNaN(te)||isNaN(X)||(te=Math.max(te,M.MINIMUM_COLS),X=Math.max(X,M.MINIMUM_ROWS),this._bufferService.resize(te,X))}scroll(te,X=!1){this._bufferService.scroll(te,X)}scrollLines(te,X,ie){this._bufferService.scrollLines(te,X,ie)}scrollPages(te){this.scrollLines(te*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(te){const X=te-this._bufferService.buffer.ydisp;X!==0&&this.scrollLines(X)}registerEscHandler(te,X){return this._inputHandler.registerEscHandler(te,X)}registerDcsHandler(te,X){return this._inputHandler.registerDcsHandler(te,X)}registerCsiHandler(te,X){return this._inputHandler.registerCsiHandler(te,X)}registerOscHandler(te,X){return this._inputHandler.registerOscHandler(te,X)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let te=!1;const X=this.optionsService.rawOptions.windowsPty;X&&X.buildNumber!==void 0&&X.buildNumber!==void 0?te=X.backend==="conpty"&&X.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(te=!0),te?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const te=[];te.push(this.onLineFeed(C.updateWindowsModeWrappedState.bind(null,this._bufferService))),te.push(this.registerCsiHandler({final:"H"},()=>((0,C.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,m.toDisposable)(()=>{for(const X of te)X.dispose()})}}}g.CoreTerminal=N},8460:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.forwardEvent=g.EventEmitter=void 0,g.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=_=>(this._listeners.push(_),{dispose:()=>{if(!this._disposed){for(let m=0;m<this._listeners.length;m++)if(this._listeners[m]===_)return void this._listeners.splice(m,1)}}})),this._event}fire(_,m){const b=[];for(let y=0;y<this._listeners.length;y++)b.push(this._listeners[y]);for(let y=0;y<b.length;y++)b[y].call(void 0,_,m)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},g.forwardEvent=function(_,m){return _(b=>m.fire(b))}},5435:function($,g,_){var m=this&&this.__decorate||function(J,z,q,O){var G,se=arguments.length,fe=se<3?z:O===null?O=Object.getOwnPropertyDescriptor(z,q):O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")fe=Reflect.decorate(J,z,q,O);else for(var we=J.length-1;we>=0;we--)(G=J[we])&&(fe=(se<3?G(fe):se>3?G(z,q,fe):G(z,q))||fe);return se>3&&fe&&Object.defineProperty(z,q,fe),fe},b=this&&this.__param||function(J,z){return function(q,O){z(q,O,J)}};Object.defineProperty(g,"__esModule",{value:!0}),g.InputHandler=g.WindowsOptionsReportType=void 0;const y=_(2584),T=_(7116),M=_(2015),k=_(844),A=_(482),c=_(8437),f=_(8460),d=_(643),v=_(511),C=_(3734),x=_(2585),H=_(6242),U=_(6351),E=_(5941),N={"(":0,")":1,"*":2,"+":3,"-":1,".":2},Q=131072;function te(J,z){if(J>24)return z.setWinLines||!1;switch(J){case 1:return!!z.restoreWin;case 2:return!!z.minimizeWin;case 3:return!!z.setWinPosition;case 4:return!!z.setWinSizePixels;case 5:return!!z.raiseWin;case 6:return!!z.lowerWin;case 7:return!!z.refreshWin;case 8:return!!z.setWinSizeChars;case 9:return!!z.maximizeWin;case 10:return!!z.fullscreenWin;case 11:return!!z.getWinState;case 13:return!!z.getWinPosition;case 14:return!!z.getWinSizePixels;case 15:return!!z.getScreenSizePixels;case 16:return!!z.getCellSizePixels;case 18:return!!z.getWinSizeChars;case 19:return!!z.getScreenSizeChars;case 20:return!!z.getIconTitle;case 21:return!!z.getWinTitle;case 22:return!!z.pushTitle;case 23:return!!z.popTitle;case 24:return!!z.setWinLines}return!1}var X;(function(J){J[J.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",J[J.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(X||(g.WindowsOptionsReportType=X={}));let ie=0;class _e extends k.Disposable{getAttrData(){return this._curAttrData}constructor(z,q,O,G,se,fe,we,De,Be=new M.EscapeSequenceParser){super(),this._bufferService=z,this._charsetService=q,this._coreService=O,this._logService=G,this._optionsService=se,this._oscLinkService=fe,this._coreMouseService=we,this._unicodeService=De,this._parser=Be,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new A.StringToUtf32,this._utf8Decoder=new A.Utf8ToUtf32,this._workCell=new v.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=c.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new f.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new f.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new f.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new f.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new f.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new f.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new f.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new f.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new f.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new f.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new f.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new f.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new f.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new ue(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(j=>this._activeBuffer=j.activeBuffer)),this._parser.setCsiHandlerFallback((j,oe)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(j),params:oe.toArray()})}),this._parser.setEscHandlerFallback(j=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(j)})}),this._parser.setExecuteHandlerFallback(j=>{this._logService.debug("Unknown EXECUTE code: ",{code:j})}),this._parser.setOscHandlerFallback((j,oe,me)=>{this._logService.debug("Unknown OSC code: ",{identifier:j,action:oe,data:me})}),this._parser.setDcsHandlerFallback((j,oe,me)=>{oe==="HOOK"&&(me=me.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(j),action:oe,payload:me})}),this._parser.setPrintHandler((j,oe,me)=>this.print(j,oe,me)),this._parser.registerCsiHandler({final:"@"},j=>this.insertChars(j)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},j=>this.scrollLeft(j)),this._parser.registerCsiHandler({final:"A"},j=>this.cursorUp(j)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},j=>this.scrollRight(j)),this._parser.registerCsiHandler({final:"B"},j=>this.cursorDown(j)),this._parser.registerCsiHandler({final:"C"},j=>this.cursorForward(j)),this._parser.registerCsiHandler({final:"D"},j=>this.cursorBackward(j)),this._parser.registerCsiHandler({final:"E"},j=>this.cursorNextLine(j)),this._parser.registerCsiHandler({final:"F"},j=>this.cursorPrecedingLine(j)),this._parser.registerCsiHandler({final:"G"},j=>this.cursorCharAbsolute(j)),this._parser.registerCsiHandler({final:"H"},j=>this.cursorPosition(j)),this._parser.registerCsiHandler({final:"I"},j=>this.cursorForwardTab(j)),this._parser.registerCsiHandler({final:"J"},j=>this.eraseInDisplay(j,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},j=>this.eraseInDisplay(j,!0)),this._parser.registerCsiHandler({final:"K"},j=>this.eraseInLine(j,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},j=>this.eraseInLine(j,!0)),this._parser.registerCsiHandler({final:"L"},j=>this.insertLines(j)),this._parser.registerCsiHandler({final:"M"},j=>this.deleteLines(j)),this._parser.registerCsiHandler({final:"P"},j=>this.deleteChars(j)),this._parser.registerCsiHandler({final:"S"},j=>this.scrollUp(j)),this._parser.registerCsiHandler({final:"T"},j=>this.scrollDown(j)),this._parser.registerCsiHandler({final:"X"},j=>this.eraseChars(j)),this._parser.registerCsiHandler({final:"Z"},j=>this.cursorBackwardTab(j)),this._parser.registerCsiHandler({final:"`"},j=>this.charPosAbsolute(j)),this._parser.registerCsiHandler({final:"a"},j=>this.hPositionRelative(j)),this._parser.registerCsiHandler({final:"b"},j=>this.repeatPrecedingCharacter(j)),this._parser.registerCsiHandler({final:"c"},j=>this.sendDeviceAttributesPrimary(j)),this._parser.registerCsiHandler({prefix:">",final:"c"},j=>this.sendDeviceAttributesSecondary(j)),this._parser.registerCsiHandler({final:"d"},j=>this.linePosAbsolute(j)),this._parser.registerCsiHandler({final:"e"},j=>this.vPositionRelative(j)),this._parser.registerCsiHandler({final:"f"},j=>this.hVPosition(j)),this._parser.registerCsiHandler({final:"g"},j=>this.tabClear(j)),this._parser.registerCsiHandler({final:"h"},j=>this.setMode(j)),this._parser.registerCsiHandler({prefix:"?",final:"h"},j=>this.setModePrivate(j)),this._parser.registerCsiHandler({final:"l"},j=>this.resetMode(j)),this._parser.registerCsiHandler({prefix:"?",final:"l"},j=>this.resetModePrivate(j)),this._parser.registerCsiHandler({final:"m"},j=>this.charAttributes(j)),this._parser.registerCsiHandler({final:"n"},j=>this.deviceStatus(j)),this._parser.registerCsiHandler({prefix:"?",final:"n"},j=>this.deviceStatusPrivate(j)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},j=>this.softReset(j)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},j=>this.setCursorStyle(j)),this._parser.registerCsiHandler({final:"r"},j=>this.setScrollRegion(j)),this._parser.registerCsiHandler({final:"s"},j=>this.saveCursor(j)),this._parser.registerCsiHandler({final:"t"},j=>this.windowOptions(j)),this._parser.registerCsiHandler({final:"u"},j=>this.restoreCursor(j)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},j=>this.insertColumns(j)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},j=>this.deleteColumns(j)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},j=>this.selectProtected(j)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},j=>this.requestMode(j,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},j=>this.requestMode(j,!1)),this._parser.setExecuteHandler(y.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(y.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(y.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(y.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(y.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(y.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(y.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(y.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(y.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(y.C1.IND,()=>this.index()),this._parser.setExecuteHandler(y.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(y.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new H.OscHandler(j=>(this.setTitle(j),this.setIconName(j),!0))),this._parser.registerOscHandler(1,new H.OscHandler(j=>this.setIconName(j))),this._parser.registerOscHandler(2,new H.OscHandler(j=>this.setTitle(j))),this._parser.registerOscHandler(4,new H.OscHandler(j=>this.setOrReportIndexedColor(j))),this._parser.registerOscHandler(8,new H.OscHandler(j=>this.setHyperlink(j))),this._parser.registerOscHandler(10,new H.OscHandler(j=>this.setOrReportFgColor(j))),this._parser.registerOscHandler(11,new H.OscHandler(j=>this.setOrReportBgColor(j))),this._parser.registerOscHandler(12,new H.OscHandler(j=>this.setOrReportCursorColor(j))),this._parser.registerOscHandler(104,new H.OscHandler(j=>this.restoreIndexedColor(j))),this._parser.registerOscHandler(110,new H.OscHandler(j=>this.restoreFgColor(j))),this._parser.registerOscHandler(111,new H.OscHandler(j=>this.restoreBgColor(j))),this._parser.registerOscHandler(112,new H.OscHandler(j=>this.restoreCursorColor(j))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const j in T.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:j},()=>this.selectCharset("("+j)),this._parser.registerEscHandler({intermediates:")",final:j},()=>this.selectCharset(")"+j)),this._parser.registerEscHandler({intermediates:"*",final:j},()=>this.selectCharset("*"+j)),this._parser.registerEscHandler({intermediates:"+",final:j},()=>this.selectCharset("+"+j)),this._parser.registerEscHandler({intermediates:"-",final:j},()=>this.selectCharset("-"+j)),this._parser.registerEscHandler({intermediates:".",final:j},()=>this.selectCharset("."+j)),this._parser.registerEscHandler({intermediates:"/",final:j},()=>this.selectCharset("/"+j));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(j=>(this._logService.error("Parsing error: ",j),j)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new U.DcsHandler((j,oe)=>this.requestStatusString(j,oe)))}_preserveStack(z,q,O,G){this._parseStack.paused=!0,this._parseStack.cursorStartX=z,this._parseStack.cursorStartY=q,this._parseStack.decodedLength=O,this._parseStack.position=G}_logSlowResolvingAsync(z){this._logService.logLevel<=x.LogLevelEnum.WARN&&Promise.race([z,new Promise((q,O)=>setTimeout(()=>O("#SLOW_TIMEOUT"),5e3))]).catch(q=>{if(q!=="#SLOW_TIMEOUT")throw q;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(z,q){let O,G=this._activeBuffer.x,se=this._activeBuffer.y,fe=0;const we=this._parseStack.paused;if(we){if(O=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,q))return this._logSlowResolvingAsync(O),O;G=this._parseStack.cursorStartX,se=this._parseStack.cursorStartY,this._parseStack.paused=!1,z.length>Q&&(fe=this._parseStack.position+Q)}if(this._logService.logLevel<=x.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof z=="string"?` "${z}"`:` "${Array.prototype.map.call(z,De=>String.fromCharCode(De)).join("")}"`),typeof z=="string"?z.split("").map(De=>De.charCodeAt(0)):z),this._parseBuffer.length<z.length&&this._parseBuffer.length<Q&&(this._parseBuffer=new Uint32Array(Math.min(z.length,Q))),we||this._dirtyRowTracker.clearRange(),z.length>Q)for(let De=fe;De<z.length;De+=Q){const Be=De+Q<z.length?De+Q:z.length,j=typeof z=="string"?this._stringDecoder.decode(z.substring(De,Be),this._parseBuffer):this._utf8Decoder.decode(z.subarray(De,Be),this._parseBuffer);if(O=this._parser.parse(this._parseBuffer,j))return this._preserveStack(G,se,j,De),this._logSlowResolvingAsync(O),O}else if(!we){const De=typeof z=="string"?this._stringDecoder.decode(z,this._parseBuffer):this._utf8Decoder.decode(z,this._parseBuffer);if(O=this._parser.parse(this._parseBuffer,De))return this._preserveStack(G,se,De,0),this._logSlowResolvingAsync(O),O}this._activeBuffer.x===G&&this._activeBuffer.y===se||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(z,q,O){let G,se;const fe=this._charsetService.charset,we=this._optionsService.rawOptions.screenReaderMode,De=this._bufferService.cols,Be=this._coreService.decPrivateModes.wraparound,j=this._coreService.modes.insertMode,oe=this._curAttrData;let me=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&O-q>0&&me.getWidth(this._activeBuffer.x-1)===2&&me.setCellFromCodePoint(this._activeBuffer.x-1,0,1,oe.fg,oe.bg,oe.extended);for(let ye=q;ye<O;++ye){if(G=z[ye],se=this._unicodeService.wcwidth(G),G<127&&fe){const Ne=fe[String.fromCharCode(G)];Ne&&(G=Ne.charCodeAt(0))}if(we&&this._onA11yChar.fire((0,A.stringFromCodePoint)(G)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),se||!this._activeBuffer.x){if(this._activeBuffer.x+se-1>=De){if(Be){for(;this._activeBuffer.x<De;)me.setCellFromCodePoint(this._activeBuffer.x++,0,1,oe.fg,oe.bg,oe.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),me=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=De-1,se===2)continue}if(j&&(me.insertCells(this._activeBuffer.x,se,this._activeBuffer.getNullCell(oe),oe),me.getWidth(De-1)===2&&me.setCellFromCodePoint(De-1,d.NULL_CELL_CODE,d.NULL_CELL_WIDTH,oe.fg,oe.bg,oe.extended)),me.setCellFromCodePoint(this._activeBuffer.x++,G,se,oe.fg,oe.bg,oe.extended),se>0)for(;--se;)me.setCellFromCodePoint(this._activeBuffer.x++,0,0,oe.fg,oe.bg,oe.extended)}else me.getWidth(this._activeBuffer.x-1)?me.addCodepointToCell(this._activeBuffer.x-1,G):me.addCodepointToCell(this._activeBuffer.x-2,G)}O-q>0&&(me.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<De&&O-q>0&&me.getWidth(this._activeBuffer.x)===0&&!me.hasContent(this._activeBuffer.x)&&me.setCellFromCodePoint(this._activeBuffer.x,0,1,oe.fg,oe.bg,oe.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(z,q){return z.final!=="t"||z.prefix||z.intermediates?this._parser.registerCsiHandler(z,q):this._parser.registerCsiHandler(z,O=>!te(O.params[0],this._optionsService.rawOptions.windowOptions)||q(O))}registerDcsHandler(z,q){return this._parser.registerDcsHandler(z,new U.DcsHandler(q))}registerEscHandler(z,q){return this._parser.registerEscHandler(z,q)}registerOscHandler(z,q){return this._parser.registerOscHandler(z,new H.OscHandler(q))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var z;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||z===void 0)&&z.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);q.hasWidth(this._activeBuffer.x)&&!q.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const z=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-z),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(z=this._bufferService.cols-1){this._activeBuffer.x=Math.min(z,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(z,q){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=z,this._activeBuffer.y=this._activeBuffer.scrollTop+q):(this._activeBuffer.x=z,this._activeBuffer.y=q),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(z,q){this._restrictCursor(),this._setCursor(this._activeBuffer.x+z,this._activeBuffer.y+q)}cursorUp(z){const q=this._activeBuffer.y-this._activeBuffer.scrollTop;return q>=0?this._moveCursor(0,-Math.min(q,z.params[0]||1)):this._moveCursor(0,-(z.params[0]||1)),!0}cursorDown(z){const q=this._activeBuffer.scrollBottom-this._activeBuffer.y;return q>=0?this._moveCursor(0,Math.min(q,z.params[0]||1)):this._moveCursor(0,z.params[0]||1),!0}cursorForward(z){return this._moveCursor(z.params[0]||1,0),!0}cursorBackward(z){return this._moveCursor(-(z.params[0]||1),0),!0}cursorNextLine(z){return this.cursorDown(z),this._activeBuffer.x=0,!0}cursorPrecedingLine(z){return this.cursorUp(z),this._activeBuffer.x=0,!0}cursorCharAbsolute(z){return this._setCursor((z.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(z){return this._setCursor(z.length>=2?(z.params[1]||1)-1:0,(z.params[0]||1)-1),!0}charPosAbsolute(z){return this._setCursor((z.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(z){return this._moveCursor(z.params[0]||1,0),!0}linePosAbsolute(z){return this._setCursor(this._activeBuffer.x,(z.params[0]||1)-1),!0}vPositionRelative(z){return this._moveCursor(0,z.params[0]||1),!0}hVPosition(z){return this.cursorPosition(z),!0}tabClear(z){const q=z.params[0];return q===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:q===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(z){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let q=z.params[0]||1;for(;q--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(z){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let q=z.params[0]||1;for(;q--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(z){const q=z.params[0];return q===1&&(this._curAttrData.bg|=536870912),q!==2&&q!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(z,q,O,G=!1,se=!1){const fe=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);fe.replaceCells(q,O,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),se),G&&(fe.isWrapped=!1)}_resetBufferLine(z,q=!1){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);O&&(O.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),q),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+z),O.isWrapped=!1)}eraseInDisplay(z,q=!1){let O;switch(this._restrictCursor(this._bufferService.cols),z.params[0]){case 0:for(O=this._activeBuffer.y,this._dirtyRowTracker.markDirty(O),this._eraseInBufferLine(O++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,q);O<this._bufferService.rows;O++)this._resetBufferLine(O,q);this._dirtyRowTracker.markDirty(O);break;case 1:for(O=this._activeBuffer.y,this._dirtyRowTracker.markDirty(O),this._eraseInBufferLine(O,0,this._activeBuffer.x+1,!0,q),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(O+1).isWrapped=!1);O--;)this._resetBufferLine(O,q);this._dirtyRowTracker.markDirty(0);break;case 2:for(O=this._bufferService.rows,this._dirtyRowTracker.markDirty(O-1);O--;)this._resetBufferLine(O,q);this._dirtyRowTracker.markDirty(0);break;case 3:const G=this._activeBuffer.lines.length-this._bufferService.rows;G>0&&(this._activeBuffer.lines.trimStart(G),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-G,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-G,0),this._onScroll.fire(0))}return!0}eraseInLine(z,q=!1){switch(this._restrictCursor(this._bufferService.cols),z.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,q);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,q);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,q)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(z){this._restrictCursor();let q=z.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const O=this._activeBuffer.ybase+this._activeBuffer.y,G=this._bufferService.rows-1-this._activeBuffer.scrollBottom,se=this._bufferService.rows-1+this._activeBuffer.ybase-G+1;for(;q--;)this._activeBuffer.lines.splice(se-1,1),this._activeBuffer.lines.splice(O,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(z){this._restrictCursor();let q=z.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const O=this._activeBuffer.ybase+this._activeBuffer.y;let G;for(G=this._bufferService.rows-1-this._activeBuffer.scrollBottom,G=this._bufferService.rows-1+this._activeBuffer.ybase-G;q--;)this._activeBuffer.lines.splice(O,1),this._activeBuffer.lines.splice(G,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(z){this._restrictCursor();const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return q&&(q.insertCells(this._activeBuffer.x,z.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(z){this._restrictCursor();const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return q&&(q.deleteCells(this._activeBuffer.x,z.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(z){let q=z.params[0]||1;for(;q--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(z){let q=z.params[0]||1;for(;q--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(c.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(z){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const q=z.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const G=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);G.deleteCells(0,q,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),G.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(z){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const q=z.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const G=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);G.insertCells(0,q,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),G.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(z){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const q=z.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const G=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);G.insertCells(this._activeBuffer.x,q,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),G.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(z){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const q=z.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const G=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);G.deleteCells(this._activeBuffer.x,q,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),G.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(z){this._restrictCursor();const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return q&&(q.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(z.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(z){if(!this._parser.precedingCodepoint)return!0;const q=z.params[0]||1,O=new Uint32Array(q);for(let G=0;G<q;++G)O[G]=this._parser.precedingCodepoint;return this.print(O,0,O.length),!0}sendDeviceAttributesPrimary(z){return z.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(y.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(y.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(z){return z.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(y.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(y.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(z.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(y.C0.ESC+"[>83;40003;0c")),!0}_is(z){return(this._optionsService.rawOptions.termName+"").indexOf(z)===0}setMode(z){for(let q=0;q<z.length;q++)switch(z.params[q]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(z){for(let q=0;q<z.length;q++)switch(z.params[q]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,T.DEFAULT_CHARSET),this._charsetService.setgCharset(1,T.DEFAULT_CHARSET),this._charsetService.setgCharset(2,T.DEFAULT_CHARSET),this._charsetService.setgCharset(3,T.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(z){for(let q=0;q<z.length;q++)switch(z.params[q]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(z){for(let q=0;q<z.length;q++)switch(z.params[q]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),z.params[q]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(z,q){const O=this._coreService.decPrivateModes,{activeProtocol:G,activeEncoding:se}=this._coreMouseService,fe=this._coreService,{buffers:we,cols:De}=this._bufferService,{active:Be,alt:j}=we,oe=this._optionsService.rawOptions,me=$e=>$e?1:2,ye=z.params[0];return Ne=ye,Oe=q?ye===2?4:ye===4?me(fe.modes.insertMode):ye===12?3:ye===20?me(oe.convertEol):0:ye===1?me(O.applicationCursorKeys):ye===3?oe.windowOptions.setWinLines?De===80?2:De===132?1:0:0:ye===6?me(O.origin):ye===7?me(O.wraparound):ye===8?3:ye===9?me(G==="X10"):ye===12?me(oe.cursorBlink):ye===25?me(!fe.isCursorHidden):ye===45?me(O.reverseWraparound):ye===66?me(O.applicationKeypad):ye===67?4:ye===1e3?me(G==="VT200"):ye===1002?me(G==="DRAG"):ye===1003?me(G==="ANY"):ye===1004?me(O.sendFocus):ye===1005?4:ye===1006?me(se==="SGR"):ye===1015?4:ye===1016?me(se==="SGR_PIXELS"):ye===1048?1:ye===47||ye===1047||ye===1049?me(Be===j):ye===2004?me(O.bracketedPasteMode):0,fe.triggerDataEvent(`${y.C0.ESC}[${q?"":"?"}${Ne};${Oe}$y`),!0;var Ne,Oe}_updateAttrColor(z,q,O,G,se){return q===2?(z|=50331648,z&=-16777216,z|=C.AttributeData.fromColorRGB([O,G,se])):q===5&&(z&=-50331904,z|=33554432|255&O),z}_extractColor(z,q,O){const G=[0,0,-1,0,0,0];let se=0,fe=0;do{if(G[fe+se]=z.params[q+fe],z.hasSubParams(q+fe)){const we=z.getSubParams(q+fe);let De=0;do G[1]===5&&(se=1),G[fe+De+1+se]=we[De];while(++De<we.length&&De+fe+1+se<G.length);break}if(G[1]===5&&fe+se>=2||G[1]===2&&fe+se>=5)break;G[1]&&(se=1)}while(++fe+q<z.length&&fe+se<G.length);for(let we=2;we<G.length;++we)G[we]===-1&&(G[we]=0);switch(G[0]){case 38:O.fg=this._updateAttrColor(O.fg,G[1],G[3],G[4],G[5]);break;case 48:O.bg=this._updateAttrColor(O.bg,G[1],G[3],G[4],G[5]);break;case 58:O.extended=O.extended.clone(),O.extended.underlineColor=this._updateAttrColor(O.extended.underlineColor,G[1],G[3],G[4],G[5])}return fe}_processUnderline(z,q){q.extended=q.extended.clone(),(!~z||z>5)&&(z=1),q.extended.underlineStyle=z,q.fg|=268435456,z===0&&(q.fg&=-268435457),q.updateExtended()}_processSGR0(z){z.fg=c.DEFAULT_ATTR_DATA.fg,z.bg=c.DEFAULT_ATTR_DATA.bg,z.extended=z.extended.clone(),z.extended.underlineStyle=0,z.extended.underlineColor&=-67108864,z.updateExtended()}charAttributes(z){if(z.length===1&&z.params[0]===0)return this._processSGR0(this._curAttrData),!0;const q=z.length;let O;const G=this._curAttrData;for(let se=0;se<q;se++)O=z.params[se],O>=30&&O<=37?(G.fg&=-50331904,G.fg|=16777216|O-30):O>=40&&O<=47?(G.bg&=-50331904,G.bg|=16777216|O-40):O>=90&&O<=97?(G.fg&=-50331904,G.fg|=16777224|O-90):O>=100&&O<=107?(G.bg&=-50331904,G.bg|=16777224|O-100):O===0?this._processSGR0(G):O===1?G.fg|=134217728:O===3?G.bg|=67108864:O===4?(G.fg|=268435456,this._processUnderline(z.hasSubParams(se)?z.getSubParams(se)[0]:1,G)):O===5?G.fg|=536870912:O===7?G.fg|=67108864:O===8?G.fg|=1073741824:O===9?G.fg|=2147483648:O===2?G.bg|=134217728:O===21?this._processUnderline(2,G):O===22?(G.fg&=-134217729,G.bg&=-134217729):O===23?G.bg&=-67108865:O===24?(G.fg&=-268435457,this._processUnderline(0,G)):O===25?G.fg&=-536870913:O===27?G.fg&=-67108865:O===28?G.fg&=-1073741825:O===29?G.fg&=2147483647:O===39?(G.fg&=-67108864,G.fg|=16777215&c.DEFAULT_ATTR_DATA.fg):O===49?(G.bg&=-67108864,G.bg|=16777215&c.DEFAULT_ATTR_DATA.bg):O===38||O===48||O===58?se+=this._extractColor(z,se,G):O===53?G.bg|=1073741824:O===55?G.bg&=-1073741825:O===59?(G.extended=G.extended.clone(),G.extended.underlineColor=-1,G.updateExtended()):O===100?(G.fg&=-67108864,G.fg|=16777215&c.DEFAULT_ATTR_DATA.fg,G.bg&=-67108864,G.bg|=16777215&c.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",O);return!0}deviceStatus(z){switch(z.params[0]){case 5:this._coreService.triggerDataEvent(`${y.C0.ESC}[0n`);break;case 6:const q=this._activeBuffer.y+1,O=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${y.C0.ESC}[${q};${O}R`)}return!0}deviceStatusPrivate(z){if(z.params[0]===6){const q=this._activeBuffer.y+1,O=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${y.C0.ESC}[?${q};${O}R`)}return!0}softReset(z){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(z){const q=z.params[0]||1;switch(q){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const O=q%2==1;return this._optionsService.options.cursorBlink=O,!0}setScrollRegion(z){const q=z.params[0]||1;let O;return(z.length<2||(O=z.params[1])>this._bufferService.rows||O===0)&&(O=this._bufferService.rows),O>q&&(this._activeBuffer.scrollTop=q-1,this._activeBuffer.scrollBottom=O-1,this._setCursor(0,0)),!0}windowOptions(z){if(!te(z.params[0],this._optionsService.rawOptions.windowOptions))return!0;const q=z.length>1?z.params[1]:0;switch(z.params[0]){case 14:q!==2&&this._onRequestWindowsOptionsReport.fire(X.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(X.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${y.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:q!==0&&q!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),q!==0&&q!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:q!==0&&q!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),q!==0&&q!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(z){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(z){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(z){return this._windowTitle=z,this._onTitleChange.fire(z),!0}setIconName(z){return this._iconName=z,!0}setOrReportIndexedColor(z){const q=[],O=z.split(";");for(;O.length>1;){const G=O.shift(),se=O.shift();if(/^\d+$/.exec(G)){const fe=parseInt(G);if(K(fe))if(se==="?")q.push({type:0,index:fe});else{const we=(0,E.parseColor)(se);we&&q.push({type:1,index:fe,color:we})}}}return q.length&&this._onColor.fire(q),!0}setHyperlink(z){const q=z.split(";");return!(q.length<2)&&(q[1]?this._createHyperlink(q[0],q[1]):!q[0]&&this._finishHyperlink())}_createHyperlink(z,q){this._getCurrentLinkId()&&this._finishHyperlink();const O=z.split(":");let G;const se=O.findIndex(fe=>fe.startsWith("id="));return se!==-1&&(G=O[se].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:G,uri:q}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(z,q){const O=z.split(";");for(let G=0;G<O.length&&!(q>=this._specialColors.length);++G,++q)if(O[G]==="?")this._onColor.fire([{type:0,index:this._specialColors[q]}]);else{const se=(0,E.parseColor)(O[G]);se&&this._onColor.fire([{type:1,index:this._specialColors[q],color:se}])}return!0}setOrReportFgColor(z){return this._setOrReportSpecialColor(z,0)}setOrReportBgColor(z){return this._setOrReportSpecialColor(z,1)}setOrReportCursorColor(z){return this._setOrReportSpecialColor(z,2)}restoreIndexedColor(z){if(!z)return this._onColor.fire([{type:2}]),!0;const q=[],O=z.split(";");for(let G=0;G<O.length;++G)if(/^\d+$/.exec(O[G])){const se=parseInt(O[G]);K(se)&&q.push({type:2,index:se})}return q.length&&this._onColor.fire(q),!0}restoreFgColor(z){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(z){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(z){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,T.DEFAULT_CHARSET),!0}selectCharset(z){return z.length!==2?(this.selectDefaultCharset(),!0):(z[0]==="/"||this._charsetService.setgCharset(N[z[0]],T.CHARSETS[z[1]]||T.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const z=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,z,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=c.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(z){return this._charsetService.setgLevel(z),!0}screenAlignmentPattern(){const z=new v.CellData;z.content=4194373,z.fg=this._curAttrData.fg,z.bg=this._curAttrData.bg,this._setCursor(0,0);for(let q=0;q<this._bufferService.rows;++q){const O=this._activeBuffer.ybase+this._activeBuffer.y+q,G=this._activeBuffer.lines.get(O);G&&(G.fill(z),G.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(z,q){const O=this._bufferService.buffer,G=this._optionsService.rawOptions;return(se=>(this._coreService.triggerDataEvent(`${y.C0.ESC}${se}${y.C0.ESC}\\`),!0))(z==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:z==='"p'?'P1$r61;1"p':z==="r"?`P1$r${O.scrollTop+1};${O.scrollBottom+1}r`:z==="m"?"P1$r0m":z===" q"?`P1$r${{block:2,underline:4,bar:6}[G.cursorStyle]-(G.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(z,q){this._dirtyRowTracker.markRangeDirty(z,q)}}g.InputHandler=_e;let ue=class{constructor(J){this._bufferService=J,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(J){J<this.start?this.start=J:J>this.end&&(this.end=J)}markRangeDirty(J,z){J>z&&(ie=J,J=z,z=ie),J<this.start&&(this.start=J),z>this.end&&(this.end=z)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function K(J){return 0<=J&&J<256}ue=m([b(0,x.IBufferService)],ue)},844:($,g)=>{function _(m){for(const b of m)b.dispose();m.length=0}Object.defineProperty(g,"__esModule",{value:!0}),g.getDisposeArrayDisposable=g.disposeArray=g.toDisposable=g.MutableDisposable=g.Disposable=void 0,g.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const m of this._disposables)m.dispose();this._disposables.length=0}register(m){return this._disposables.push(m),m}unregister(m){const b=this._disposables.indexOf(m);b!==-1&&this._disposables.splice(b,1)}},g.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(m){var b;this._isDisposed||m===this._value||((b=this._value)===null||b===void 0||b.dispose(),this._value=m)}clear(){this.value=void 0}dispose(){var m;this._isDisposed=!0,(m=this._value)===null||m===void 0||m.dispose(),this._value=void 0}},g.toDisposable=function(m){return{dispose:m}},g.disposeArray=_,g.getDisposeArrayDisposable=function(m){return{dispose:()=>_(m)}}},1505:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.FourKeyMap=g.TwoKeyMap=void 0;class _{constructor(){this._data={}}set(b,y,T){this._data[b]||(this._data[b]={}),this._data[b][y]=T}get(b,y){return this._data[b]?this._data[b][y]:void 0}clear(){this._data={}}}g.TwoKeyMap=_,g.FourKeyMap=class{constructor(){this._data=new _}set(m,b,y,T,M){this._data.get(m,b)||this._data.set(m,b,new _),this._data.get(m,b).set(y,T,M)}get(m,b,y,T){var M;return(M=this._data.get(m,b))===null||M===void 0?void 0:M.get(y,T)}clear(){this._data.clear()}}},6114:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.isChromeOS=g.isLinux=g.isWindows=g.isIphone=g.isIpad=g.isMac=g.getSafariVersion=g.isSafari=g.isLegacyEdge=g.isFirefox=g.isNode=void 0,g.isNode=typeof navigator>"u";const _=g.isNode?"node":navigator.userAgent,m=g.isNode?"node":navigator.platform;g.isFirefox=_.includes("Firefox"),g.isLegacyEdge=_.includes("Edge"),g.isSafari=/^((?!chrome|android).)*safari/i.test(_),g.getSafariVersion=function(){if(!g.isSafari)return 0;const b=_.match(/Version\/(\d+)/);return b===null||b.length<2?0:parseInt(b[1])},g.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(m),g.isIpad=m==="iPad",g.isIphone=m==="iPhone",g.isWindows=["Windows","Win16","Win32","WinCE"].includes(m),g.isLinux=m.indexOf("Linux")>=0,g.isChromeOS=/\bCrOS\b/.test(_)},6106:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.SortedList=void 0;let _=0;g.SortedList=class{constructor(m){this._getKey=m,this._array=[]}clear(){this._array.length=0}insert(m){this._array.length!==0?(_=this._search(this._getKey(m)),this._array.splice(_,0,m)):this._array.push(m)}delete(m){if(this._array.length===0)return!1;const b=this._getKey(m);if(b===void 0||(_=this._search(b),_===-1)||this._getKey(this._array[_])!==b)return!1;do if(this._array[_]===m)return this._array.splice(_,1),!0;while(++_<this._array.length&&this._getKey(this._array[_])===b);return!1}*getKeyIterator(m){if(this._array.length!==0&&(_=this._search(m),!(_<0||_>=this._array.length)&&this._getKey(this._array[_])===m))do yield this._array[_];while(++_<this._array.length&&this._getKey(this._array[_])===m)}forEachByKey(m,b){if(this._array.length!==0&&(_=this._search(m),!(_<0||_>=this._array.length)&&this._getKey(this._array[_])===m))do b(this._array[_]);while(++_<this._array.length&&this._getKey(this._array[_])===m)}values(){return[...this._array].values()}_search(m){let b=0,y=this._array.length-1;for(;y>=b;){let T=b+y>>1;const M=this._getKey(this._array[T]);if(M>m)y=T-1;else{if(!(M<m)){for(;T>0&&this._getKey(this._array[T-1])===m;)T--;return T}b=T+1}}return b}}},7226:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.DebouncedIdleTask=g.IdleTaskQueue=g.PriorityTaskQueue=void 0;const m=_(6114);class b{constructor(){this._tasks=[],this._i=0}enqueue(M){this._tasks.push(M),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(M){this._idleCallback=void 0;let k=0,A=0,c=M.timeRemaining(),f=0;for(;this._i<this._tasks.length;){if(k=Date.now(),this._tasks[this._i]()||this._i++,k=Math.max(1,Date.now()-k),A=Math.max(k,A),f=M.timeRemaining(),1.5*A>f)return c-k<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(c-k))}ms`),void this._start();c=f}this.clear()}}class y extends b{_requestCallback(M){return setTimeout(()=>M(this._createDeadline(16)))}_cancelCallback(M){clearTimeout(M)}_createDeadline(M){const k=Date.now()+M;return{timeRemaining:()=>Math.max(0,k-Date.now())}}}g.PriorityTaskQueue=y,g.IdleTaskQueue=!m.isNode&&"requestIdleCallback"in window?class extends b{_requestCallback(T){return requestIdleCallback(T)}_cancelCallback(T){cancelIdleCallback(T)}}:y,g.DebouncedIdleTask=class{constructor(){this._queue=new g.IdleTaskQueue}set(T){this._queue.clear(),this._queue.enqueue(T)}flush(){this._queue.flush()}}},9282:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.updateWindowsModeWrappedState=void 0;const m=_(643);g.updateWindowsModeWrappedState=function(b){const y=b.buffer.lines.get(b.buffer.ybase+b.buffer.y-1),T=y==null?void 0:y.get(b.cols-1),M=b.buffer.lines.get(b.buffer.ybase+b.buffer.y);M&&T&&(M.isWrapped=T[m.CHAR_DATA_CODE_INDEX]!==m.NULL_CELL_CODE&&T[m.CHAR_DATA_CODE_INDEX]!==m.WHITESPACE_CELL_CODE)}},3734:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.ExtendedAttrs=g.AttributeData=void 0;class _{constructor(){this.fg=0,this.bg=0,this.extended=new m}static toColorRGB(y){return[y>>>16&255,y>>>8&255,255&y]}static fromColorRGB(y){return(255&y[0])<<16|(255&y[1])<<8|255&y[2]}clone(){const y=new _;return y.fg=this.fg,y.bg=this.bg,y.extended=this.extended.clone(),y}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}g.AttributeData=_;class m{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(y){this._ext=y}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(y){this._ext&=-469762049,this._ext|=y<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(y){this._ext&=-67108864,this._ext|=67108863&y}get urlId(){return this._urlId}set urlId(y){this._urlId=y}constructor(y=0,T=0){this._ext=0,this._urlId=0,this._ext=y,this._urlId=T}clone(){return new m(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}g.ExtendedAttrs=m},9092:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.Buffer=g.MAX_BUFFER_SIZE=void 0;const m=_(6349),b=_(7226),y=_(3734),T=_(8437),M=_(4634),k=_(511),A=_(643),c=_(4863),f=_(7116);g.MAX_BUFFER_SIZE=4294967295,g.Buffer=class{constructor(d,v,C){this._hasScrollback=d,this._optionsService=v,this._bufferService=C,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=T.DEFAULT_ATTR_DATA.clone(),this.savedCharset=f.DEFAULT_CHARSET,this.markers=[],this._nullCell=k.CellData.fromCharData([0,A.NULL_CELL_CHAR,A.NULL_CELL_WIDTH,A.NULL_CELL_CODE]),this._whitespaceCell=k.CellData.fromCharData([0,A.WHITESPACE_CELL_CHAR,A.WHITESPACE_CELL_WIDTH,A.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new b.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new m.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(d){return d?(this._nullCell.fg=d.fg,this._nullCell.bg=d.bg,this._nullCell.extended=d.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new y.ExtendedAttrs),this._nullCell}getWhitespaceCell(d){return d?(this._whitespaceCell.fg=d.fg,this._whitespaceCell.bg=d.bg,this._whitespaceCell.extended=d.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new y.ExtendedAttrs),this._whitespaceCell}getBlankLine(d,v){return new T.BufferLine(this._bufferService.cols,this.getNullCell(d),v)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const d=this.ybase+this.y-this.ydisp;return d>=0&&d<this._rows}_getCorrectBufferLength(d){if(!this._hasScrollback)return d;const v=d+this._optionsService.rawOptions.scrollback;return v>g.MAX_BUFFER_SIZE?g.MAX_BUFFER_SIZE:v}fillViewportRows(d){if(this.lines.length===0){d===void 0&&(d=T.DEFAULT_ATTR_DATA);let v=this._rows;for(;v--;)this.lines.push(this.getBlankLine(d))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new m.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(d,v){const C=this.getNullCell(T.DEFAULT_ATTR_DATA);let x=0;const H=this._getCorrectBufferLength(v);if(H>this.lines.maxLength&&(this.lines.maxLength=H),this.lines.length>0){if(this._cols<d)for(let E=0;E<this.lines.length;E++)x+=+this.lines.get(E).resize(d,C);let U=0;if(this._rows<v)for(let E=this._rows;E<v;E++)this.lines.length<v+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new T.BufferLine(d,C)):this.ybase>0&&this.lines.length<=this.ybase+this.y+U+1?(this.ybase--,U++,this.ydisp>0&&this.ydisp--):this.lines.push(new T.BufferLine(d,C)));else for(let E=this._rows;E>v;E--)this.lines.length>v+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(H<this.lines.maxLength){const E=this.lines.length-H;E>0&&(this.lines.trimStart(E),this.ybase=Math.max(this.ybase-E,0),this.ydisp=Math.max(this.ydisp-E,0),this.savedY=Math.max(this.savedY-E,0)),this.lines.maxLength=H}this.x=Math.min(this.x,d-1),this.y=Math.min(this.y,v-1),U&&(this.y+=U),this.savedX=Math.min(this.savedX,d-1),this.scrollTop=0}if(this.scrollBottom=v-1,this._isReflowEnabled&&(this._reflow(d,v),this._cols>d))for(let U=0;U<this.lines.length;U++)x+=+this.lines.get(U).resize(d,C);this._cols=d,this._rows=v,this._memoryCleanupQueue.clear(),x>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let d=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,d=!1);let v=0;for(;this._memoryCleanupPosition<this.lines.length;)if(v+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),v>100)return!0;return d}get _isReflowEnabled(){const d=this._optionsService.rawOptions.windowsPty;return d&&d.buildNumber?this._hasScrollback&&d.backend==="conpty"&&d.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(d,v){this._cols!==d&&(d>this._cols?this._reflowLarger(d,v):this._reflowSmaller(d,v))}_reflowLarger(d,v){const C=(0,M.reflowLargerGetLinesToRemove)(this.lines,this._cols,d,this.ybase+this.y,this.getNullCell(T.DEFAULT_ATTR_DATA));if(C.length>0){const x=(0,M.reflowLargerCreateNewLayout)(this.lines,C);(0,M.reflowLargerApplyNewLayout)(this.lines,x.layout),this._reflowLargerAdjustViewport(d,v,x.countRemoved)}}_reflowLargerAdjustViewport(d,v,C){const x=this.getNullCell(T.DEFAULT_ATTR_DATA);let H=C;for(;H-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<v&&this.lines.push(new T.BufferLine(d,x))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-C,0)}_reflowSmaller(d,v){const C=this.getNullCell(T.DEFAULT_ATTR_DATA),x=[];let H=0;for(let U=this.lines.length-1;U>=0;U--){let E=this.lines.get(U);if(!E||!E.isWrapped&&E.getTrimmedLength()<=d)continue;const N=[E];for(;E.isWrapped&&U>0;)E=this.lines.get(--U),N.unshift(E);const Q=this.ybase+this.y;if(Q>=U&&Q<U+N.length)continue;const te=N[N.length-1].getTrimmedLength(),X=(0,M.reflowSmallerGetNewLineLengths)(N,this._cols,d),ie=X.length-N.length;let _e;_e=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+ie):Math.max(0,this.lines.length-this.lines.maxLength+ie);const ue=[];for(let G=0;G<ie;G++){const se=this.getBlankLine(T.DEFAULT_ATTR_DATA,!0);ue.push(se)}ue.length>0&&(x.push({start:U+N.length+H,newLines:ue}),H+=ue.length),N.push(...ue);let K=X.length-1,J=X[K];J===0&&(K--,J=X[K]);let z=N.length-ie-1,q=te;for(;z>=0;){const G=Math.min(q,J);if(N[K]===void 0)break;if(N[K].copyCellsFrom(N[z],q-G,J-G,G,!0),J-=G,J===0&&(K--,J=X[K]),q-=G,q===0){z--;const se=Math.max(z,0);q=(0,M.getWrappedLineTrimmedLength)(N,se,this._cols)}}for(let G=0;G<N.length;G++)X[G]<d&&N[G].setCell(X[G],C);let O=ie-_e;for(;O-- >0;)this.ybase===0?this.y<v-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+H)-v&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+ie,this.ybase+v-1)}if(x.length>0){const U=[],E=[];for(let K=0;K<this.lines.length;K++)E.push(this.lines.get(K));const N=this.lines.length;let Q=N-1,te=0,X=x[te];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+H);let ie=0;for(let K=Math.min(this.lines.maxLength-1,N+H-1);K>=0;K--)if(X&&X.start>Q+ie){for(let J=X.newLines.length-1;J>=0;J--)this.lines.set(K--,X.newLines[J]);K++,U.push({index:Q+1,amount:X.newLines.length}),ie+=X.newLines.length,X=x[++te]}else this.lines.set(K,E[Q--]);let _e=0;for(let K=U.length-1;K>=0;K--)U[K].index+=_e,this.lines.onInsertEmitter.fire(U[K]),_e+=U[K].amount;const ue=Math.max(0,N+H-this.lines.maxLength);ue>0&&this.lines.onTrimEmitter.fire(ue)}}translateBufferLineToString(d,v,C=0,x){const H=this.lines.get(d);return H?H.translateToString(v,C,x):""}getWrappedRangeForLine(d){let v=d,C=d;for(;v>0&&this.lines.get(v).isWrapped;)v--;for(;C+1<this.lines.length&&this.lines.get(C+1).isWrapped;)C++;return{first:v,last:C}}setupTabStops(d){for(d!=null?this.tabs[d]||(d=this.prevStop(d)):(this.tabs={},d=0);d<this._cols;d+=this._optionsService.rawOptions.tabStopWidth)this.tabs[d]=!0}prevStop(d){for(d==null&&(d=this.x);!this.tabs[--d]&&d>0;);return d>=this._cols?this._cols-1:d<0?0:d}nextStop(d){for(d==null&&(d=this.x);!this.tabs[++d]&&d<this._cols;);return d>=this._cols?this._cols-1:d<0?0:d}clearMarkers(d){this._isClearing=!0;for(let v=0;v<this.markers.length;v++)this.markers[v].line===d&&(this.markers[v].dispose(),this.markers.splice(v--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let d=0;d<this.markers.length;d++)this.markers[d].dispose(),this.markers.splice(d--,1);this._isClearing=!1}addMarker(d){const v=new c.Marker(d);return this.markers.push(v),v.register(this.lines.onTrim(C=>{v.line-=C,v.line<0&&v.dispose()})),v.register(this.lines.onInsert(C=>{v.line>=C.index&&(v.line+=C.amount)})),v.register(this.lines.onDelete(C=>{v.line>=C.index&&v.line<C.index+C.amount&&v.dispose(),v.line>C.index&&(v.line-=C.amount)})),v.register(v.onDispose(()=>this._removeMarker(v))),v}_removeMarker(d){this._isClearing||this.markers.splice(this.markers.indexOf(d),1)}}},8437:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.BufferLine=g.DEFAULT_ATTR_DATA=void 0;const m=_(3734),b=_(511),y=_(643),T=_(482);g.DEFAULT_ATTR_DATA=Object.freeze(new m.AttributeData);let M=0;class k{constructor(c,f,d=!1){this.isWrapped=d,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*c);const v=f||b.CellData.fromCharData([0,y.NULL_CELL_CHAR,y.NULL_CELL_WIDTH,y.NULL_CELL_CODE]);for(let C=0;C<c;++C)this.setCell(C,v);this.length=c}get(c){const f=this._data[3*c+0],d=2097151&f;return[this._data[3*c+1],2097152&f?this._combined[c]:d?(0,T.stringFromCodePoint)(d):"",f>>22,2097152&f?this._combined[c].charCodeAt(this._combined[c].length-1):d]}set(c,f){this._data[3*c+1]=f[y.CHAR_DATA_ATTR_INDEX],f[y.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[c]=f[1],this._data[3*c+0]=2097152|c|f[y.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*c+0]=f[y.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|f[y.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(c){return this._data[3*c+0]>>22}hasWidth(c){return 12582912&this._data[3*c+0]}getFg(c){return this._data[3*c+1]}getBg(c){return this._data[3*c+2]}hasContent(c){return 4194303&this._data[3*c+0]}getCodePoint(c){const f=this._data[3*c+0];return 2097152&f?this._combined[c].charCodeAt(this._combined[c].length-1):2097151&f}isCombined(c){return 2097152&this._data[3*c+0]}getString(c){const f=this._data[3*c+0];return 2097152&f?this._combined[c]:2097151&f?(0,T.stringFromCodePoint)(2097151&f):""}isProtected(c){return 536870912&this._data[3*c+2]}loadCell(c,f){return M=3*c,f.content=this._data[M+0],f.fg=this._data[M+1],f.bg=this._data[M+2],2097152&f.content&&(f.combinedData=this._combined[c]),268435456&f.bg&&(f.extended=this._extendedAttrs[c]),f}setCell(c,f){2097152&f.content&&(this._combined[c]=f.combinedData),268435456&f.bg&&(this._extendedAttrs[c]=f.extended),this._data[3*c+0]=f.content,this._data[3*c+1]=f.fg,this._data[3*c+2]=f.bg}setCellFromCodePoint(c,f,d,v,C,x){268435456&C&&(this._extendedAttrs[c]=x),this._data[3*c+0]=f|d<<22,this._data[3*c+1]=v,this._data[3*c+2]=C}addCodepointToCell(c,f){let d=this._data[3*c+0];2097152&d?this._combined[c]+=(0,T.stringFromCodePoint)(f):(2097151&d?(this._combined[c]=(0,T.stringFromCodePoint)(2097151&d)+(0,T.stringFromCodePoint)(f),d&=-2097152,d|=2097152):d=f|4194304,this._data[3*c+0]=d)}insertCells(c,f,d,v){if((c%=this.length)&&this.getWidth(c-1)===2&&this.setCellFromCodePoint(c-1,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new m.ExtendedAttrs),f<this.length-c){const C=new b.CellData;for(let x=this.length-c-f-1;x>=0;--x)this.setCell(c+f+x,this.loadCell(c+x,C));for(let x=0;x<f;++x)this.setCell(c+x,d)}else for(let C=c;C<this.length;++C)this.setCell(C,d);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new m.ExtendedAttrs)}deleteCells(c,f,d,v){if(c%=this.length,f<this.length-c){const C=new b.CellData;for(let x=0;x<this.length-c-f;++x)this.setCell(c+x,this.loadCell(c+f+x,C));for(let x=this.length-f;x<this.length;++x)this.setCell(x,d)}else for(let C=c;C<this.length;++C)this.setCell(C,d);c&&this.getWidth(c-1)===2&&this.setCellFromCodePoint(c-1,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new m.ExtendedAttrs),this.getWidth(c)!==0||this.hasContent(c)||this.setCellFromCodePoint(c,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new m.ExtendedAttrs)}replaceCells(c,f,d,v,C=!1){if(C)for(c&&this.getWidth(c-1)===2&&!this.isProtected(c-1)&&this.setCellFromCodePoint(c-1,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new m.ExtendedAttrs),f<this.length&&this.getWidth(f-1)===2&&!this.isProtected(f)&&this.setCellFromCodePoint(f,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new m.ExtendedAttrs);c<f&&c<this.length;)this.isProtected(c)||this.setCell(c,d),c++;else for(c&&this.getWidth(c-1)===2&&this.setCellFromCodePoint(c-1,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new m.ExtendedAttrs),f<this.length&&this.getWidth(f-1)===2&&this.setCellFromCodePoint(f,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new m.ExtendedAttrs);c<f&&c<this.length;)this.setCell(c++,d)}resize(c,f){if(c===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const d=3*c;if(c>this.length){if(this._data.buffer.byteLength>=4*d)this._data=new Uint32Array(this._data.buffer,0,d);else{const v=new Uint32Array(d);v.set(this._data),this._data=v}for(let v=this.length;v<c;++v)this.setCell(v,f)}else{this._data=this._data.subarray(0,d);const v=Object.keys(this._combined);for(let x=0;x<v.length;x++){const H=parseInt(v[x],10);H>=c&&delete this._combined[H]}const C=Object.keys(this._extendedAttrs);for(let x=0;x<C.length;x++){const H=parseInt(C[x],10);H>=c&&delete this._extendedAttrs[H]}}return this.length=c,4*d*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const c=new Uint32Array(this._data.length);return c.set(this._data),this._data=c,1}return 0}fill(c,f=!1){if(f)for(let d=0;d<this.length;++d)this.isProtected(d)||this.setCell(d,c);else{this._combined={},this._extendedAttrs={};for(let d=0;d<this.length;++d)this.setCell(d,c)}}copyFrom(c){this.length!==c.length?this._data=new Uint32Array(c._data):this._data.set(c._data),this.length=c.length,this._combined={};for(const f in c._combined)this._combined[f]=c._combined[f];this._extendedAttrs={};for(const f in c._extendedAttrs)this._extendedAttrs[f]=c._extendedAttrs[f];this.isWrapped=c.isWrapped}clone(){const c=new k(0);c._data=new Uint32Array(this._data),c.length=this.length;for(const f in this._combined)c._combined[f]=this._combined[f];for(const f in this._extendedAttrs)c._extendedAttrs[f]=this._extendedAttrs[f];return c.isWrapped=this.isWrapped,c}getTrimmedLength(){for(let c=this.length-1;c>=0;--c)if(4194303&this._data[3*c+0])return c+(this._data[3*c+0]>>22);return 0}getNoBgTrimmedLength(){for(let c=this.length-1;c>=0;--c)if(4194303&this._data[3*c+0]||50331648&this._data[3*c+2])return c+(this._data[3*c+0]>>22);return 0}copyCellsFrom(c,f,d,v,C){const x=c._data;if(C)for(let U=v-1;U>=0;U--){for(let E=0;E<3;E++)this._data[3*(d+U)+E]=x[3*(f+U)+E];268435456&x[3*(f+U)+2]&&(this._extendedAttrs[d+U]=c._extendedAttrs[f+U])}else for(let U=0;U<v;U++){for(let E=0;E<3;E++)this._data[3*(d+U)+E]=x[3*(f+U)+E];268435456&x[3*(f+U)+2]&&(this._extendedAttrs[d+U]=c._extendedAttrs[f+U])}const H=Object.keys(c._combined);for(let U=0;U<H.length;U++){const E=parseInt(H[U],10);E>=f&&(this._combined[E-f+d]=c._combined[E])}}translateToString(c=!1,f=0,d=this.length){c&&(d=Math.min(d,this.getTrimmedLength()));let v="";for(;f<d;){const C=this._data[3*f+0],x=2097151&C;v+=2097152&C?this._combined[f]:x?(0,T.stringFromCodePoint)(x):y.WHITESPACE_CELL_CHAR,f+=C>>22||1}return v}}g.BufferLine=k},4841:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.getRangeLength=void 0,g.getRangeLength=function(_,m){if(_.start.y>_.end.y)throw new Error(`Buffer range end (${_.end.x}, ${_.end.y}) cannot be before start (${_.start.x}, ${_.start.y})`);return m*(_.end.y-_.start.y)+(_.end.x-_.start.x+1)}},4634:($,g)=>{function _(m,b,y){if(b===m.length-1)return m[b].getTrimmedLength();const T=!m[b].hasContent(y-1)&&m[b].getWidth(y-1)===1,M=m[b+1].getWidth(0)===2;return T&&M?y-1:y}Object.defineProperty(g,"__esModule",{value:!0}),g.getWrappedLineTrimmedLength=g.reflowSmallerGetNewLineLengths=g.reflowLargerApplyNewLayout=g.reflowLargerCreateNewLayout=g.reflowLargerGetLinesToRemove=void 0,g.reflowLargerGetLinesToRemove=function(m,b,y,T,M){const k=[];for(let A=0;A<m.length-1;A++){let c=A,f=m.get(++c);if(!f.isWrapped)continue;const d=[m.get(A)];for(;c<m.length&&f.isWrapped;)d.push(f),f=m.get(++c);if(T>=A&&T<c){A+=d.length-1;continue}let v=0,C=_(d,v,b),x=1,H=0;for(;x<d.length;){const E=_(d,x,b),N=E-H,Q=y-C,te=Math.min(N,Q);d[v].copyCellsFrom(d[x],H,C,te,!1),C+=te,C===y&&(v++,C=0),H+=te,H===E&&(x++,H=0),C===0&&v!==0&&d[v-1].getWidth(y-1)===2&&(d[v].copyCellsFrom(d[v-1],y-1,C++,1,!1),d[v-1].setCell(y-1,M))}d[v].replaceCells(C,y,M);let U=0;for(let E=d.length-1;E>0&&(E>v||d[E].getTrimmedLength()===0);E--)U++;U>0&&(k.push(A+d.length-U),k.push(U)),A+=d.length-1}return k},g.reflowLargerCreateNewLayout=function(m,b){const y=[];let T=0,M=b[T],k=0;for(let A=0;A<m.length;A++)if(M===A){const c=b[++T];m.onDeleteEmitter.fire({index:A-k,amount:c}),A+=c-1,k+=c,M=b[++T]}else y.push(A);return{layout:y,countRemoved:k}},g.reflowLargerApplyNewLayout=function(m,b){const y=[];for(let T=0;T<b.length;T++)y.push(m.get(b[T]));for(let T=0;T<y.length;T++)m.set(T,y[T]);m.length=b.length},g.reflowSmallerGetNewLineLengths=function(m,b,y){const T=[],M=m.map((f,d)=>_(m,d,b)).reduce((f,d)=>f+d);let k=0,A=0,c=0;for(;c<M;){if(M-c<y){T.push(M-c);break}k+=y;const f=_(m,A,b);k>f&&(k-=f,A++);const d=m[A].getWidth(k-1)===2;d&&k--;const v=d?y-1:y;T.push(v),c+=v}return T},g.getWrappedLineTrimmedLength=_},5295:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.BufferSet=void 0;const m=_(8460),b=_(844),y=_(9092);class T extends b.Disposable{constructor(k,A){super(),this._optionsService=k,this._bufferService=A,this._onBufferActivate=this.register(new m.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new y.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new y.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(k){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(k),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(k,A){this._normal.resize(k,A),this._alt.resize(k,A),this.setupTabStops(k)}setupTabStops(k){this._normal.setupTabStops(k),this._alt.setupTabStops(k)}}g.BufferSet=T},511:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.CellData=void 0;const m=_(482),b=_(643),y=_(3734);class T extends y.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new y.ExtendedAttrs,this.combinedData=""}static fromCharData(k){const A=new T;return A.setFromCharData(k),A}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,m.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(k){this.fg=k[b.CHAR_DATA_ATTR_INDEX],this.bg=0;let A=!1;if(k[b.CHAR_DATA_CHAR_INDEX].length>2)A=!0;else if(k[b.CHAR_DATA_CHAR_INDEX].length===2){const c=k[b.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=c&&c<=56319){const f=k[b.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=f&&f<=57343?this.content=1024*(c-55296)+f-56320+65536|k[b.CHAR_DATA_WIDTH_INDEX]<<22:A=!0}else A=!0}else this.content=k[b.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|k[b.CHAR_DATA_WIDTH_INDEX]<<22;A&&(this.combinedData=k[b.CHAR_DATA_CHAR_INDEX],this.content=2097152|k[b.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}g.CellData=T},643:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.WHITESPACE_CELL_CODE=g.WHITESPACE_CELL_WIDTH=g.WHITESPACE_CELL_CHAR=g.NULL_CELL_CODE=g.NULL_CELL_WIDTH=g.NULL_CELL_CHAR=g.CHAR_DATA_CODE_INDEX=g.CHAR_DATA_WIDTH_INDEX=g.CHAR_DATA_CHAR_INDEX=g.CHAR_DATA_ATTR_INDEX=g.DEFAULT_EXT=g.DEFAULT_ATTR=g.DEFAULT_COLOR=void 0,g.DEFAULT_COLOR=0,g.DEFAULT_ATTR=256|g.DEFAULT_COLOR<<9,g.DEFAULT_EXT=0,g.CHAR_DATA_ATTR_INDEX=0,g.CHAR_DATA_CHAR_INDEX=1,g.CHAR_DATA_WIDTH_INDEX=2,g.CHAR_DATA_CODE_INDEX=3,g.NULL_CELL_CHAR="",g.NULL_CELL_WIDTH=1,g.NULL_CELL_CODE=0,g.WHITESPACE_CELL_CHAR=" ",g.WHITESPACE_CELL_WIDTH=1,g.WHITESPACE_CELL_CODE=32},4863:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.Marker=void 0;const m=_(8460),b=_(844);class y{get id(){return this._id}constructor(M){this.line=M,this.isDisposed=!1,this._disposables=[],this._id=y._nextId++,this._onDispose=this.register(new m.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,b.disposeArray)(this._disposables),this._disposables.length=0)}register(M){return this._disposables.push(M),M}}g.Marker=y,y._nextId=1},7116:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.DEFAULT_CHARSET=g.CHARSETS=void 0,g.CHARSETS={},g.DEFAULT_CHARSET=g.CHARSETS.B,g.CHARSETS[0]={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},g.CHARSETS.A={"#":"£"},g.CHARSETS.B=void 0,g.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},g.CHARSETS.C=g.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},g.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},g.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},g.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},g.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},g.CHARSETS.E=g.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},g.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},g.CHARSETS.H=g.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},g.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},2584:($,g)=>{var _,m,b;Object.defineProperty(g,"__esModule",{value:!0}),g.C1_ESCAPED=g.C1=g.C0=void 0,function(y){y.NUL="\0",y.SOH="",y.STX="",y.ETX="",y.EOT="",y.ENQ="",y.ACK="",y.BEL="\x07",y.BS="\b",y.HT="	",y.LF=`
`,y.VT="\v",y.FF="\f",y.CR="\r",y.SO="",y.SI="",y.DLE="",y.DC1="",y.DC2="",y.DC3="",y.DC4="",y.NAK="",y.SYN="",y.ETB="",y.CAN="",y.EM="",y.SUB="",y.ESC="\x1B",y.FS="",y.GS="",y.RS="",y.US="",y.SP=" ",y.DEL=""}(_||(g.C0=_={})),function(y){y.PAD="",y.HOP="",y.BPH="",y.NBH="",y.IND="",y.NEL="",y.SSA="",y.ESA="",y.HTS="",y.HTJ="",y.VTS="",y.PLD="",y.PLU="",y.RI="",y.SS2="",y.SS3="",y.DCS="",y.PU1="",y.PU2="",y.STS="",y.CCH="",y.MW="",y.SPA="",y.EPA="",y.SOS="",y.SGCI="",y.SCI="",y.CSI="",y.ST="",y.OSC="",y.PM="",y.APC=""}(m||(g.C1=m={})),function(y){y.ST=`${_.ESC}\\`}(b||(g.C1_ESCAPED=b={}))},7399:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.evaluateKeyboardEvent=void 0;const m=_(2584),b={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};g.evaluateKeyboardEvent=function(y,T,M,k){const A={type:0,cancel:!1,key:void 0},c=(y.shiftKey?1:0)|(y.altKey?2:0)|(y.ctrlKey?4:0)|(y.metaKey?8:0);switch(y.keyCode){case 0:y.key==="UIKeyInputUpArrow"?A.key=T?m.C0.ESC+"OA":m.C0.ESC+"[A":y.key==="UIKeyInputLeftArrow"?A.key=T?m.C0.ESC+"OD":m.C0.ESC+"[D":y.key==="UIKeyInputRightArrow"?A.key=T?m.C0.ESC+"OC":m.C0.ESC+"[C":y.key==="UIKeyInputDownArrow"&&(A.key=T?m.C0.ESC+"OB":m.C0.ESC+"[B");break;case 8:if(y.altKey){A.key=m.C0.ESC+m.C0.DEL;break}A.key=m.C0.DEL;break;case 9:if(y.shiftKey){A.key=m.C0.ESC+"[Z";break}A.key=m.C0.HT,A.cancel=!0;break;case 13:A.key=y.altKey?m.C0.ESC+m.C0.CR:m.C0.CR,A.cancel=!0;break;case 27:A.key=m.C0.ESC,y.altKey&&(A.key=m.C0.ESC+m.C0.ESC),A.cancel=!0;break;case 37:if(y.metaKey)break;c?(A.key=m.C0.ESC+"[1;"+(c+1)+"D",A.key===m.C0.ESC+"[1;3D"&&(A.key=m.C0.ESC+(M?"b":"[1;5D"))):A.key=T?m.C0.ESC+"OD":m.C0.ESC+"[D";break;case 39:if(y.metaKey)break;c?(A.key=m.C0.ESC+"[1;"+(c+1)+"C",A.key===m.C0.ESC+"[1;3C"&&(A.key=m.C0.ESC+(M?"f":"[1;5C"))):A.key=T?m.C0.ESC+"OC":m.C0.ESC+"[C";break;case 38:if(y.metaKey)break;c?(A.key=m.C0.ESC+"[1;"+(c+1)+"A",M||A.key!==m.C0.ESC+"[1;3A"||(A.key=m.C0.ESC+"[1;5A")):A.key=T?m.C0.ESC+"OA":m.C0.ESC+"[A";break;case 40:if(y.metaKey)break;c?(A.key=m.C0.ESC+"[1;"+(c+1)+"B",M||A.key!==m.C0.ESC+"[1;3B"||(A.key=m.C0.ESC+"[1;5B")):A.key=T?m.C0.ESC+"OB":m.C0.ESC+"[B";break;case 45:y.shiftKey||y.ctrlKey||(A.key=m.C0.ESC+"[2~");break;case 46:A.key=c?m.C0.ESC+"[3;"+(c+1)+"~":m.C0.ESC+"[3~";break;case 36:A.key=c?m.C0.ESC+"[1;"+(c+1)+"H":T?m.C0.ESC+"OH":m.C0.ESC+"[H";break;case 35:A.key=c?m.C0.ESC+"[1;"+(c+1)+"F":T?m.C0.ESC+"OF":m.C0.ESC+"[F";break;case 33:y.shiftKey?A.type=2:y.ctrlKey?A.key=m.C0.ESC+"[5;"+(c+1)+"~":A.key=m.C0.ESC+"[5~";break;case 34:y.shiftKey?A.type=3:y.ctrlKey?A.key=m.C0.ESC+"[6;"+(c+1)+"~":A.key=m.C0.ESC+"[6~";break;case 112:A.key=c?m.C0.ESC+"[1;"+(c+1)+"P":m.C0.ESC+"OP";break;case 113:A.key=c?m.C0.ESC+"[1;"+(c+1)+"Q":m.C0.ESC+"OQ";break;case 114:A.key=c?m.C0.ESC+"[1;"+(c+1)+"R":m.C0.ESC+"OR";break;case 115:A.key=c?m.C0.ESC+"[1;"+(c+1)+"S":m.C0.ESC+"OS";break;case 116:A.key=c?m.C0.ESC+"[15;"+(c+1)+"~":m.C0.ESC+"[15~";break;case 117:A.key=c?m.C0.ESC+"[17;"+(c+1)+"~":m.C0.ESC+"[17~";break;case 118:A.key=c?m.C0.ESC+"[18;"+(c+1)+"~":m.C0.ESC+"[18~";break;case 119:A.key=c?m.C0.ESC+"[19;"+(c+1)+"~":m.C0.ESC+"[19~";break;case 120:A.key=c?m.C0.ESC+"[20;"+(c+1)+"~":m.C0.ESC+"[20~";break;case 121:A.key=c?m.C0.ESC+"[21;"+(c+1)+"~":m.C0.ESC+"[21~";break;case 122:A.key=c?m.C0.ESC+"[23;"+(c+1)+"~":m.C0.ESC+"[23~";break;case 123:A.key=c?m.C0.ESC+"[24;"+(c+1)+"~":m.C0.ESC+"[24~";break;default:if(!y.ctrlKey||y.shiftKey||y.altKey||y.metaKey)if(M&&!k||!y.altKey||y.metaKey)!M||y.altKey||y.ctrlKey||y.shiftKey||!y.metaKey?y.key&&!y.ctrlKey&&!y.altKey&&!y.metaKey&&y.keyCode>=48&&y.key.length===1?A.key=y.key:y.key&&y.ctrlKey&&(y.key==="_"&&(A.key=m.C0.US),y.key==="@"&&(A.key=m.C0.NUL)):y.keyCode===65&&(A.type=1);else{const f=b[y.keyCode],d=f==null?void 0:f[y.shiftKey?1:0];if(d)A.key=m.C0.ESC+d;else if(y.keyCode>=65&&y.keyCode<=90){const v=y.ctrlKey?y.keyCode-64:y.keyCode+32;let C=String.fromCharCode(v);y.shiftKey&&(C=C.toUpperCase()),A.key=m.C0.ESC+C}else if(y.keyCode===32)A.key=m.C0.ESC+(y.ctrlKey?m.C0.NUL:" ");else if(y.key==="Dead"&&y.code.startsWith("Key")){let v=y.code.slice(3,4);y.shiftKey||(v=v.toLowerCase()),A.key=m.C0.ESC+v,A.cancel=!0}}else y.keyCode>=65&&y.keyCode<=90?A.key=String.fromCharCode(y.keyCode-64):y.keyCode===32?A.key=m.C0.NUL:y.keyCode>=51&&y.keyCode<=55?A.key=String.fromCharCode(y.keyCode-51+27):y.keyCode===56?A.key=m.C0.DEL:y.keyCode===219?A.key=m.C0.ESC:y.keyCode===220?A.key=m.C0.FS:y.keyCode===221&&(A.key=m.C0.GS)}return A}},482:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.Utf8ToUtf32=g.StringToUtf32=g.utf32ToString=g.stringFromCodePoint=void 0,g.stringFromCodePoint=function(_){return _>65535?(_-=65536,String.fromCharCode(55296+(_>>10))+String.fromCharCode(_%1024+56320)):String.fromCharCode(_)},g.utf32ToString=function(_,m=0,b=_.length){let y="";for(let T=m;T<b;++T){let M=_[T];M>65535?(M-=65536,y+=String.fromCharCode(55296+(M>>10))+String.fromCharCode(M%1024+56320)):y+=String.fromCharCode(M)}return y},g.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(_,m){const b=_.length;if(!b)return 0;let y=0,T=0;if(this._interim){const M=_.charCodeAt(T++);56320<=M&&M<=57343?m[y++]=1024*(this._interim-55296)+M-56320+65536:(m[y++]=this._interim,m[y++]=M),this._interim=0}for(let M=T;M<b;++M){const k=_.charCodeAt(M);if(55296<=k&&k<=56319){if(++M>=b)return this._interim=k,y;const A=_.charCodeAt(M);56320<=A&&A<=57343?m[y++]=1024*(k-55296)+A-56320+65536:(m[y++]=k,m[y++]=A)}else k!==65279&&(m[y++]=k)}return y}},g.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(_,m){const b=_.length;if(!b)return 0;let y,T,M,k,A=0,c=0,f=0;if(this.interim[0]){let C=!1,x=this.interim[0];x&=(224&x)==192?31:(240&x)==224?15:7;let H,U=0;for(;(H=63&this.interim[++U])&&U<4;)x<<=6,x|=H;const E=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,N=E-U;for(;f<N;){if(f>=b)return 0;if(H=_[f++],(192&H)!=128){f--,C=!0;break}this.interim[U++]=H,x<<=6,x|=63&H}C||(E===2?x<128?f--:m[A++]=x:E===3?x<2048||x>=55296&&x<=57343||x===65279||(m[A++]=x):x<65536||x>1114111||(m[A++]=x)),this.interim.fill(0)}const d=b-4;let v=f;for(;v<b;){for(;!(!(v<d)||128&(y=_[v])||128&(T=_[v+1])||128&(M=_[v+2])||128&(k=_[v+3]));)m[A++]=y,m[A++]=T,m[A++]=M,m[A++]=k,v+=4;if(y=_[v++],y<128)m[A++]=y;else if((224&y)==192){if(v>=b)return this.interim[0]=y,A;if(T=_[v++],(192&T)!=128){v--;continue}if(c=(31&y)<<6|63&T,c<128){v--;continue}m[A++]=c}else if((240&y)==224){if(v>=b)return this.interim[0]=y,A;if(T=_[v++],(192&T)!=128){v--;continue}if(v>=b)return this.interim[0]=y,this.interim[1]=T,A;if(M=_[v++],(192&M)!=128){v--;continue}if(c=(15&y)<<12|(63&T)<<6|63&M,c<2048||c>=55296&&c<=57343||c===65279)continue;m[A++]=c}else if((248&y)==240){if(v>=b)return this.interim[0]=y,A;if(T=_[v++],(192&T)!=128){v--;continue}if(v>=b)return this.interim[0]=y,this.interim[1]=T,A;if(M=_[v++],(192&M)!=128){v--;continue}if(v>=b)return this.interim[0]=y,this.interim[1]=T,this.interim[2]=M,A;if(k=_[v++],(192&k)!=128){v--;continue}if(c=(7&y)<<18|(63&T)<<12|(63&M)<<6|63&k,c<65536||c>1114111)continue;m[A++]=c}}return A}}},225:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.UnicodeV6=void 0;const _=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],m=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let b;g.UnicodeV6=class{constructor(){if(this.version="6",!b){b=new Uint8Array(65536),b.fill(1),b[0]=0,b.fill(0,1,32),b.fill(0,127,160),b.fill(2,4352,4448),b[9001]=2,b[9002]=2,b.fill(2,11904,42192),b[12351]=1,b.fill(2,44032,55204),b.fill(2,63744,64256),b.fill(2,65040,65050),b.fill(2,65072,65136),b.fill(2,65280,65377),b.fill(2,65504,65511);for(let y=0;y<_.length;++y)b.fill(0,_[y][0],_[y][1]+1)}}wcwidth(y){return y<32?0:y<127?1:y<65536?b[y]:function(T,M){let k,A=0,c=M.length-1;if(T<M[0][0]||T>M[c][1])return!1;for(;c>=A;)if(k=A+c>>1,T>M[k][1])A=k+1;else{if(!(T<M[k][0]))return!0;c=k-1}return!1}(y,m)?0:y>=131072&&y<=196605||y>=196608&&y<=262141?2:1}}},5981:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.WriteBuffer=void 0;const m=_(8460),b=_(844);class y extends b.Disposable{constructor(M){super(),this._action=M,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new m.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(M,k){if(k!==void 0&&this._syncCalls>k)return void(this._syncCalls=0);if(this._pendingData+=M.length,this._writeBuffer.push(M),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let A;for(this._isSyncWriting=!0;A=this._writeBuffer.shift();){this._action(A);const c=this._callbacks.shift();c&&c()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(M,k){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=M.length,this._writeBuffer.push(M),this._callbacks.push(k),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=M.length,this._writeBuffer.push(M),this._callbacks.push(k)}_innerWrite(M=0,k=!0){const A=M||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const c=this._writeBuffer[this._bufferOffset],f=this._action(c,k);if(f){const v=C=>Date.now()-A>=12?setTimeout(()=>this._innerWrite(0,C)):this._innerWrite(A,C);return void f.catch(C=>(queueMicrotask(()=>{throw C}),Promise.resolve(!1))).then(v)}const d=this._callbacks[this._bufferOffset];if(d&&d(),this._bufferOffset++,this._pendingData-=c.length,Date.now()-A>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}g.WriteBuffer=y},5941:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.toRgbString=g.parseColor=void 0;const _=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,m=/^[\da-f]+$/;function b(y,T){const M=y.toString(16),k=M.length<2?"0"+M:M;switch(T){case 4:return M[0];case 8:return k;case 12:return(k+k).slice(0,3);default:return k+k}}g.parseColor=function(y){if(!y)return;let T=y.toLowerCase();if(T.indexOf("rgb:")===0){T=T.slice(4);const M=_.exec(T);if(M){const k=M[1]?15:M[4]?255:M[7]?4095:65535;return[Math.round(parseInt(M[1]||M[4]||M[7]||M[10],16)/k*255),Math.round(parseInt(M[2]||M[5]||M[8]||M[11],16)/k*255),Math.round(parseInt(M[3]||M[6]||M[9]||M[12],16)/k*255)]}}else if(T.indexOf("#")===0&&(T=T.slice(1),m.exec(T)&&[3,6,9,12].includes(T.length))){const M=T.length/3,k=[0,0,0];for(let A=0;A<3;++A){const c=parseInt(T.slice(M*A,M*A+M),16);k[A]=M===1?c<<4:M===2?c:M===3?c>>4:c>>8}return k}},g.toRgbString=function(y,T=16){const[M,k,A]=y;return`rgb:${b(M,T)}/${b(k,T)}/${b(A,T)}`}},5770:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PAYLOAD_LIMIT=void 0,g.PAYLOAD_LIMIT=1e7},6351:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.DcsHandler=g.DcsParser=void 0;const m=_(482),b=_(8742),y=_(5770),T=[];g.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=T,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=T}registerHandler(k,A){this._handlers[k]===void 0&&(this._handlers[k]=[]);const c=this._handlers[k];return c.push(A),{dispose:()=>{const f=c.indexOf(A);f!==-1&&c.splice(f,1)}}}clearHandler(k){this._handlers[k]&&delete this._handlers[k]}setHandlerFallback(k){this._handlerFb=k}reset(){if(this._active.length)for(let k=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;k>=0;--k)this._active[k].unhook(!1);this._stack.paused=!1,this._active=T,this._ident=0}hook(k,A){if(this.reset(),this._ident=k,this._active=this._handlers[k]||T,this._active.length)for(let c=this._active.length-1;c>=0;c--)this._active[c].hook(A);else this._handlerFb(this._ident,"HOOK",A)}put(k,A,c){if(this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].put(k,A,c);else this._handlerFb(this._ident,"PUT",(0,m.utf32ToString)(k,A,c))}unhook(k,A=!0){if(this._active.length){let c=!1,f=this._active.length-1,d=!1;if(this._stack.paused&&(f=this._stack.loopPosition-1,c=A,d=this._stack.fallThrough,this._stack.paused=!1),!d&&c===!1){for(;f>=0&&(c=this._active[f].unhook(k),c!==!0);f--)if(c instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!1,c;f--}for(;f>=0;f--)if(c=this._active[f].unhook(!1),c instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!0,c}else this._handlerFb(this._ident,"UNHOOK",k);this._active=T,this._ident=0}};const M=new b.Params;M.addParam(0),g.DcsHandler=class{constructor(k){this._handler=k,this._data="",this._params=M,this._hitLimit=!1}hook(k){this._params=k.length>1||k.params[0]?k.clone():M,this._data="",this._hitLimit=!1}put(k,A,c){this._hitLimit||(this._data+=(0,m.utf32ToString)(k,A,c),this._data.length>y.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(k){let A=!1;if(this._hitLimit)A=!1;else if(k&&(A=this._handler(this._data,this._params),A instanceof Promise))return A.then(c=>(this._params=M,this._data="",this._hitLimit=!1,c));return this._params=M,this._data="",this._hitLimit=!1,A}}},2015:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.EscapeSequenceParser=g.VT500_TRANSITION_TABLE=g.TransitionTable=void 0;const m=_(844),b=_(8742),y=_(6242),T=_(6351);class M{constructor(f){this.table=new Uint8Array(f)}setDefault(f,d){this.table.fill(f<<4|d)}add(f,d,v,C){this.table[d<<8|f]=v<<4|C}addMany(f,d,v,C){for(let x=0;x<f.length;x++)this.table[d<<8|f[x]]=v<<4|C}}g.TransitionTable=M;const k=160;g.VT500_TRANSITION_TABLE=function(){const c=new M(4095),f=Array.apply(null,Array(256)).map((U,E)=>E),d=(U,E)=>f.slice(U,E),v=d(32,127),C=d(0,24);C.push(25),C.push.apply(C,d(28,32));const x=d(0,14);let H;for(H in c.setDefault(1,0),c.addMany(v,0,2,0),x)c.addMany([24,26,153,154],H,3,0),c.addMany(d(128,144),H,3,0),c.addMany(d(144,152),H,3,0),c.add(156,H,0,0),c.add(27,H,11,1),c.add(157,H,4,8),c.addMany([152,158,159],H,0,7),c.add(155,H,11,3),c.add(144,H,11,9);return c.addMany(C,0,3,0),c.addMany(C,1,3,1),c.add(127,1,0,1),c.addMany(C,8,0,8),c.addMany(C,3,3,3),c.add(127,3,0,3),c.addMany(C,4,3,4),c.add(127,4,0,4),c.addMany(C,6,3,6),c.addMany(C,5,3,5),c.add(127,5,0,5),c.addMany(C,2,3,2),c.add(127,2,0,2),c.add(93,1,4,8),c.addMany(v,8,5,8),c.add(127,8,5,8),c.addMany([156,27,24,26,7],8,6,0),c.addMany(d(28,32),8,0,8),c.addMany([88,94,95],1,0,7),c.addMany(v,7,0,7),c.addMany(C,7,0,7),c.add(156,7,0,0),c.add(127,7,0,7),c.add(91,1,11,3),c.addMany(d(64,127),3,7,0),c.addMany(d(48,60),3,8,4),c.addMany([60,61,62,63],3,9,4),c.addMany(d(48,60),4,8,4),c.addMany(d(64,127),4,7,0),c.addMany([60,61,62,63],4,0,6),c.addMany(d(32,64),6,0,6),c.add(127,6,0,6),c.addMany(d(64,127),6,0,0),c.addMany(d(32,48),3,9,5),c.addMany(d(32,48),5,9,5),c.addMany(d(48,64),5,0,6),c.addMany(d(64,127),5,7,0),c.addMany(d(32,48),4,9,5),c.addMany(d(32,48),1,9,2),c.addMany(d(32,48),2,9,2),c.addMany(d(48,127),2,10,0),c.addMany(d(48,80),1,10,0),c.addMany(d(81,88),1,10,0),c.addMany([89,90,92],1,10,0),c.addMany(d(96,127),1,10,0),c.add(80,1,11,9),c.addMany(C,9,0,9),c.add(127,9,0,9),c.addMany(d(28,32),9,0,9),c.addMany(d(32,48),9,9,12),c.addMany(d(48,60),9,8,10),c.addMany([60,61,62,63],9,9,10),c.addMany(C,11,0,11),c.addMany(d(32,128),11,0,11),c.addMany(d(28,32),11,0,11),c.addMany(C,10,0,10),c.add(127,10,0,10),c.addMany(d(28,32),10,0,10),c.addMany(d(48,60),10,8,10),c.addMany([60,61,62,63],10,0,11),c.addMany(d(32,48),10,9,12),c.addMany(C,12,0,12),c.add(127,12,0,12),c.addMany(d(28,32),12,0,12),c.addMany(d(32,48),12,9,12),c.addMany(d(48,64),12,0,11),c.addMany(d(64,127),12,12,13),c.addMany(d(64,127),10,12,13),c.addMany(d(64,127),9,12,13),c.addMany(C,13,13,13),c.addMany(v,13,13,13),c.add(127,13,0,13),c.addMany([27,156,24,26],13,14,0),c.add(k,0,2,0),c.add(k,8,5,8),c.add(k,6,0,6),c.add(k,11,0,11),c.add(k,13,13,13),c}();class A extends m.Disposable{constructor(f=g.VT500_TRANSITION_TABLE){super(),this._transitions=f,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new b.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(d,v,C)=>{},this._executeHandlerFb=d=>{},this._csiHandlerFb=(d,v)=>{},this._escHandlerFb=d=>{},this._errorHandlerFb=d=>d,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,m.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new y.OscParser),this._dcsParser=this.register(new T.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(f,d=[64,126]){let v=0;if(f.prefix){if(f.prefix.length>1)throw new Error("only one byte as prefix supported");if(v=f.prefix.charCodeAt(0),v&&60>v||v>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(f.intermediates){if(f.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let x=0;x<f.intermediates.length;++x){const H=f.intermediates.charCodeAt(x);if(32>H||H>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");v<<=8,v|=H}}if(f.final.length!==1)throw new Error("final must be a single byte");const C=f.final.charCodeAt(0);if(d[0]>C||C>d[1])throw new Error(`final must be in range ${d[0]} .. ${d[1]}`);return v<<=8,v|=C,v}identToString(f){const d=[];for(;f;)d.push(String.fromCharCode(255&f)),f>>=8;return d.reverse().join("")}setPrintHandler(f){this._printHandler=f}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(f,d){const v=this._identifier(f,[48,126]);this._escHandlers[v]===void 0&&(this._escHandlers[v]=[]);const C=this._escHandlers[v];return C.push(d),{dispose:()=>{const x=C.indexOf(d);x!==-1&&C.splice(x,1)}}}clearEscHandler(f){this._escHandlers[this._identifier(f,[48,126])]&&delete this._escHandlers[this._identifier(f,[48,126])]}setEscHandlerFallback(f){this._escHandlerFb=f}setExecuteHandler(f,d){this._executeHandlers[f.charCodeAt(0)]=d}clearExecuteHandler(f){this._executeHandlers[f.charCodeAt(0)]&&delete this._executeHandlers[f.charCodeAt(0)]}setExecuteHandlerFallback(f){this._executeHandlerFb=f}registerCsiHandler(f,d){const v=this._identifier(f);this._csiHandlers[v]===void 0&&(this._csiHandlers[v]=[]);const C=this._csiHandlers[v];return C.push(d),{dispose:()=>{const x=C.indexOf(d);x!==-1&&C.splice(x,1)}}}clearCsiHandler(f){this._csiHandlers[this._identifier(f)]&&delete this._csiHandlers[this._identifier(f)]}setCsiHandlerFallback(f){this._csiHandlerFb=f}registerDcsHandler(f,d){return this._dcsParser.registerHandler(this._identifier(f),d)}clearDcsHandler(f){this._dcsParser.clearHandler(this._identifier(f))}setDcsHandlerFallback(f){this._dcsParser.setHandlerFallback(f)}registerOscHandler(f,d){return this._oscParser.registerHandler(f,d)}clearOscHandler(f){this._oscParser.clearHandler(f)}setOscHandlerFallback(f){this._oscParser.setHandlerFallback(f)}setErrorHandler(f){this._errorHandler=f}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(f,d,v,C,x){this._parseStack.state=f,this._parseStack.handlers=d,this._parseStack.handlerPos=v,this._parseStack.transition=C,this._parseStack.chunkPos=x}parse(f,d,v){let C,x=0,H=0,U=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,U=this._parseStack.chunkPos+1;else{if(v===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const E=this._parseStack.handlers;let N=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(v===!1&&N>-1){for(;N>=0&&(C=E[N](this._params),C!==!0);N--)if(C instanceof Promise)return this._parseStack.handlerPos=N,C}this._parseStack.handlers=[];break;case 4:if(v===!1&&N>-1){for(;N>=0&&(C=E[N](),C!==!0);N--)if(C instanceof Promise)return this._parseStack.handlerPos=N,C}this._parseStack.handlers=[];break;case 6:if(x=f[this._parseStack.chunkPos],C=this._dcsParser.unhook(x!==24&&x!==26,v),C)return C;x===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(x=f[this._parseStack.chunkPos],C=this._oscParser.end(x!==24&&x!==26,v),C)return C;x===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,U=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let E=U;E<d;++E){switch(x=f[E],H=this._transitions.table[this.currentState<<8|(x<160?x:k)],H>>4){case 2:for(let ie=E+1;;++ie){if(ie>=d||(x=f[ie])<32||x>126&&x<k){this._printHandler(f,E,ie),E=ie-1;break}if(++ie>=d||(x=f[ie])<32||x>126&&x<k){this._printHandler(f,E,ie),E=ie-1;break}if(++ie>=d||(x=f[ie])<32||x>126&&x<k){this._printHandler(f,E,ie),E=ie-1;break}if(++ie>=d||(x=f[ie])<32||x>126&&x<k){this._printHandler(f,E,ie),E=ie-1;break}}break;case 3:this._executeHandlers[x]?this._executeHandlers[x]():this._executeHandlerFb(x),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:E,code:x,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const N=this._csiHandlers[this._collect<<8|x];let Q=N?N.length-1:-1;for(;Q>=0&&(C=N[Q](this._params),C!==!0);Q--)if(C instanceof Promise)return this._preserveStack(3,N,Q,H,E),C;Q<0&&this._csiHandlerFb(this._collect<<8|x,this._params),this.precedingCodepoint=0;break;case 8:do switch(x){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(x-48)}while(++E<d&&(x=f[E])>47&&x<60);E--;break;case 9:this._collect<<=8,this._collect|=x;break;case 10:const te=this._escHandlers[this._collect<<8|x];let X=te?te.length-1:-1;for(;X>=0&&(C=te[X](),C!==!0);X--)if(C instanceof Promise)return this._preserveStack(4,te,X,H,E),C;X<0&&this._escHandlerFb(this._collect<<8|x),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|x,this._params);break;case 13:for(let ie=E+1;;++ie)if(ie>=d||(x=f[ie])===24||x===26||x===27||x>127&&x<k){this._dcsParser.put(f,E,ie),E=ie-1;break}break;case 14:if(C=this._dcsParser.unhook(x!==24&&x!==26),C)return this._preserveStack(6,[],0,H,E),C;x===27&&(H|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let ie=E+1;;ie++)if(ie>=d||(x=f[ie])<32||x>127&&x<k){this._oscParser.put(f,E,ie),E=ie-1;break}break;case 6:if(C=this._oscParser.end(x!==24&&x!==26),C)return this._preserveStack(5,[],0,H,E),C;x===27&&(H|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&H}}}g.EscapeSequenceParser=A},6242:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.OscHandler=g.OscParser=void 0;const m=_(5770),b=_(482),y=[];g.OscParser=class{constructor(){this._state=0,this._active=y,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(T,M){this._handlers[T]===void 0&&(this._handlers[T]=[]);const k=this._handlers[T];return k.push(M),{dispose:()=>{const A=k.indexOf(M);A!==-1&&k.splice(A,1)}}}clearHandler(T){this._handlers[T]&&delete this._handlers[T]}setHandlerFallback(T){this._handlerFb=T}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=y}reset(){if(this._state===2)for(let T=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;T>=0;--T)this._active[T].end(!1);this._stack.paused=!1,this._active=y,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||y,this._active.length)for(let T=this._active.length-1;T>=0;T--)this._active[T].start();else this._handlerFb(this._id,"START")}_put(T,M,k){if(this._active.length)for(let A=this._active.length-1;A>=0;A--)this._active[A].put(T,M,k);else this._handlerFb(this._id,"PUT",(0,b.utf32ToString)(T,M,k))}start(){this.reset(),this._state=1}put(T,M,k){if(this._state!==3){if(this._state===1)for(;M<k;){const A=T[M++];if(A===59){this._state=2,this._start();break}if(A<48||57<A)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+A-48}this._state===2&&k-M>0&&this._put(T,M,k)}}end(T,M=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let k=!1,A=this._active.length-1,c=!1;if(this._stack.paused&&(A=this._stack.loopPosition-1,k=M,c=this._stack.fallThrough,this._stack.paused=!1),!c&&k===!1){for(;A>=0&&(k=this._active[A].end(T),k!==!0);A--)if(k instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=A,this._stack.fallThrough=!1,k;A--}for(;A>=0;A--)if(k=this._active[A].end(!1),k instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=A,this._stack.fallThrough=!0,k}else this._handlerFb(this._id,"END",T);this._active=y,this._id=-1,this._state=0}}},g.OscHandler=class{constructor(T){this._handler=T,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(T,M,k){this._hitLimit||(this._data+=(0,b.utf32ToString)(T,M,k),this._data.length>m.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(T){let M=!1;if(this._hitLimit)M=!1;else if(T&&(M=this._handler(this._data),M instanceof Promise))return M.then(k=>(this._data="",this._hitLimit=!1,k));return this._data="",this._hitLimit=!1,M}}},8742:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.Params=void 0;const _=2147483647;class m{static fromArray(y){const T=new m;if(!y.length)return T;for(let M=Array.isArray(y[0])?1:0;M<y.length;++M){const k=y[M];if(Array.isArray(k))for(let A=0;A<k.length;++A)T.addSubParam(k[A]);else T.addParam(k)}return T}constructor(y=32,T=32){if(this.maxLength=y,this.maxSubParamsLength=T,T>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(y),this.length=0,this._subParams=new Int32Array(T),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(y),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const y=new m(this.maxLength,this.maxSubParamsLength);return y.params.set(this.params),y.length=this.length,y._subParams.set(this._subParams),y._subParamsLength=this._subParamsLength,y._subParamsIdx.set(this._subParamsIdx),y._rejectDigits=this._rejectDigits,y._rejectSubDigits=this._rejectSubDigits,y._digitIsSub=this._digitIsSub,y}toArray(){const y=[];for(let T=0;T<this.length;++T){y.push(this.params[T]);const M=this._subParamsIdx[T]>>8,k=255&this._subParamsIdx[T];k-M>0&&y.push(Array.prototype.slice.call(this._subParams,M,k))}return y}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(y){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(y<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=y>_?_:y}}addSubParam(y){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(y<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=y>_?_:y,this._subParamsIdx[this.length-1]++}}hasSubParams(y){return(255&this._subParamsIdx[y])-(this._subParamsIdx[y]>>8)>0}getSubParams(y){const T=this._subParamsIdx[y]>>8,M=255&this._subParamsIdx[y];return M-T>0?this._subParams.subarray(T,M):null}getSubParamsAll(){const y={};for(let T=0;T<this.length;++T){const M=this._subParamsIdx[T]>>8,k=255&this._subParamsIdx[T];k-M>0&&(y[T]=this._subParams.slice(M,k))}return y}addDigit(y){let T;if(this._rejectDigits||!(T=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const M=this._digitIsSub?this._subParams:this.params,k=M[T-1];M[T-1]=~k?Math.min(10*k+y,_):y}}g.Params=m},5741:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.AddonManager=void 0,g.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let _=this._addons.length-1;_>=0;_--)this._addons[_].instance.dispose()}loadAddon(_,m){const b={instance:m,dispose:m.dispose,isDisposed:!1};this._addons.push(b),m.dispose=()=>this._wrappedAddonDispose(b),m.activate(_)}_wrappedAddonDispose(_){if(_.isDisposed)return;let m=-1;for(let b=0;b<this._addons.length;b++)if(this._addons[b]===_){m=b;break}if(m===-1)throw new Error("Could not dispose an addon that has not been loaded");_.isDisposed=!0,_.dispose.apply(_.instance),this._addons.splice(m,1)}}},8771:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.BufferApiView=void 0;const m=_(3785),b=_(511);g.BufferApiView=class{constructor(y,T){this._buffer=y,this.type=T}init(y){return this._buffer=y,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(y){const T=this._buffer.lines.get(y);if(T)return new m.BufferLineApiView(T)}getNullCell(){return new b.CellData}}},3785:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.BufferLineApiView=void 0;const m=_(511);g.BufferLineApiView=class{constructor(b){this._line=b}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(b,y){if(!(b<0||b>=this._line.length))return y?(this._line.loadCell(b,y),y):this._line.loadCell(b,new m.CellData)}translateToString(b,y,T){return this._line.translateToString(b,y,T)}}},8285:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.BufferNamespaceApi=void 0;const m=_(8771),b=_(8460),y=_(844);class T extends y.Disposable{constructor(k){super(),this._core=k,this._onBufferChange=this.register(new b.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new m.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new m.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}g.BufferNamespaceApi=T},7975:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.ParserApi=void 0,g.ParserApi=class{constructor(_){this._core=_}registerCsiHandler(_,m){return this._core.registerCsiHandler(_,b=>m(b.toArray()))}addCsiHandler(_,m){return this.registerCsiHandler(_,m)}registerDcsHandler(_,m){return this._core.registerDcsHandler(_,(b,y)=>m(b,y.toArray()))}addDcsHandler(_,m){return this.registerDcsHandler(_,m)}registerEscHandler(_,m){return this._core.registerEscHandler(_,m)}addEscHandler(_,m){return this.registerEscHandler(_,m)}registerOscHandler(_,m){return this._core.registerOscHandler(_,m)}addOscHandler(_,m){return this.registerOscHandler(_,m)}}},7090:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.UnicodeApi=void 0,g.UnicodeApi=class{constructor(_){this._core=_}register(_){this._core.unicodeService.register(_)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(_){this._core.unicodeService.activeVersion=_}}},744:function($,g,_){var m=this&&this.__decorate||function(c,f,d,v){var C,x=arguments.length,H=x<3?f:v===null?v=Object.getOwnPropertyDescriptor(f,d):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(c,f,d,v);else for(var U=c.length-1;U>=0;U--)(C=c[U])&&(H=(x<3?C(H):x>3?C(f,d,H):C(f,d))||H);return x>3&&H&&Object.defineProperty(f,d,H),H},b=this&&this.__param||function(c,f){return function(d,v){f(d,v,c)}};Object.defineProperty(g,"__esModule",{value:!0}),g.BufferService=g.MINIMUM_ROWS=g.MINIMUM_COLS=void 0;const y=_(8460),T=_(844),M=_(5295),k=_(2585);g.MINIMUM_COLS=2,g.MINIMUM_ROWS=1;let A=g.BufferService=class extends T.Disposable{get buffer(){return this.buffers.active}constructor(c){super(),this.isUserScrolling=!1,this._onResize=this.register(new y.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new y.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(c.rawOptions.cols||0,g.MINIMUM_COLS),this.rows=Math.max(c.rawOptions.rows||0,g.MINIMUM_ROWS),this.buffers=this.register(new M.BufferSet(c,this))}resize(c,f){this.cols=c,this.rows=f,this.buffers.resize(c,f),this._onResize.fire({cols:c,rows:f})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(c,f=!1){const d=this.buffer;let v;v=this._cachedBlankLine,v&&v.length===this.cols&&v.getFg(0)===c.fg&&v.getBg(0)===c.bg||(v=d.getBlankLine(c,f),this._cachedBlankLine=v),v.isWrapped=f;const C=d.ybase+d.scrollTop,x=d.ybase+d.scrollBottom;if(d.scrollTop===0){const H=d.lines.isFull;x===d.lines.length-1?H?d.lines.recycle().copyFrom(v):d.lines.push(v.clone()):d.lines.splice(x+1,0,v.clone()),H?this.isUserScrolling&&(d.ydisp=Math.max(d.ydisp-1,0)):(d.ybase++,this.isUserScrolling||d.ydisp++)}else{const H=x-C+1;d.lines.shiftElements(C+1,H-1,-1),d.lines.set(x,v.clone())}this.isUserScrolling||(d.ydisp=d.ybase),this._onScroll.fire(d.ydisp)}scrollLines(c,f,d){const v=this.buffer;if(c<0){if(v.ydisp===0)return;this.isUserScrolling=!0}else c+v.ydisp>=v.ybase&&(this.isUserScrolling=!1);const C=v.ydisp;v.ydisp=Math.max(Math.min(v.ydisp+c,v.ybase),0),C!==v.ydisp&&(f||this._onScroll.fire(v.ydisp))}};g.BufferService=A=m([b(0,k.IOptionsService)],A)},7994:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.CharsetService=void 0,g.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(_){this.glevel=_,this.charset=this._charsets[_]}setgCharset(_,m){this._charsets[_]=m,this.glevel===_&&(this.charset=m)}}},1753:function($,g,_){var m=this&&this.__decorate||function(v,C,x,H){var U,E=arguments.length,N=E<3?C:H===null?H=Object.getOwnPropertyDescriptor(C,x):H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(v,C,x,H);else for(var Q=v.length-1;Q>=0;Q--)(U=v[Q])&&(N=(E<3?U(N):E>3?U(C,x,N):U(C,x))||N);return E>3&&N&&Object.defineProperty(C,x,N),N},b=this&&this.__param||function(v,C){return function(x,H){C(x,H,v)}};Object.defineProperty(g,"__esModule",{value:!0}),g.CoreMouseService=void 0;const y=_(2585),T=_(8460),M=_(844),k={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:v=>v.button!==4&&v.action===1&&(v.ctrl=!1,v.alt=!1,v.shift=!1,!0)},VT200:{events:19,restrict:v=>v.action!==32},DRAG:{events:23,restrict:v=>v.action!==32||v.button!==3},ANY:{events:31,restrict:v=>!0}};function A(v,C){let x=(v.ctrl?16:0)|(v.shift?4:0)|(v.alt?8:0);return v.button===4?(x|=64,x|=v.action):(x|=3&v.button,4&v.button&&(x|=64),8&v.button&&(x|=128),v.action===32?x|=32:v.action!==0||C||(x|=3)),x}const c=String.fromCharCode,f={DEFAULT:v=>{const C=[A(v,!1)+32,v.col+32,v.row+32];return C[0]>255||C[1]>255||C[2]>255?"":`\x1B[M${c(C[0])}${c(C[1])}${c(C[2])}`},SGR:v=>{const C=v.action===0&&v.button!==4?"m":"M";return`\x1B[<${A(v,!0)};${v.col};${v.row}${C}`},SGR_PIXELS:v=>{const C=v.action===0&&v.button!==4?"m":"M";return`\x1B[<${A(v,!0)};${v.x};${v.y}${C}`}};let d=g.CoreMouseService=class extends M.Disposable{constructor(v,C){super(),this._bufferService=v,this._coreService=C,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new T.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const x of Object.keys(k))this.addProtocol(x,k[x]);for(const x of Object.keys(f))this.addEncoding(x,f[x]);this.reset()}addProtocol(v,C){this._protocols[v]=C}addEncoding(v,C){this._encodings[v]=C}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(v){if(!this._protocols[v])throw new Error(`unknown protocol "${v}"`);this._activeProtocol=v,this._onProtocolChange.fire(this._protocols[v].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(v){if(!this._encodings[v])throw new Error(`unknown encoding "${v}"`);this._activeEncoding=v}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(v){if(v.col<0||v.col>=this._bufferService.cols||v.row<0||v.row>=this._bufferService.rows||v.button===4&&v.action===32||v.button===3&&v.action!==32||v.button!==4&&(v.action===2||v.action===3)||(v.col++,v.row++,v.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,v,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(v))return!1;const C=this._encodings[this._activeEncoding](v);return C&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(C):this._coreService.triggerDataEvent(C,!0)),this._lastEvent=v,!0}explainEvents(v){return{down:!!(1&v),up:!!(2&v),drag:!!(4&v),move:!!(8&v),wheel:!!(16&v)}}_equalEvents(v,C,x){if(x){if(v.x!==C.x||v.y!==C.y)return!1}else if(v.col!==C.col||v.row!==C.row)return!1;return v.button===C.button&&v.action===C.action&&v.ctrl===C.ctrl&&v.alt===C.alt&&v.shift===C.shift}};g.CoreMouseService=d=m([b(0,y.IBufferService),b(1,y.ICoreService)],d)},6975:function($,g,_){var m=this&&this.__decorate||function(d,v,C,x){var H,U=arguments.length,E=U<3?v:x===null?x=Object.getOwnPropertyDescriptor(v,C):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(d,v,C,x);else for(var N=d.length-1;N>=0;N--)(H=d[N])&&(E=(U<3?H(E):U>3?H(v,C,E):H(v,C))||E);return U>3&&E&&Object.defineProperty(v,C,E),E},b=this&&this.__param||function(d,v){return function(C,x){v(C,x,d)}};Object.defineProperty(g,"__esModule",{value:!0}),g.CoreService=void 0;const y=_(1439),T=_(8460),M=_(844),k=_(2585),A=Object.freeze({insertMode:!1}),c=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let f=g.CoreService=class extends M.Disposable{constructor(d,v,C){super(),this._bufferService=d,this._logService=v,this._optionsService=C,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new T.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new T.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new T.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new T.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,y.clone)(A),this.decPrivateModes=(0,y.clone)(c)}reset(){this.modes=(0,y.clone)(A),this.decPrivateModes=(0,y.clone)(c)}triggerDataEvent(d,v=!1){if(this._optionsService.rawOptions.disableStdin)return;const C=this._bufferService.buffer;v&&this._optionsService.rawOptions.scrollOnUserInput&&C.ybase!==C.ydisp&&this._onRequestScrollToBottom.fire(),v&&this._onUserInput.fire(),this._logService.debug(`sending data "${d}"`,()=>d.split("").map(x=>x.charCodeAt(0))),this._onData.fire(d)}triggerBinaryEvent(d){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${d}"`,()=>d.split("").map(v=>v.charCodeAt(0))),this._onBinary.fire(d))}};g.CoreService=f=m([b(0,k.IBufferService),b(1,k.ILogService),b(2,k.IOptionsService)],f)},9074:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.DecorationService=void 0;const m=_(8055),b=_(8460),y=_(844),T=_(6106);let M=0,k=0;class A extends y.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new T.SortedList(d=>d==null?void 0:d.marker.line),this._onDecorationRegistered=this.register(new b.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new b.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,y.toDisposable)(()=>this.reset()))}registerDecoration(d){if(d.marker.isDisposed)return;const v=new c(d);if(v){const C=v.marker.onDispose(()=>v.dispose());v.onDispose(()=>{v&&(this._decorations.delete(v)&&this._onDecorationRemoved.fire(v),C.dispose())}),this._decorations.insert(v),this._onDecorationRegistered.fire(v)}return v}reset(){for(const d of this._decorations.values())d.dispose();this._decorations.clear()}*getDecorationsAtCell(d,v,C){var x,H,U;let E=0,N=0;for(const Q of this._decorations.getKeyIterator(v))E=(x=Q.options.x)!==null&&x!==void 0?x:0,N=E+((H=Q.options.width)!==null&&H!==void 0?H:1),d>=E&&d<N&&(!C||((U=Q.options.layer)!==null&&U!==void 0?U:"bottom")===C)&&(yield Q)}forEachDecorationAtCell(d,v,C,x){this._decorations.forEachByKey(v,H=>{var U,E,N;M=(U=H.options.x)!==null&&U!==void 0?U:0,k=M+((E=H.options.width)!==null&&E!==void 0?E:1),d>=M&&d<k&&(!C||((N=H.options.layer)!==null&&N!==void 0?N:"bottom")===C)&&x(H)})}}g.DecorationService=A;class c extends y.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=m.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=m.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(d){super(),this.options=d,this.onRenderEmitter=this.register(new b.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new b.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=d.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.InstantiationService=g.ServiceCollection=void 0;const m=_(2585),b=_(8343);class y{constructor(...M){this._entries=new Map;for(const[k,A]of M)this.set(k,A)}set(M,k){const A=this._entries.get(M);return this._entries.set(M,k),A}forEach(M){for(const[k,A]of this._entries.entries())M(k,A)}has(M){return this._entries.has(M)}get(M){return this._entries.get(M)}}g.ServiceCollection=y,g.InstantiationService=class{constructor(){this._services=new y,this._services.set(m.IInstantiationService,this)}setService(T,M){this._services.set(T,M)}getService(T){return this._services.get(T)}createInstance(T,...M){const k=(0,b.getServiceDependencies)(T).sort((f,d)=>f.index-d.index),A=[];for(const f of k){const d=this._services.get(f.id);if(!d)throw new Error(`[createInstance] ${T.name} depends on UNKNOWN service ${f.id}.`);A.push(d)}const c=k.length>0?k[0].index:M.length;if(M.length!==c)throw new Error(`[createInstance] First service dependency of ${T.name} at position ${c+1} conflicts with ${M.length} static arguments`);return new T(...M,...A)}}},7866:function($,g,_){var m=this&&this.__decorate||function(c,f,d,v){var C,x=arguments.length,H=x<3?f:v===null?v=Object.getOwnPropertyDescriptor(f,d):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(c,f,d,v);else for(var U=c.length-1;U>=0;U--)(C=c[U])&&(H=(x<3?C(H):x>3?C(f,d,H):C(f,d))||H);return x>3&&H&&Object.defineProperty(f,d,H),H},b=this&&this.__param||function(c,f){return function(d,v){f(d,v,c)}};Object.defineProperty(g,"__esModule",{value:!0}),g.traceCall=g.setTraceLogger=g.LogService=void 0;const y=_(844),T=_(2585),M={trace:T.LogLevelEnum.TRACE,debug:T.LogLevelEnum.DEBUG,info:T.LogLevelEnum.INFO,warn:T.LogLevelEnum.WARN,error:T.LogLevelEnum.ERROR,off:T.LogLevelEnum.OFF};let k,A=g.LogService=class extends y.Disposable{get logLevel(){return this._logLevel}constructor(c){super(),this._optionsService=c,this._logLevel=T.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),k=this}_updateLogLevel(){this._logLevel=M[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(c){for(let f=0;f<c.length;f++)typeof c[f]=="function"&&(c[f]=c[f]())}_log(c,f,d){this._evalLazyOptionalParams(d),c.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+f,...d)}trace(c,...f){var d,v;this._logLevel<=T.LogLevelEnum.TRACE&&this._log((v=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.trace.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.log,c,f)}debug(c,...f){var d,v;this._logLevel<=T.LogLevelEnum.DEBUG&&this._log((v=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.debug.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.log,c,f)}info(c,...f){var d,v;this._logLevel<=T.LogLevelEnum.INFO&&this._log((v=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.info.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.info,c,f)}warn(c,...f){var d,v;this._logLevel<=T.LogLevelEnum.WARN&&this._log((v=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.warn.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.warn,c,f)}error(c,...f){var d,v;this._logLevel<=T.LogLevelEnum.ERROR&&this._log((v=(d=this._optionsService.options.logger)===null||d===void 0?void 0:d.error.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.error,c,f)}};g.LogService=A=m([b(0,T.IOptionsService)],A),g.setTraceLogger=function(c){k=c},g.traceCall=function(c,f,d){if(typeof d.value!="function")throw new Error("not supported");const v=d.value;d.value=function(...C){if(k.logLevel!==T.LogLevelEnum.TRACE)return v.apply(this,C);k.trace(`GlyphRenderer#${v.name}(${C.map(H=>JSON.stringify(H)).join(", ")})`);const x=v.apply(this,C);return k.trace(`GlyphRenderer#${v.name} return`,x),x}}},7302:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.OptionsService=g.DEFAULT_OPTIONS=void 0;const m=_(8460),b=_(844),y=_(6114);g.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:y.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const T=["normal","bold","100","200","300","400","500","600","700","800","900"];class M extends b.Disposable{constructor(A){super(),this._onOptionChange=this.register(new m.EventEmitter),this.onOptionChange=this._onOptionChange.event;const c=Object.assign({},g.DEFAULT_OPTIONS);for(const f in A)if(f in c)try{const d=A[f];c[f]=this._sanitizeAndValidateOption(f,d)}catch(d){console.error(d)}this.rawOptions=c,this.options=Object.assign({},c),this._setupOptions()}onSpecificOptionChange(A,c){return this.onOptionChange(f=>{f===A&&c(this.rawOptions[A])})}onMultipleOptionChange(A,c){return this.onOptionChange(f=>{A.indexOf(f)!==-1&&c()})}_setupOptions(){const A=f=>{if(!(f in g.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);return this.rawOptions[f]},c=(f,d)=>{if(!(f in g.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);d=this._sanitizeAndValidateOption(f,d),this.rawOptions[f]!==d&&(this.rawOptions[f]=d,this._onOptionChange.fire(f))};for(const f in this.rawOptions){const d={get:A.bind(this,f),set:c.bind(this,f)};Object.defineProperty(this.options,f,d)}}_sanitizeAndValidateOption(A,c){switch(A){case"cursorStyle":if(c||(c=g.DEFAULT_OPTIONS[A]),!function(f){return f==="block"||f==="underline"||f==="bar"}(c))throw new Error(`"${c}" is not a valid value for ${A}`);break;case"wordSeparator":c||(c=g.DEFAULT_OPTIONS[A]);break;case"fontWeight":case"fontWeightBold":if(typeof c=="number"&&1<=c&&c<=1e3)break;c=T.includes(c)?c:g.DEFAULT_OPTIONS[A];break;case"cursorWidth":c=Math.floor(c);case"lineHeight":case"tabStopWidth":if(c<1)throw new Error(`${A} cannot be less than 1, value: ${c}`);break;case"minimumContrastRatio":c=Math.max(1,Math.min(21,Math.round(10*c)/10));break;case"scrollback":if((c=Math.min(c,4294967295))<0)throw new Error(`${A} cannot be less than 0, value: ${c}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(c<=0)throw new Error(`${A} cannot be less than or equal to 0, value: ${c}`);break;case"rows":case"cols":if(!c&&c!==0)throw new Error(`${A} must be numeric, value: ${c}`);break;case"windowsPty":c=c??{}}return c}}g.OptionsService=M},2660:function($,g,_){var m=this&&this.__decorate||function(M,k,A,c){var f,d=arguments.length,v=d<3?k:c===null?c=Object.getOwnPropertyDescriptor(k,A):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(M,k,A,c);else for(var C=M.length-1;C>=0;C--)(f=M[C])&&(v=(d<3?f(v):d>3?f(k,A,v):f(k,A))||v);return d>3&&v&&Object.defineProperty(k,A,v),v},b=this&&this.__param||function(M,k){return function(A,c){k(A,c,M)}};Object.defineProperty(g,"__esModule",{value:!0}),g.OscLinkService=void 0;const y=_(2585);let T=g.OscLinkService=class{constructor(M){this._bufferService=M,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(M){const k=this._bufferService.buffer;if(M.id===void 0){const C=k.addMarker(k.ybase+k.y),x={data:M,id:this._nextId++,lines:[C]};return C.onDispose(()=>this._removeMarkerFromLink(x,C)),this._dataByLinkId.set(x.id,x),x.id}const A=M,c=this._getEntryIdKey(A),f=this._entriesWithId.get(c);if(f)return this.addLineToLink(f.id,k.ybase+k.y),f.id;const d=k.addMarker(k.ybase+k.y),v={id:this._nextId++,key:this._getEntryIdKey(A),data:A,lines:[d]};return d.onDispose(()=>this._removeMarkerFromLink(v,d)),this._entriesWithId.set(v.key,v),this._dataByLinkId.set(v.id,v),v.id}addLineToLink(M,k){const A=this._dataByLinkId.get(M);if(A&&A.lines.every(c=>c.line!==k)){const c=this._bufferService.buffer.addMarker(k);A.lines.push(c),c.onDispose(()=>this._removeMarkerFromLink(A,c))}}getLinkData(M){var k;return(k=this._dataByLinkId.get(M))===null||k===void 0?void 0:k.data}_getEntryIdKey(M){return`${M.id};;${M.uri}`}_removeMarkerFromLink(M,k){const A=M.lines.indexOf(k);A!==-1&&(M.lines.splice(A,1),M.lines.length===0&&(M.data.id!==void 0&&this._entriesWithId.delete(M.key),this._dataByLinkId.delete(M.id)))}};g.OscLinkService=T=m([b(0,y.IBufferService)],T)},8343:($,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.createDecorator=g.getServiceDependencies=g.serviceRegistry=void 0;const _="di$target",m="di$dependencies";g.serviceRegistry=new Map,g.getServiceDependencies=function(b){return b[m]||[]},g.createDecorator=function(b){if(g.serviceRegistry.has(b))return g.serviceRegistry.get(b);const y=function(T,M,k){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(A,c,f){c[_]===c?c[m].push({id:A,index:f}):(c[m]=[{id:A,index:f}],c[_]=c)})(y,T,k)};return y.toString=()=>b,g.serviceRegistry.set(b,y),y}},2585:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.IDecorationService=g.IUnicodeService=g.IOscLinkService=g.IOptionsService=g.ILogService=g.LogLevelEnum=g.IInstantiationService=g.ICharsetService=g.ICoreService=g.ICoreMouseService=g.IBufferService=void 0;const m=_(8343);var b;g.IBufferService=(0,m.createDecorator)("BufferService"),g.ICoreMouseService=(0,m.createDecorator)("CoreMouseService"),g.ICoreService=(0,m.createDecorator)("CoreService"),g.ICharsetService=(0,m.createDecorator)("CharsetService"),g.IInstantiationService=(0,m.createDecorator)("InstantiationService"),function(y){y[y.TRACE=0]="TRACE",y[y.DEBUG=1]="DEBUG",y[y.INFO=2]="INFO",y[y.WARN=3]="WARN",y[y.ERROR=4]="ERROR",y[y.OFF=5]="OFF"}(b||(g.LogLevelEnum=b={})),g.ILogService=(0,m.createDecorator)("LogService"),g.IOptionsService=(0,m.createDecorator)("OptionsService"),g.IOscLinkService=(0,m.createDecorator)("OscLinkService"),g.IUnicodeService=(0,m.createDecorator)("UnicodeService"),g.IDecorationService=(0,m.createDecorator)("DecorationService")},1480:($,g,_)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.UnicodeService=void 0;const m=_(8460),b=_(225);g.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new m.EventEmitter,this.onChange=this._onChange.event;const y=new b.UnicodeV6;this.register(y),this._active=y.version,this._activeProvider=y}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(y){if(!this._providers[y])throw new Error(`unknown Unicode version "${y}"`);this._active=y,this._activeProvider=this._providers[y],this._onChange.fire(y)}register(y){this._providers[y.version]=y}wcwidth(y){return this._activeProvider.wcwidth(y)}getStringCellWidth(y){let T=0;const M=y.length;for(let k=0;k<M;++k){let A=y.charCodeAt(k);if(55296<=A&&A<=56319){if(++k>=M)return T+this.wcwidth(A);const c=y.charCodeAt(k);56320<=c&&c<=57343?A=1024*(A-55296)+c-56320+65536:T+=this.wcwidth(c)}T+=this.wcwidth(A)}return T}}}},P={};function Z($){var g=P[$];if(g!==void 0)return g.exports;var _=P[$]={exports:{}};return I[$].call(_.exports,_,_.exports,Z),_.exports}var le={};return(()=>{var $=le;Object.defineProperty($,"__esModule",{value:!0}),$.Terminal=void 0;const g=Z(9042),_=Z(3236),m=Z(844),b=Z(5741),y=Z(8285),T=Z(7975),M=Z(7090),k=["cols","rows"];class A extends m.Disposable{constructor(f){super(),this._core=this.register(new _.Terminal(f)),this._addonManager=this.register(new b.AddonManager),this._publicOptions=Object.assign({},this._core.options);const d=C=>this._core.options[C],v=(C,x)=>{this._checkReadonlyOptions(C),this._core.options[C]=x};for(const C in this._core.options){const x={get:d.bind(this,C),set:v.bind(this,C)};Object.defineProperty(this._publicOptions,C,x)}}_checkReadonlyOptions(f){if(k.includes(f))throw new Error(`Option "${f}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new T.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new M.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new y.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const f=this._core.coreService.decPrivateModes;let d="none";switch(this._core.coreMouseService.activeProtocol){case"X10":d="x10";break;case"VT200":d="vt200";break;case"DRAG":d="drag";break;case"ANY":d="any"}return{applicationCursorKeysMode:f.applicationCursorKeys,applicationKeypadMode:f.applicationKeypad,bracketedPasteMode:f.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:d,originMode:f.origin,reverseWraparoundMode:f.reverseWraparound,sendFocusMode:f.sendFocus,wraparoundMode:f.wraparound}}get options(){return this._publicOptions}set options(f){for(const d in f)this._publicOptions[d]=f[d]}blur(){this._core.blur()}focus(){this._core.focus()}resize(f,d){this._verifyIntegers(f,d),this._core.resize(f,d)}open(f){this._core.open(f)}attachCustomKeyEventHandler(f){this._core.attachCustomKeyEventHandler(f)}registerLinkProvider(f){return this._core.registerLinkProvider(f)}registerCharacterJoiner(f){return this._checkProposedApi(),this._core.registerCharacterJoiner(f)}deregisterCharacterJoiner(f){this._checkProposedApi(),this._core.deregisterCharacterJoiner(f)}registerMarker(f=0){return this._verifyIntegers(f),this._core.registerMarker(f)}registerDecoration(f){var d,v,C;return this._checkProposedApi(),this._verifyPositiveIntegers((d=f.x)!==null&&d!==void 0?d:0,(v=f.width)!==null&&v!==void 0?v:0,(C=f.height)!==null&&C!==void 0?C:0),this._core.registerDecoration(f)}hasSelection(){return this._core.hasSelection()}select(f,d,v){this._verifyIntegers(f,d,v),this._core.select(f,d,v)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(f,d){this._verifyIntegers(f,d),this._core.selectLines(f,d)}dispose(){super.dispose()}scrollLines(f){this._verifyIntegers(f),this._core.scrollLines(f)}scrollPages(f){this._verifyIntegers(f),this._core.scrollPages(f)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(f){this._verifyIntegers(f),this._core.scrollToLine(f)}clear(){this._core.clear()}write(f,d){this._core.write(f,d)}writeln(f,d){this._core.write(f),this._core.write(`\r
`,d)}paste(f){this._core.paste(f)}refresh(f,d){this._verifyIntegers(f,d),this._core.refresh(f,d)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(f){this._addonManager.loadAddon(this,f)}static get strings(){return g}_verifyIntegers(...f){for(const d of f)if(d===1/0||isNaN(d)||d%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...f){for(const d of f)if(d&&(d===1/0||isNaN(d)||d%1!=0||d<0))throw new Error("This API only accepts positive integers")}}$.Terminal=A})(),le})())}(td)),td.exports}var V_=Q_(),id={exports:{}},rp;function J_(){return rp||(rp=1,function(L,W){(function(I,P){L.exports=P()})(self,()=>(()=>{var I={};return(()=>{var P=I;Object.defineProperty(P,"__esModule",{value:!0}),P.FitAddon=void 0,P.FitAddon=class{activate(Z){this._terminal=Z}dispose(){}fit(){const Z=this.proposeDimensions();if(!Z||!this._terminal||isNaN(Z.cols)||isNaN(Z.rows))return;const le=this._terminal._core;this._terminal.rows===Z.rows&&this._terminal.cols===Z.cols||(le._renderService.clear(),this._terminal.resize(Z.cols,Z.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const Z=this._terminal._core,le=Z._renderService.dimensions;if(le.css.cell.width===0||le.css.cell.height===0)return;const $=this._terminal.options.scrollback===0?0:Z.viewport.scrollBarWidth,g=window.getComputedStyle(this._terminal.element.parentElement),_=parseInt(g.getPropertyValue("height")),m=Math.max(0,parseInt(g.getPropertyValue("width"))),b=window.getComputedStyle(this._terminal.element),y=_-(parseInt(b.getPropertyValue("padding-top"))+parseInt(b.getPropertyValue("padding-bottom"))),T=m-(parseInt(b.getPropertyValue("padding-right"))+parseInt(b.getPropertyValue("padding-left")))-$;return{cols:Math.max(2,Math.floor(T/le.css.cell.width)),rows:Math.max(1,Math.floor(y/le.css.cell.height))}}}})(),I})())}(id)),id.exports}var $_=J_();function e0(){const[L,W]=st.useState(!1),[I,P]=st.useState(400),[Z,le]=st.useState(!1),[$,g]=st.useState(""),[_,m]=st.useState("cli"),[b,y]=st.useState(""),T=st.useRef(null),M=st.useRef(null),k=st.useRef(null),A=st.useRef(null),c=()=>le(!0),f=()=>le(!1),d=v=>{if(!Z)return;const C=window.innerHeight-v.clientY;P(Math.max(C,100))};return st.useEffect(()=>(window.addEventListener("mousemove",d),window.addEventListener("mouseup",f),()=>{window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",f)}),[Z]),st.useEffect(()=>{const v=new V_.Terminal,C=new $_.FitAddon;v.loadAddon(C),v.open(T.current),C.fit(),M.current=v,k.current=C;const x=()=>C.fit();window.addEventListener("resize",x);const H=new WebSocket("ws://localhost:8000/ws");return A.current=H,H.onopen=()=>{v.write(`\r
🟢 연결됨. 명령을 입력하세요.\r
`),v.onData(U=>H.send(U))},H.onmessage=U=>v.write(U.data),H.onclose=()=>v.write(`\r
🔴 연결 종료됨\r
`),()=>{window.removeEventListener("resize",x);try{H.close()}catch{}window.removeEventListener("resize",x);try{H.close()}catch{}v.dispose(),M.current=null,k.current=null,M.current=null,k.current=null}},[]),Te.jsxs("div",{className:"flex flex-col h-screen",children:[Te.jsx(O_,{onRun:v=>{W(!0),y(v)},code:$,setMode:m,mode:_,setUrl:y}),Te.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[Te.jsx(P_,{}),Te.jsx("div",{className:"w-1 bg-[#333] sidebar-resize"}),Te.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[Te.jsx(I_,{}),Te.jsx(Y_,{setCode:g}),Te.jsx("div",{className:"h-1 bg-[#333] cursor-row-resize",onMouseDown:c}),Te.jsx("div",{style:{height:`${I}px`},className:"overflow-hidden",children:Te.jsx(X_,{mode:_,termRef:T})})]})]}),L&&Te.jsx(Z_,{url:b,onClose:()=>W(!1)})]})}const t0=y_({reducer:{user:mp.reducer,project:Sp.reducer,openPage:yp.reducer}});Ag.createRoot(document.getElementById("root")).render(Te.jsx(qg,{store:t0,children:Te.jsx(e0,{})}));
